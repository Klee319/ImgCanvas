var Q0=Object.defineProperty;var Z0=(e,t,n)=>t in e?Q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Do=(e,t,n)=>Z0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hf={exports:{}},Qi={},Kf={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),J0=Symbol.for("react.portal"),eg=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),rg=Symbol.for("react.provider"),sg=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),og=Symbol.for("react.suspense"),ag=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),dc=Symbol.iterator;function ug(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var Yf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gf=Object.assign,Xf={};function pr(e,t,n){this.props=e,this.context=t,this.refs=Xf,this.updater=n||Yf}pr.prototype.isReactComponent={};pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qf(){}Qf.prototype=pr.prototype;function Al(e,t,n){this.props=e,this.context=t,this.refs=Xf,this.updater=n||Yf}var Ll=Al.prototype=new Qf;Ll.constructor=Al;Gf(Ll,pr.prototype);Ll.isPureReactComponent=!0;var fc=Array.isArray,Zf=Object.prototype.hasOwnProperty,Nl={current:null},qf={key:!0,ref:!0,__self:!0,__source:!0};function Jf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Zf.call(t,r)&&!qf.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ss,type:e,key:i,ref:o,props:s,_owner:Nl.current}}function cg(e,t){return{$$typeof:Ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _l(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function dg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hc=/\/+/g;function Ro(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dg(""+e.key):t.toString(36)}function ti(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ss:case J0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ro(o,0):r,fc(s)?(n="",e!=null&&(n=e.replace(hc,"$&/")+"/"),ti(s,t,n,"",function(u){return u})):s!=null&&(_l(s)&&(s=cg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",fc(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ro(i,a);o+=ti(i,t,n,l,s)}else if(l=ug(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ro(i,a++),o+=ti(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function As(e,t,n){if(e==null)return e;var r=[],s=0;return ti(e,r,"","",function(i){return t.call(n,i,s++)}),r}function fg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Me={current:null},ni={transition:null},hg={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:ni,ReactCurrentOwner:Nl};function eh(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:As,forEach:function(e,t,n){As(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return As(e,function(){t++}),t},toArray:function(e){return As(e,function(t){return t})||[]},only:function(e){if(!_l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=pr;$.Fragment=eg;$.Profiler=ng;$.PureComponent=Al;$.StrictMode=tg;$.Suspense=og;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hg;$.act=eh;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Nl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Zf.call(t,l)&&!qf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ss,type:e.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:sg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rg,_context:e},e.Consumer=e};$.createElement=Jf;$.createFactory=function(e){var t=Jf.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:ig,render:e}};$.isValidElement=_l;$.lazy=function(e){return{$$typeof:lg,_payload:{_status:-1,_result:e},_init:fg}};$.memo=function(e,t){return{$$typeof:ag,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=ni.transition;ni.transition={};try{e()}finally{ni.transition=t}};$.unstable_act=eh;$.useCallback=function(e,t){return Me.current.useCallback(e,t)};$.useContext=function(e){return Me.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return Me.current.useDeferredValue(e)};$.useEffect=function(e,t){return Me.current.useEffect(e,t)};$.useId=function(){return Me.current.useId()};$.useImperativeHandle=function(e,t,n){return Me.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Me.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Me.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Me.current.useMemo(e,t)};$.useReducer=function(e,t,n){return Me.current.useReducer(e,t,n)};$.useRef=function(e){return Me.current.useRef(e)};$.useState=function(e){return Me.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return Me.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Me.current.useTransition()};$.version="18.3.1";Kf.exports=$;var v=Kf.exports;const pg=q0(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=v,gg=Symbol.for("react.element"),yg=Symbol.for("react.fragment"),vg=Object.prototype.hasOwnProperty,xg=mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wg={key:!0,ref:!0,__self:!0,__source:!0};function th(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)vg.call(t,r)&&!wg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:gg,type:e,key:i,ref:o,props:s,_owner:xg.current}}Qi.Fragment=yg;Qi.jsx=th;Qi.jsxs=th;Hf.exports=Qi;var m=Hf.exports,va={},nh={exports:{}},He={},rh={exports:{}},sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,V){var F=R.length;R.push(V);e:for(;0<F;){var Q=F-1>>>1,G=R[Q];if(0<s(G,V))R[Q]=V,R[F]=G,F=Q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var V=R[0],F=R.pop();if(F!==V){R[0]=F;e:for(var Q=0,G=R.length,At=G>>>1;Q<At;){var vt=2*(Q+1)-1,xr=R[vt],ct=vt+1,on=R[ct];if(0>s(xr,F))ct<G&&0>s(on,xr)?(R[Q]=on,R[ct]=F,Q=ct):(R[Q]=xr,R[vt]=F,Q=vt);else if(ct<G&&0>s(on,F))R[Q]=on,R[ct]=F,Q=ct;else break e}}return V}function s(R,V){var F=R.sortIndex-V.sortIndex;return F!==0?F:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,y=!1,k=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=R)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function S(R){if(w=!1,g(R),!k)if(n(l)!==null)k=!0,me(x);else{var V=n(u);V!==null&&L(S,V.startTime-R)}}function x(R,V){k=!1,w&&(w=!1,h(P),P=-1),y=!0;var F=p;try{for(g(V),f=n(l);f!==null&&(!(f.expirationTime>V)||R&&!I());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var G=Q(f.expirationTime<=V);V=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),g(V)}else r(l);f=n(l)}if(f!==null)var At=!0;else{var vt=n(u);vt!==null&&L(S,vt.startTime-V),At=!1}return At}finally{f=null,p=F,y=!1}}var C=!1,T=null,P=-1,D=5,b=-1;function I(){return!(e.unstable_now()-b<D)}function O(){if(T!==null){var R=e.unstable_now();b=R;var V=!0;try{V=T(!0,R)}finally{V?z():(C=!1,T=null)}}else C=!1}var z;if(typeof d=="function")z=function(){d(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=O,z=function(){Y.postMessage(null)}}else z=function(){E(O,0)};function me(R){T=R,C||(C=!0,z())}function L(R,V){P=E(function(){R(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,me(x))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var F=p;p=V;try{return R()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=p;p=R;try{return V()}finally{p=F}},e.unstable_scheduleCallback=function(R,V,F){var Q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,R={id:c++,callback:V,priorityLevel:R,startTime:F,expirationTime:G,sortIndex:-1},F>Q?(R.sortIndex=F,t(u,R),n(l)===null&&R===n(u)&&(w?(h(P),P=-1):w=!0,L(S,F-Q))):(R.sortIndex=G,t(l,R),k||y||(k=!0,me(x))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var V=p;return function(){var F=p;p=V;try{return R.apply(this,arguments)}finally{p=F}}}})(sh);rh.exports=sh;var kg=rh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=v,Be=kg;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ih=new Set,Zr={};function bn(e,t){nr(e,t),nr(e+"Capture",t)}function nr(e,t){for(Zr[e]=t,e=0;e<t.length;e++)ih.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=Object.prototype.hasOwnProperty,Eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pc={},mc={};function Cg(e){return xa.call(mc,e)?!0:xa.call(pc,e)?!1:Eg.test(e)?mc[e]=!0:(pc[e]=!0,!1)}function Tg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pg(e,t,n,r){if(t===null||typeof t>"u"||Tg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vl=/[\-:]([a-z])/g;function Ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vl,Ol);we[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vl,Ol);we[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vl,Ol);we[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fl(e,t,n,r){var s=we.hasOwnProperty(t)?we[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pg(t,n,s,r)&&(n=null),r||s===null?Cg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rt=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.element"),An=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),zl=Symbol.for("react.strict_mode"),wa=Symbol.for("react.profiler"),oh=Symbol.for("react.provider"),ah=Symbol.for("react.context"),Bl=Symbol.for("react.forward_ref"),ka=Symbol.for("react.suspense"),Sa=Symbol.for("react.suspense_list"),$l=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),lh=Symbol.for("react.offscreen"),gc=Symbol.iterator;function Sr(e){return e===null||typeof e!="object"?null:(e=gc&&e[gc]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Io;function Rr(e){if(Io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Io=t&&t[1]||""}return`
`+Io+e}var Ao=!1;function Lo(e,t){if(!e||Ao)return"";Ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ao=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rr(e):""}function bg(e){switch(e.tag){case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return e=Lo(e.type,!1),e;case 11:return e=Lo(e.type.render,!1),e;case 1:return e=Lo(e.type,!0),e;default:return""}}function Ea(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case An:return"Portal";case wa:return"Profiler";case zl:return"StrictMode";case ka:return"Suspense";case Sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ah:return(e.displayName||"Context")+".Consumer";case oh:return(e._context.displayName||"Context")+".Provider";case Bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $l:return t=e.displayName||null,t!==null?t:Ea(e.type)||"Memo";case _t:t=e._payload,e=e._init;try{return Ea(e(t))}catch{}}return null}function jg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ea(t);case 8:return t===zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mg(e){var t=uh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=Mg(e))}function ch(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ca(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dh(e,t){t=t.checked,t!=null&&Fl(e,"checked",t,!1)}function Ta(e,t){dh(e,t);var n=Qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pa(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pa(e,t,n){(t!=="number"||gi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ir=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ba(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Ir(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qt(n)}}function fh(e,t){var n=Qt(t.value),r=Qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ja(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _s,ph=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_s=_s||document.createElement("div"),_s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dg=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){Dg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function mh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function gh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Rg=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(e,t){if(t){if(Rg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ia=null,Zn=null,qn=null;function kc(e){if(e=Ts(e)){if(typeof Ia!="function")throw Error(M(280));var t=e.stateNode;t&&(t=to(t),Ia(e.stateNode,e.type,t))}}function yh(e){Zn?qn?qn.push(e):qn=[e]:Zn=e}function vh(){if(Zn){var e=Zn,t=qn;if(qn=Zn=null,kc(e),t)for(e=0;e<t.length;e++)kc(t[e])}}function xh(e,t){return e(t)}function wh(){}var No=!1;function kh(e,t,n){if(No)return e(t,n);No=!0;try{return xh(e,t,n)}finally{No=!1,(Zn!==null||qn!==null)&&(wh(),vh())}}function Jr(e,t){var n=e.stateNode;if(n===null)return null;var r=to(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Aa=!1;if(Pt)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Aa=!1}function Ig(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fr=!1,yi=null,vi=!1,La=null,Ag={onError:function(e){Fr=!0,yi=e}};function Lg(e,t,n,r,s,i,o,a,l){Fr=!1,yi=null,Ig.apply(Ag,arguments)}function Ng(e,t,n,r,s,i,o,a,l){if(Lg.apply(this,arguments),Fr){if(Fr){var u=yi;Fr=!1,yi=null}else throw Error(M(198));vi||(vi=!0,La=u)}}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sc(e){if(jn(e)!==e)throw Error(M(188))}function _g(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sc(s),e;if(i===r)return Sc(s),t;i=i.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Eh(e){return e=_g(e),e!==null?Ch(e):null}function Ch(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ch(e);if(t!==null)return t;e=e.sibling}return null}var Th=Be.unstable_scheduleCallback,Ec=Be.unstable_cancelCallback,Vg=Be.unstable_shouldYield,Og=Be.unstable_requestPaint,ue=Be.unstable_now,Fg=Be.unstable_getCurrentPriorityLevel,Wl=Be.unstable_ImmediatePriority,Ph=Be.unstable_UserBlockingPriority,xi=Be.unstable_NormalPriority,zg=Be.unstable_LowPriority,bh=Be.unstable_IdlePriority,Zi=null,pt=null;function Bg(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Wg,$g=Math.log,Ug=Math.LN2;function Wg(e){return e>>>=0,e===0?32:31-($g(e)/Ug|0)|0}var Vs=64,Os=4194304;function Ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ar(a):(i&=o,i!==0&&(r=Ar(i)))}else o=n&~s,o!==0?r=Ar(o):i!==0&&(r=Ar(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-at(t),s=1<<n,r|=e[n],t&=~s;return r}function Hg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-at(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Hg(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Na(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jh(){var e=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),e}function _o(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function Yg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Hl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var K=0;function Mh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dh,Kl,Rh,Ih,Ah,_a=!1,Fs=[],$t=null,Ut=null,Wt=null,es=new Map,ts=new Map,Ot=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function Cr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ts(t),t!==null&&Kl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xg(e,t,n,r,s){switch(t){case"focusin":return $t=Cr($t,e,t,n,r,s),!0;case"dragenter":return Ut=Cr(Ut,e,t,n,r,s),!0;case"mouseover":return Wt=Cr(Wt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return es.set(i,Cr(es.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ts.set(i,Cr(ts.get(i)||null,e,t,n,r,s)),!0}return!1}function Lh(e){var t=hn(e.target);if(t!==null){var n=jn(t);if(n!==null){if(t=n.tag,t===13){if(t=Sh(n),t!==null){e.blockedOn=t,Ah(e.priority,function(){Rh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ra=r,n.target.dispatchEvent(r),Ra=null}else return t=Ts(n),t!==null&&Kl(t),e.blockedOn=n,!1;t.shift()}return!0}function Tc(e,t,n){ri(e)&&n.delete(t)}function Qg(){_a=!1,$t!==null&&ri($t)&&($t=null),Ut!==null&&ri(Ut)&&(Ut=null),Wt!==null&&ri(Wt)&&(Wt=null),es.forEach(Tc),ts.forEach(Tc)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,_a||(_a=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Qg)))}function ns(e){function t(s){return Tr(s,e)}if(0<Fs.length){Tr(Fs[0],e);for(var n=1;n<Fs.length;n++){var r=Fs[n];r.blockedOn===e&&(r.blockedOn=null)}}for($t!==null&&Tr($t,e),Ut!==null&&Tr(Ut,e),Wt!==null&&Tr(Wt,e),es.forEach(t),ts.forEach(t),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)Lh(n),n.blockedOn===null&&Ot.shift()}var Jn=Rt.ReactCurrentBatchConfig,ki=!0;function Zg(e,t,n,r){var s=K,i=Jn.transition;Jn.transition=null;try{K=1,Yl(e,t,n,r)}finally{K=s,Jn.transition=i}}function qg(e,t,n,r){var s=K,i=Jn.transition;Jn.transition=null;try{K=4,Yl(e,t,n,r)}finally{K=s,Jn.transition=i}}function Yl(e,t,n,r){if(ki){var s=Va(e,t,n,r);if(s===null)Ko(e,t,r,Si,n),Cc(e,r);else if(Xg(s,e,t,n,r))r.stopPropagation();else if(Cc(e,r),t&4&&-1<Gg.indexOf(e)){for(;s!==null;){var i=Ts(s);if(i!==null&&Dh(i),i=Va(e,t,n,r),i===null&&Ko(e,t,r,Si,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ko(e,t,r,null,n)}}var Si=null;function Va(e,t,n,r){if(Si=null,e=Ul(r),e=hn(e),e!==null)if(t=jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Si=e,null}function Nh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fg()){case Wl:return 1;case Ph:return 4;case xi:case zg:return 16;case bh:return 536870912;default:return 16}default:return 16}}var zt=null,Gl=null,si=null;function _h(){if(si)return si;var e,t=Gl,n=t.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return si=s.slice(e,1<r?1-r:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zs(){return!0}function Pc(){return!1}function Ke(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zs:Pc,this.isPropagationStopped=Pc,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Ke(mr),Cs=ie({},mr,{view:0,detail:0}),Jg=Ke(Cs),Vo,Oo,Pr,qi=ie({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pr&&(Pr&&e.type==="mousemove"?(Vo=e.screenX-Pr.screenX,Oo=e.screenY-Pr.screenY):Oo=Vo=0,Pr=e),Vo)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),bc=Ke(qi),ey=ie({},qi,{dataTransfer:0}),ty=Ke(ey),ny=ie({},Cs,{relatedTarget:0}),Fo=Ke(ny),ry=ie({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),sy=Ke(ry),iy=ie({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oy=Ke(iy),ay=ie({},mr,{data:0}),jc=Ke(ay),ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cy[e])?!!t[e]:!1}function Ql(){return dy}var fy=ie({},Cs,{key:function(e){if(e.key){var t=ly[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hy=Ke(fy),py=ie({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=Ke(py),my=ie({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),gy=Ke(my),yy=ie({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=Ke(yy),xy=ie({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wy=Ke(xy),ky=[9,13,27,32],Zl=Pt&&"CompositionEvent"in window,zr=null;Pt&&"documentMode"in document&&(zr=document.documentMode);var Sy=Pt&&"TextEvent"in window&&!zr,Vh=Pt&&(!Zl||zr&&8<zr&&11>=zr),Dc=" ",Rc=!1;function Oh(e,t){switch(e){case"keyup":return ky.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function Ey(e,t){switch(e){case"compositionend":return Fh(t);case"keypress":return t.which!==32?null:(Rc=!0,Dc);case"textInput":return e=t.data,e===Dc&&Rc?null:e;default:return null}}function Cy(e,t){if(Nn)return e==="compositionend"||!Zl&&Oh(e,t)?(e=_h(),si=Gl=zt=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vh&&t.locale!=="ko"?null:t.data;default:return null}}var Ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ty[e.type]:t==="textarea"}function zh(e,t,n,r){yh(r),t=Ei(t,"onChange"),0<t.length&&(n=new Xl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Br=null,rs=null;function Py(e){Zh(e,0)}function Ji(e){var t=On(e);if(ch(t))return e}function by(e,t){if(e==="change")return t}var Bh=!1;if(Pt){var zo;if(Pt){var Bo="oninput"in document;if(!Bo){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),Bo=typeof Ac.oninput=="function"}zo=Bo}else zo=!1;Bh=zo&&(!document.documentMode||9<document.documentMode)}function Lc(){Br&&(Br.detachEvent("onpropertychange",$h),rs=Br=null)}function $h(e){if(e.propertyName==="value"&&Ji(rs)){var t=[];zh(t,rs,e,Ul(e)),kh(Py,t)}}function jy(e,t,n){e==="focusin"?(Lc(),Br=t,rs=n,Br.attachEvent("onpropertychange",$h)):e==="focusout"&&Lc()}function My(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ji(rs)}function Dy(e,t){if(e==="click")return Ji(t)}function Ry(e,t){if(e==="input"||e==="change")return Ji(t)}function Iy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:Iy;function ss(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xa.call(t,s)||!ut(e[s],t[s]))return!1}return!0}function Nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _c(e,t){var n=Nc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nc(n)}}function Uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wh(){for(var e=window,t=gi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gi(e.document)}return t}function ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ay(e){var t=Wh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uh(n.ownerDocument.documentElement,n)){if(r!==null&&ql(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=_c(n,i);var o=_c(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ly=Pt&&"documentMode"in document&&11>=document.documentMode,_n=null,Oa=null,$r=null,Fa=!1;function Vc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fa||_n==null||_n!==gi(r)||(r=_n,"selectionStart"in r&&ql(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&ss($r,r)||($r=r,r=Ei(Oa,"onSelect"),0<r.length&&(t=new Xl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_n)))}function Bs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vn={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},$o={},Hh={};Pt&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function eo(e){if($o[e])return $o[e];if(!Vn[e])return e;var t=Vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hh)return $o[e]=t[n];return e}var Kh=eo("animationend"),Yh=eo("animationiteration"),Gh=eo("animationstart"),Xh=eo("transitionend"),Qh=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,t){Qh.set(e,t),bn(t,[e])}for(var Uo=0;Uo<Oc.length;Uo++){var Wo=Oc[Uo],Ny=Wo.toLowerCase(),_y=Wo[0].toUpperCase()+Wo.slice(1);tn(Ny,"on"+_y)}tn(Kh,"onAnimationEnd");tn(Yh,"onAnimationIteration");tn(Gh,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(Xh,"onTransitionEnd");nr("onMouseEnter",["mouseout","mouseover"]);nr("onMouseLeave",["mouseout","mouseover"]);nr("onPointerEnter",["pointerout","pointerover"]);nr("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ng(r,t,void 0,e),e.currentTarget=null}function Zh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Fc(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Fc(s,a,u),i=l}}}if(vi)throw e=La,vi=!1,La=null,e}function q(e,t){var n=t[Wa];n===void 0&&(n=t[Wa]=new Set);var r=e+"__bubble";n.has(r)||(qh(t,e,2,!1),n.add(r))}function Ho(e,t,n){var r=0;t&&(r|=4),qh(n,e,r,t)}var $s="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[$s]){e[$s]=!0,ih.forEach(function(n){n!=="selectionchange"&&(Vy.has(n)||Ho(n,!1,e),Ho(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$s]||(t[$s]=!0,Ho("selectionchange",!1,t))}}function qh(e,t,n,r){switch(Nh(t)){case 1:var s=Zg;break;case 4:s=qg;break;default:s=Yl}n=s.bind(null,t,n,e),s=void 0,!Aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ko(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=hn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}kh(function(){var u=i,c=Ul(n),f=[];e:{var p=Qh.get(e);if(p!==void 0){var y=Xl,k=e;switch(e){case"keypress":if(ii(n)===0)break e;case"keydown":case"keyup":y=hy;break;case"focusin":k="focus",y=Fo;break;case"focusout":k="blur",y=Fo;break;case"beforeblur":case"afterblur":y=Fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gy;break;case Kh:case Yh:case Gh:y=sy;break;case Xh:y=vy;break;case"scroll":y=Jg;break;case"wheel":y=wy;break;case"copy":case"cut":case"paste":y=oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Mc}var w=(t&4)!==0,E=!w&&e==="scroll",h=w?p!==null?p+"Capture":null:p;w=[];for(var d=u,g;d!==null;){g=d;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,h!==null&&(S=Jr(d,h),S!=null&&w.push(os(d,S,g)))),E)break;d=d.return}0<w.length&&(p=new y(p,k,null,n,c),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Ra&&(k=n.relatedTarget||n.fromElement)&&(hn(k)||k[bt]))break e;if((y||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=u,k=k?hn(k):null,k!==null&&(E=jn(k),k!==E||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=u),y!==k)){if(w=bc,S="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=Mc,S="onPointerLeave",h="onPointerEnter",d="pointer"),E=y==null?p:On(y),g=k==null?p:On(k),p=new w(S,d+"leave",y,n,c),p.target=E,p.relatedTarget=g,S=null,hn(c)===u&&(w=new w(h,d+"enter",k,n,c),w.target=g,w.relatedTarget=E,S=w),E=S,y&&k)t:{for(w=y,h=k,d=0,g=w;g;g=Rn(g))d++;for(g=0,S=h;S;S=Rn(S))g++;for(;0<d-g;)w=Rn(w),d--;for(;0<g-d;)h=Rn(h),g--;for(;d--;){if(w===h||h!==null&&w===h.alternate)break t;w=Rn(w),h=Rn(h)}w=null}else w=null;y!==null&&zc(f,p,y,w,!1),k!==null&&E!==null&&zc(f,E,k,w,!0)}}e:{if(p=u?On(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var x=by;else if(Ic(p))if(Bh)x=Ry;else{x=My;var C=jy}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=Dy);if(x&&(x=x(e,u))){zh(f,x,n,c);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Pa(p,"number",p.value)}switch(C=u?On(u):window,e){case"focusin":(Ic(C)||C.contentEditable==="true")&&(_n=C,Oa=u,$r=null);break;case"focusout":$r=Oa=_n=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,Vc(f,n,c);break;case"selectionchange":if(Ly)break;case"keydown":case"keyup":Vc(f,n,c)}var T;if(Zl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Nn?Oh(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Vh&&n.locale!=="ko"&&(Nn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Nn&&(T=_h()):(zt=c,Gl="value"in zt?zt.value:zt.textContent,Nn=!0)),C=Ei(u,P),0<C.length&&(P=new jc(P,e,null,n,c),f.push({event:P,listeners:C}),T?P.data=T:(T=Fh(n),T!==null&&(P.data=T)))),(T=Sy?Ey(e,n):Cy(e,n))&&(u=Ei(u,"onBeforeInput"),0<u.length&&(c=new jc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}Zh(f,t)})}function os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ei(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jr(e,n),i!=null&&r.unshift(os(e,i,s)),i=Jr(e,t),i!=null&&r.push(os(e,i,s))),e=e.return}return r}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Jr(n,i),l!=null&&o.unshift(os(n,l,a))):s||(l=Jr(n,i),l!=null&&o.push(os(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Oy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function Bc(e){return(typeof e=="string"?e:""+e).replace(Oy,`
`).replace(Fy,"")}function Us(e,t,n){if(t=Bc(t),Bc(e)!==t&&n)throw Error(M(425))}function Ci(){}var za=null,Ba=null;function $a(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ua=typeof setTimeout=="function"?setTimeout:void 0,zy=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,By=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(e){return $c.resolve(null).then(e).catch($y)}:Ua;function $y(e){setTimeout(function(){throw e})}function Yo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ns(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gr=Math.random().toString(36).slice(2),ht="__reactFiber$"+gr,as="__reactProps$"+gr,bt="__reactContainer$"+gr,Wa="__reactEvents$"+gr,Uy="__reactListeners$"+gr,Wy="__reactHandles$"+gr;function hn(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bt]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uc(e);e!==null;){if(n=e[ht])return n;e=Uc(e)}return t}e=n,n=e.parentNode}return null}function Ts(e){return e=e[ht]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function On(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function to(e){return e[as]||null}var Ha=[],Fn=-1;function nn(e){return{current:e}}function J(e){0>Fn||(e.current=Ha[Fn],Ha[Fn]=null,Fn--)}function Z(e,t){Fn++,Ha[Fn]=e.current,e.current=t}var Zt={},Pe=nn(Zt),Ae=nn(!1),wn=Zt;function rr(e,t){var n=e.type.contextTypes;if(!n)return Zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Le(e){return e=e.childContextTypes,e!=null}function Ti(){J(Ae),J(Pe)}function Wc(e,t,n){if(Pe.current!==Zt)throw Error(M(168));Z(Pe,t),Z(Ae,n)}function Jh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,jg(e)||"Unknown",s));return ie({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,wn=Pe.current,Z(Pe,e),Z(Ae,Ae.current),!0}function Hc(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Jh(e,t,wn),r.__reactInternalMemoizedMergedChildContext=e,J(Ae),J(Pe),Z(Pe,e)):J(Ae),Z(Ae,n)}var wt=null,no=!1,Go=!1;function ep(e){wt===null?wt=[e]:wt.push(e)}function Hy(e){no=!0,ep(e)}function rn(){if(!Go&&wt!==null){Go=!0;var e=0,t=K;try{var n=wt;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wt=null,no=!1}catch(s){throw wt!==null&&(wt=wt.slice(e+1)),Th(Wl,rn),s}finally{K=t,Go=!1}}return null}var zn=[],Bn=0,bi=null,ji=0,Xe=[],Qe=0,kn=null,kt=1,St="";function ln(e,t){zn[Bn++]=ji,zn[Bn++]=bi,bi=e,ji=t}function tp(e,t,n){Xe[Qe++]=kt,Xe[Qe++]=St,Xe[Qe++]=kn,kn=e;var r=kt;e=St;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kt=1<<32-at(t)+s|n<<s|r,St=i+e}else kt=1<<i|n<<s|r,St=e}function Jl(e){e.return!==null&&(ln(e,1),tp(e,1,0))}function eu(e){for(;e===bi;)bi=zn[--Bn],zn[Bn]=null,ji=zn[--Bn],zn[Bn]=null;for(;e===kn;)kn=Xe[--Qe],Xe[Qe]=null,St=Xe[--Qe],Xe[Qe]=null,kt=Xe[--Qe],Xe[Qe]=null}var Fe=null,Oe=null,te=!1,it=null;function np(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,Oe=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kn!==null?{id:kt,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fe=e,Oe=null,!0):!1;default:return!1}}function Ka(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ya(e){if(te){var t=Oe;if(t){var n=t;if(!Kc(e,t)){if(Ka(e))throw Error(M(418));t=Ht(n.nextSibling);var r=Fe;t&&Kc(e,t)?np(r,n):(e.flags=e.flags&-4097|2,te=!1,Fe=e)}}else{if(Ka(e))throw Error(M(418));e.flags=e.flags&-4097|2,te=!1,Fe=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function Ws(e){if(e!==Fe)return!1;if(!te)return Yc(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$a(e.type,e.memoizedProps)),t&&(t=Oe)){if(Ka(e))throw rp(),Error(M(418));for(;t;)np(e,t),t=Ht(t.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Oe=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=Fe?Ht(e.stateNode.nextSibling):null;return!0}function rp(){for(var e=Oe;e;)e=Ht(e.nextSibling)}function sr(){Oe=Fe=null,te=!1}function tu(e){it===null?it=[e]:it.push(e)}var Ky=Rt.ReactCurrentBatchConfig;function br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gc(e){var t=e._init;return t(e._payload)}function sp(e){function t(h,d){if(e){var g=h.deletions;g===null?(h.deletions=[d],h.flags|=16):g.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function s(h,d){return h=Xt(h,d),h.index=0,h.sibling=null,h}function i(h,d,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<d?(h.flags|=2,d):g):(h.flags|=2,d)):(h.flags|=1048576,d)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,d,g,S){return d===null||d.tag!==6?(d=ta(g,h.mode,S),d.return=h,d):(d=s(d,g),d.return=h,d)}function l(h,d,g,S){var x=g.type;return x===Ln?c(h,d,g.props.children,S,g.key):d!==null&&(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===_t&&Gc(x)===d.type)?(S=s(d,g.props),S.ref=br(h,d,g),S.return=h,S):(S=fi(g.type,g.key,g.props,null,h.mode,S),S.ref=br(h,d,g),S.return=h,S)}function u(h,d,g,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=na(g,h.mode,S),d.return=h,d):(d=s(d,g.children||[]),d.return=h,d)}function c(h,d,g,S,x){return d===null||d.tag!==7?(d=vn(g,h.mode,S,x),d.return=h,d):(d=s(d,g),d.return=h,d)}function f(h,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ta(""+d,h.mode,g),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ls:return g=fi(d.type,d.key,d.props,null,h.mode,g),g.ref=br(h,null,d),g.return=h,g;case An:return d=na(d,h.mode,g),d.return=h,d;case _t:var S=d._init;return f(h,S(d._payload),g)}if(Ir(d)||Sr(d))return d=vn(d,h.mode,g,null),d.return=h,d;Hs(h,d)}return null}function p(h,d,g,S){var x=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(h,d,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ls:return g.key===x?l(h,d,g,S):null;case An:return g.key===x?u(h,d,g,S):null;case _t:return x=g._init,p(h,d,x(g._payload),S)}if(Ir(g)||Sr(g))return x!==null?null:c(h,d,g,S,null);Hs(h,g)}return null}function y(h,d,g,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(g)||null,a(d,h,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ls:return h=h.get(S.key===null?g:S.key)||null,l(d,h,S,x);case An:return h=h.get(S.key===null?g:S.key)||null,u(d,h,S,x);case _t:var C=S._init;return y(h,d,g,C(S._payload),x)}if(Ir(S)||Sr(S))return h=h.get(g)||null,c(d,h,S,x,null);Hs(d,S)}return null}function k(h,d,g,S){for(var x=null,C=null,T=d,P=d=0,D=null;T!==null&&P<g.length;P++){T.index>P?(D=T,T=null):D=T.sibling;var b=p(h,T,g[P],S);if(b===null){T===null&&(T=D);break}e&&T&&b.alternate===null&&t(h,T),d=i(b,d,P),C===null?x=b:C.sibling=b,C=b,T=D}if(P===g.length)return n(h,T),te&&ln(h,P),x;if(T===null){for(;P<g.length;P++)T=f(h,g[P],S),T!==null&&(d=i(T,d,P),C===null?x=T:C.sibling=T,C=T);return te&&ln(h,P),x}for(T=r(h,T);P<g.length;P++)D=y(T,h,P,g[P],S),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?P:D.key),d=i(D,d,P),C===null?x=D:C.sibling=D,C=D);return e&&T.forEach(function(I){return t(h,I)}),te&&ln(h,P),x}function w(h,d,g,S){var x=Sr(g);if(typeof x!="function")throw Error(M(150));if(g=x.call(g),g==null)throw Error(M(151));for(var C=x=null,T=d,P=d=0,D=null,b=g.next();T!==null&&!b.done;P++,b=g.next()){T.index>P?(D=T,T=null):D=T.sibling;var I=p(h,T,b.value,S);if(I===null){T===null&&(T=D);break}e&&T&&I.alternate===null&&t(h,T),d=i(I,d,P),C===null?x=I:C.sibling=I,C=I,T=D}if(b.done)return n(h,T),te&&ln(h,P),x;if(T===null){for(;!b.done;P++,b=g.next())b=f(h,b.value,S),b!==null&&(d=i(b,d,P),C===null?x=b:C.sibling=b,C=b);return te&&ln(h,P),x}for(T=r(h,T);!b.done;P++,b=g.next())b=y(T,h,P,b.value,S),b!==null&&(e&&b.alternate!==null&&T.delete(b.key===null?P:b.key),d=i(b,d,P),C===null?x=b:C.sibling=b,C=b);return e&&T.forEach(function(O){return t(h,O)}),te&&ln(h,P),x}function E(h,d,g,S){if(typeof g=="object"&&g!==null&&g.type===Ln&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ls:e:{for(var x=g.key,C=d;C!==null;){if(C.key===x){if(x=g.type,x===Ln){if(C.tag===7){n(h,C.sibling),d=s(C,g.props.children),d.return=h,h=d;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===_t&&Gc(x)===C.type){n(h,C.sibling),d=s(C,g.props),d.ref=br(h,C,g),d.return=h,h=d;break e}n(h,C);break}else t(h,C);C=C.sibling}g.type===Ln?(d=vn(g.props.children,h.mode,S,g.key),d.return=h,h=d):(S=fi(g.type,g.key,g.props,null,h.mode,S),S.ref=br(h,d,g),S.return=h,h=S)}return o(h);case An:e:{for(C=g.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(h,d.sibling),d=s(d,g.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=na(g,h.mode,S),d.return=h,h=d}return o(h);case _t:return C=g._init,E(h,d,C(g._payload),S)}if(Ir(g))return k(h,d,g,S);if(Sr(g))return w(h,d,g,S);Hs(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(h,d.sibling),d=s(d,g),d.return=h,h=d):(n(h,d),d=ta(g,h.mode,S),d.return=h,h=d),o(h)):n(h,d)}return E}var ir=sp(!0),ip=sp(!1),Mi=nn(null),Di=null,$n=null,nu=null;function ru(){nu=$n=Di=null}function su(e){var t=Mi.current;J(Mi),e._currentValue=t}function Ga(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){Di=e,nu=$n=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(nu!==e)if(e={context:e,memoizedValue:t,next:null},$n===null){if(Di===null)throw Error(M(308));$n=e,Di.dependencies={lanes:0,firstContext:e}}else $n=$n.next=e;return t}var pn=null;function iu(e){pn===null?pn=[e]:pn.push(e)}function op(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,iu(t)):(n.next=s.next,s.next=n),t.interleaved=n,jt(e,r)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ap(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Et(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,jt(e,n)}return s=r.interleaved,s===null?(t.next=t,iu(r)):(t.next=s.next,s.next=t),r.interleaved=t,jt(e,n)}function oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hl(e,n)}}function Xc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ri(e,t,n,r){var s=e.updateQueue;Vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=e,w=a;switch(p=t,y=n,w.tag){case 1:if(k=w.payload,typeof k=="function"){f=k.call(y,f,p);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,p=typeof k=="function"?k.call(y,f,p):k,p==null)break e;f=ie({},f,p);break e;case 2:Vt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);En|=o,e.lanes=o,e.memoizedState=f}}function Qc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var Ps={},mt=nn(Ps),ls=nn(Ps),us=nn(Ps);function mn(e){if(e===Ps)throw Error(M(174));return e}function au(e,t){switch(Z(us,t),Z(ls,e),Z(mt,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ja(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ja(t,e)}J(mt),Z(mt,t)}function or(){J(mt),J(ls),J(us)}function lp(e){mn(us.current);var t=mn(mt.current),n=ja(t,e.type);t!==n&&(Z(ls,e),Z(mt,n))}function lu(e){ls.current===e&&(J(mt),J(ls))}var ne=nn(0);function Ii(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xo=[];function uu(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var ai=Rt.ReactCurrentDispatcher,Qo=Rt.ReactCurrentBatchConfig,Sn=0,se=null,de=null,he=null,Ai=!1,Ur=!1,cs=0,Yy=0;function ke(){throw Error(M(321))}function cu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ut(e[n],t[n]))return!1;return!0}function du(e,t,n,r,s,i){if(Sn=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=e===null||e.memoizedState===null?Zy:qy,e=n(r,s),Ur){i=0;do{if(Ur=!1,cs=0,25<=i)throw Error(M(301));i+=1,he=de=null,t.updateQueue=null,ai.current=Jy,e=n(r,s)}while(Ur)}if(ai.current=Li,t=de!==null&&de.next!==null,Sn=0,he=de=se=null,Ai=!1,t)throw Error(M(300));return e}function fu(){var e=cs!==0;return cs=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?se.memoizedState=he=e:he=he.next=e,he}function et(){if(de===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=he===null?se.memoizedState:he.next;if(t!==null)he=t,de=e;else{if(e===null)throw Error(M(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},he===null?se.memoizedState=he=e:he=he.next=e}return he}function ds(e,t){return typeof t=="function"?t(e):t}function Zo(e){var t=et(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Sn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,se.lanes|=c,En|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ut(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,En|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qo(e){var t=et(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ut(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function up(){}function cp(e,t){var n=se,r=et(),s=t(),i=!ut(r.memoizedState,s);if(i&&(r.memoizedState=s,Ie=!0),r=r.queue,hu(hp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,fs(9,fp.bind(null,n,r,s,t),void 0,null),pe===null)throw Error(M(349));Sn&30||dp(n,t,s)}return s}function dp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fp(e,t,n,r){t.value=n,t.getSnapshot=r,pp(t)&&mp(e)}function hp(e,t,n){return n(function(){pp(t)&&mp(e)})}function pp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ut(e,n)}catch{return!0}}function mp(e){var t=jt(e,1);t!==null&&lt(t,e,1,-1)}function Zc(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Qy.bind(null,se,e),[t.memoizedState,e]}function fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gp(){return et().memoizedState}function li(e,t,n,r){var s=ft();se.flags|=e,s.memoizedState=fs(1|t,n,void 0,r===void 0?null:r)}function ro(e,t,n,r){var s=et();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&cu(r,o.deps)){s.memoizedState=fs(t,n,i,r);return}}se.flags|=e,s.memoizedState=fs(1|t,n,i,r)}function qc(e,t){return li(8390656,8,e,t)}function hu(e,t){return ro(2048,8,e,t)}function yp(e,t){return ro(4,2,e,t)}function vp(e,t){return ro(4,4,e,t)}function xp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wp(e,t,n){return n=n!=null?n.concat([e]):null,ro(4,4,xp.bind(null,t,e),n)}function pu(){}function kp(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sp(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ep(e,t,n){return Sn&21?(ut(n,t)||(n=jh(),se.lanes|=n,En|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function Gy(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=Qo.transition;Qo.transition={};try{e(!1),t()}finally{K=n,Qo.transition=r}}function Cp(){return et().memoizedState}function Xy(e,t,n){var r=Gt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tp(e))Pp(t,n);else if(n=op(e,t,n,r),n!==null){var s=je();lt(n,e,r,s),bp(n,t,r)}}function Qy(e,t,n){var r=Gt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tp(e))Pp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ut(a,o)){var l=t.interleaved;l===null?(s.next=s,iu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=op(e,t,s,r),n!==null&&(s=je(),lt(n,e,r,s),bp(n,t,r))}}function Tp(e){var t=e.alternate;return e===se||t!==null&&t===se}function Pp(e,t){Ur=Ai=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hl(e,n)}}var Li={readContext:Je,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Zy={readContext:Je,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:qc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,li(4194308,4,xp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){return li(4,2,e,t)},useMemo:function(e,t){var n=ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xy.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:Zc,useDebugValue:pu,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=Zc(!1),t=e[0];return e=Gy.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,s=ft();if(te){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),pe===null)throw Error(M(349));Sn&30||dp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,qc(hp.bind(null,r,i,e),[e]),r.flags|=2048,fs(9,fp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ft(),t=pe.identifierPrefix;if(te){var n=St,r=kt;n=(r&~(1<<32-at(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qy={readContext:Je,useCallback:kp,useContext:Je,useEffect:hu,useImperativeHandle:wp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Sp,useReducer:Zo,useRef:gp,useState:function(){return Zo(ds)},useDebugValue:pu,useDeferredValue:function(e){var t=et();return Ep(t,de.memoizedState,e)},useTransition:function(){var e=Zo(ds)[0],t=et().memoizedState;return[e,t]},useMutableSource:up,useSyncExternalStore:cp,useId:Cp,unstable_isNewReconciler:!1},Jy={readContext:Je,useCallback:kp,useContext:Je,useEffect:hu,useImperativeHandle:wp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:Sp,useReducer:qo,useRef:gp,useState:function(){return qo(ds)},useDebugValue:pu,useDeferredValue:function(e){var t=et();return de===null?t.memoizedState=e:Ep(t,de.memoizedState,e)},useTransition:function(){var e=qo(ds)[0],t=et().memoizedState;return[e,t]},useMutableSource:up,useSyncExternalStore:cp,useId:Cp,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=je(),s=Gt(e),i=Et(r,s);i.payload=t,n!=null&&(i.callback=n),t=Kt(e,i,s),t!==null&&(lt(t,e,s,r),oi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=je(),s=Gt(e),i=Et(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Kt(e,i,s),t!==null&&(lt(t,e,s,r),oi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),r=Gt(e),s=Et(n,r);s.tag=2,t!=null&&(s.callback=t),t=Kt(e,s,r),t!==null&&(lt(t,e,r,n),oi(t,e,r))}};function Jc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ss(n,r)||!ss(s,i):!0}function jp(e,t,n){var r=!1,s=Zt,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Le(t)?wn:Pe.current,r=t.contextTypes,i=(r=r!=null)?rr(e,s):Zt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ed(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function Qa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ou(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Le(t)?wn:Pe.current,s.context=rr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&so.enqueueReplaceState(s,s.state,null),Ri(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ar(e,t){try{var n="",r=t;do n+=bg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Jo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Za(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ev=typeof WeakMap=="function"?WeakMap:Map;function Mp(e,t,n){n=Et(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_i||(_i=!0,al=r),Za(e,t)},n}function Dp(e,t,n){n=Et(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Za(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Za(e,t),typeof r!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function td(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ev;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=pv.bind(null,e,t,n),t.then(e,e))}function nd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Et(-1,1),t.tag=2,Kt(n,t,1))),n.lanes|=1),e)}var tv=Rt.ReactCurrentOwner,Ie=!1;function be(e,t,n,r){t.child=e===null?ip(t,null,n,r):ir(t,e.child,n,r)}function sd(e,t,n,r,s){n=n.render;var i=t.ref;return er(t,s),r=du(e,t,n,r,i,s),n=fu(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mt(e,t,s)):(te&&n&&Jl(t),t.flags|=1,be(e,t,r,s),t.child)}function id(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Su(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Rp(e,t,i,r,s)):(e=fi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ss,n(o,r)&&e.ref===t.ref)return Mt(e,t,s)}return t.flags|=1,e=Xt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Rp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ss(i,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Mt(e,t,s)}return qa(e,t,n,r,s)}function Ip(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Wn,Ve),Ve|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Wn,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(Wn,Ve),Ve|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Z(Wn,Ve),Ve|=r;return be(e,t,s,n),t.child}function Ap(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,n,r,s){var i=Le(n)?wn:Pe.current;return i=rr(t,i),er(t,s),n=du(e,t,n,r,i,s),r=fu(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mt(e,t,s)):(te&&r&&Jl(t),t.flags|=1,be(e,t,n,s),t.child)}function od(e,t,n,r,s){if(Le(n)){var i=!0;Pi(t)}else i=!1;if(er(t,s),t.stateNode===null)ui(e,t),jp(t,n,r),Qa(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Le(n)?wn:Pe.current,u=rr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ed(t,o,r,u),Vt=!1;var p=t.memoizedState;o.state=p,Ri(t,r,o,s),l=t.memoizedState,a!==r||p!==l||Ae.current||Vt?(typeof c=="function"&&(Xa(t,n,c,r),l=t.memoizedState),(a=Vt||Jc(t,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ap(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:rt(t.type,a),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Le(n)?wn:Pe.current,l=rr(t,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&ed(t,o,r,l),Vt=!1,p=t.memoizedState,o.state=p,Ri(t,r,o,s);var k=t.memoizedState;a!==f||p!==k||Ae.current||Vt?(typeof y=="function"&&(Xa(t,n,y,r),k=t.memoizedState),(u=Vt||Jc(t,n,u,r,p,k,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),o.props=r,o.state=k,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ja(e,t,n,r,i,s)}function Ja(e,t,n,r,s,i){Ap(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Hc(t,n,!1),Mt(e,t,i);r=t.stateNode,tv.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ir(t,e.child,null,i),t.child=ir(t,null,a,i)):be(e,t,a,i),t.memoizedState=r.state,s&&Hc(t,n,!0),t.child}function Lp(e){var t=e.stateNode;t.pendingContext?Wc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wc(e,t.context,!1),au(e,t.containerInfo)}function ad(e,t,n,r,s){return sr(),tu(s),t.flags|=256,be(e,t,n,r),t.child}var el={dehydrated:null,treeContext:null,retryLane:0};function tl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Np(e,t,n){var r=t.pendingProps,s=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ne,s&1),e===null)return Ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ao(o,r,0,null),e=vn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tl(n),t.memoizedState=el,e):mu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nv(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Xt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Xt(a,i):(i=vn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?tl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=el,r}return i=e.child,e=i.sibling,r=Xt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mu(e,t){return t=ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ks(e,t,n,r){return r!==null&&tu(r),ir(t,e.child,null,n),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Jo(Error(M(422))),Ks(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ao({mode:"visible",children:r.children},s,0,null),i=vn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ir(t,e.child,null,o),t.child.memoizedState=tl(o),t.memoizedState=el,i);if(!(t.mode&1))return Ks(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(M(419)),r=Jo(i,r,void 0),Ks(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ie||a){if(r=pe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(e,s),lt(r,e,s,-1))}return ku(),r=Jo(Error(M(421))),Ks(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Oe=Ht(s.nextSibling),Fe=t,te=!0,it=null,e!==null&&(Xe[Qe++]=kt,Xe[Qe++]=St,Xe[Qe++]=kn,kt=e.id,St=e.overflow,kn=t),t=mu(t,r.children),t.flags|=4096,t)}function ld(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ga(e.return,t,n)}function ea(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _p(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(be(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,n,t);else if(e.tag===19)ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ii(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ea(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ii(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ea(t,!0,n,null,i);break;case"together":ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rv(e,t,n){switch(t.tag){case 3:Lp(t),sr();break;case 5:lp(t);break;case 1:Le(t.type)&&Pi(t);break;case 4:au(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Z(Mi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?Np(e,t,n):(Z(ne,ne.current&1),e=Mt(e,t,n),e!==null?e.sibling:null);Z(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _p(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Ip(e,t,n)}return Mt(e,t,n)}var Vp,nl,Op,Fp;Vp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nl=function(){};Op=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,mn(mt.current);var i=null;switch(n){case"input":s=Ca(e,s),r=Ca(e,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=ba(e,s),r=ba(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ci)}Ma(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&q("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Fp=function(e,t,n,r){n!==r&&(t.flags|=4)};function jr(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sv(e,t,n){var r=t.pendingProps;switch(eu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Le(t.type)&&Ti(),Se(t),null;case 3:return r=t.stateNode,or(),J(Ae),J(Pe),uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(cl(it),it=null))),nl(e,t),Se(t),null;case 5:lu(t);var s=mn(us.current);if(n=t.type,e!==null&&t.stateNode!=null)Op(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Se(t),null}if(e=mn(mt.current),Ws(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ht]=t,r[as]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)q(Lr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":yc(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":xc(r,i),q("invalid",r)}Ma(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Us(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Us(r.textContent,a,e),s=["children",""+a]):Zr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":Ns(r),vc(r,i,!0);break;case"textarea":Ns(r),wc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ci)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ht]=t,e[as]=r,Vp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Da(n,r),n){case"dialog":q("cancel",e),q("close",e),s=r;break;case"iframe":case"object":case"embed":q("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)q(Lr[s],e);s=r;break;case"source":q("error",e),s=r;break;case"img":case"image":case"link":q("error",e),q("load",e),s=r;break;case"details":q("toggle",e),s=r;break;case"input":yc(e,r),s=Ca(e,r),q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),q("invalid",e);break;case"textarea":xc(e,r),s=ba(e,r),q("invalid",e);break;default:s=r}Ma(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gh(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ph(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qr(e,l):typeof l=="number"&&qr(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",e):l!=null&&Fl(e,i,l,o))}switch(n){case"input":Ns(e),vc(e,r,!1);break;case"textarea":Ns(e),wc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Fp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=mn(us.current),mn(mt.current),Ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(i=r.nodeValue!==n)&&(e=Fe,e!==null))switch(e.tag){case 3:Us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return Se(t),null;case 13:if(J(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Oe!==null&&t.mode&1&&!(t.flags&128))rp(),sr(),t.flags|=98560,i=!1;else if(i=Ws(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[ht]=t}else sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else it!==null&&(cl(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?fe===0&&(fe=3):ku())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return or(),nl(e,t),e===null&&is(t.stateNode.containerInfo),Se(t),null;case 10:return su(t.type._context),Se(t),null;case 17:return Le(t.type)&&Ti(),Se(t),null;case 19:if(J(ne),i=t.memoizedState,i===null)return Se(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)jr(i,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ii(e),o!==null){for(t.flags|=128,jr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>lr&&(t.flags|=128,r=!0,jr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ii(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Se(t),null}else 2*ue()-i.renderingStartTime>lr&&n!==1073741824&&(t.flags|=128,r=!0,jr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=ne.current,Z(ne,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return wu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ve&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function iv(e,t){switch(eu(t),t.tag){case 1:return Le(t.type)&&Ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return or(),J(Ae),J(Pe),uu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lu(t),null;case 13:if(J(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ne),null;case 4:return or(),null;case 10:return su(t.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var Ys=!1,Ce=!1,ov=typeof WeakSet=="function"?WeakSet:Set,A=null;function Un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function rl(e,t,n){try{n()}catch(r){ae(e,t,r)}}var ud=!1;function av(e,t){if(za=ki,e=Wh(),ql(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===e)break t;if(p===n&&++u===s&&(a=o),p===i&&++c===r&&(l=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ba={focusedElem:e,selectionRange:n},ki=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,E=k.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:rt(t.type,w),E);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(S){ae(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return k=ud,ud=!1,k}function Wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&rl(t,n,i)}s=s.next}while(s!==r)}}function io(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zp(e){var t=e.alternate;t!==null&&(e.alternate=null,zp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[as],delete t[Wa],delete t[Uy],delete t[Wy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bp(e){return e.tag===5||e.tag===3||e.tag===4}function cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ci));else if(r!==4&&(e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}function ol(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ol(e,t,n),e=e.sibling;e!==null;)ol(e,t,n),e=e.sibling}var ye=null,st=!1;function Lt(e,t,n){for(n=n.child;n!==null;)$p(e,t,n),n=n.sibling}function $p(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Zi,n)}catch{}switch(n.tag){case 5:Ce||Un(n,t);case 6:var r=ye,s=st;ye=null,Lt(e,t,n),ye=r,st=s,ye!==null&&(st?(e=ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(st?(e=ye,n=n.stateNode,e.nodeType===8?Yo(e.parentNode,n):e.nodeType===1&&Yo(e,n),ns(e)):Yo(ye,n.stateNode));break;case 4:r=ye,s=st,ye=n.stateNode.containerInfo,st=!0,Lt(e,t,n),ye=r,st=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rl(n,t,o),s=s.next}while(s!==r)}Lt(e,t,n);break;case 1:if(!Ce&&(Un(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ae(n,t,a)}Lt(e,t,n);break;case 21:Lt(e,t,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Lt(e,t,n),Ce=r):Lt(e,t,n);break;default:Lt(e,t,n)}}function dd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ov),t.forEach(function(r){var s=gv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ye=a.stateNode,st=!1;break e;case 3:ye=a.stateNode.containerInfo,st=!0;break e;case 4:ye=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(ye===null)throw Error(M(160));$p(i,o,s),ye=null,st=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Up(t,e),t=t.sibling}function Up(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tt(t,e),dt(e),r&4){try{Wr(3,e,e.return),io(3,e)}catch(w){ae(e,e.return,w)}try{Wr(5,e,e.return)}catch(w){ae(e,e.return,w)}}break;case 1:tt(t,e),dt(e),r&512&&n!==null&&Un(n,n.return);break;case 5:if(tt(t,e),dt(e),r&512&&n!==null&&Un(n,n.return),e.flags&32){var s=e.stateNode;try{qr(s,"")}catch(w){ae(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dh(s,i),Da(a,o);var u=Da(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?gh(s,f):c==="dangerouslySetInnerHTML"?ph(s,f):c==="children"?qr(s,f):Fl(s,c,f,u)}switch(a){case"input":Ta(s,i);break;case"textarea":fh(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Qn(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Qn(s,!!i.multiple,i.defaultValue,!0):Qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[as]=i}catch(w){ae(e,e.return,w)}}break;case 6:if(tt(t,e),dt(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ae(e,e.return,w)}}break;case 3:if(tt(t,e),dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ns(t.containerInfo)}catch(w){ae(e,e.return,w)}break;case 4:tt(t,e),dt(e);break;case 13:tt(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vu=ue())),r&4&&dd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||c,tt(t,e),Ce=u):tt(t,e),dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(A=e,c=e.child;c!==null;){for(f=A=c;A!==null;){switch(p=A,y=p.child,p.tag){case 0:case 11:case 14:case 15:Wr(4,p,p.return);break;case 1:Un(p,p.return);var k=p.stateNode;if(typeof k.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(w){ae(r,n,w)}}break;case 5:Un(p,p.return);break;case 22:if(p.memoizedState!==null){hd(f);continue}}y!==null?(y.return=p,A=y):hd(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mh("display",o))}catch(w){ae(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ae(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tt(t,e),dt(e),r&4&&dd(e);break;case 21:break;default:tt(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bp(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qr(s,""),r.flags&=-33);var i=cd(e);ol(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cd(e);il(e,a,o);break;default:throw Error(M(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lv(e,t,n){A=e,Wp(e)}function Wp(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ys;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ce;a=Ys;var u=Ce;if(Ys=o,(Ce=l)&&!u)for(A=s;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?pd(s):l!==null?(l.return=o,A=l):pd(s);for(;i!==null;)A=i,Wp(i),i=i.sibling;A=s,Ys=a,Ce=u}fd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):fd(e)}}function fd(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||io(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ns(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ce||t.flags&512&&sl(t)}catch(p){ae(t,t.return,p)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function hd(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function pd(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{io(4,t)}catch(l){ae(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ae(t,s,l)}}var i=t.return;try{sl(t)}catch(l){ae(t,i,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){ae(t,o,l)}}}catch(l){ae(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var uv=Math.ceil,Ni=Rt.ReactCurrentDispatcher,gu=Rt.ReactCurrentOwner,qe=Rt.ReactCurrentBatchConfig,W=0,pe=null,ce=null,xe=0,Ve=0,Wn=nn(0),fe=0,hs=null,En=0,oo=0,yu=0,Hr=null,Re=null,vu=0,lr=1/0,xt=null,_i=!1,al=null,Yt=null,Gs=!1,Bt=null,Vi=0,Kr=0,ll=null,ci=-1,di=0;function je(){return W&6?ue():ci!==-1?ci:ci=ue()}function Gt(e){return e.mode&1?W&2&&xe!==0?xe&-xe:Ky.transition!==null?(di===0&&(di=jh()),di):(e=K,e!==0||(e=window.event,e=e===void 0?16:Nh(e.type)),e):1}function lt(e,t,n,r){if(50<Kr)throw Kr=0,ll=null,Error(M(185));Es(e,n,r),(!(W&2)||e!==pe)&&(e===pe&&(!(W&2)&&(oo|=n),fe===4&&Ft(e,xe)),Ne(e,r),n===1&&W===0&&!(t.mode&1)&&(lr=ue()+500,no&&rn()))}function Ne(e,t){var n=e.callbackNode;Kg(e,t);var r=wi(e,e===pe?xe:0);if(r===0)n!==null&&Ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ec(n),t===1)e.tag===0?Hy(md.bind(null,e)):ep(md.bind(null,e)),By(function(){!(W&6)&&rn()}),n=null;else{switch(Mh(r)){case 1:n=Wl;break;case 4:n=Ph;break;case 16:n=xi;break;case 536870912:n=bh;break;default:n=xi}n=qp(n,Hp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hp(e,t){if(ci=-1,di=0,W&6)throw Error(M(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=wi(e,e===pe?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Oi(e,r);else{t=r;var s=W;W|=2;var i=Yp();(pe!==e||xe!==t)&&(xt=null,lr=ue()+500,yn(e,t));do try{fv();break}catch(a){Kp(e,a)}while(!0);ru(),Ni.current=i,W=s,ce!==null?t=0:(pe=null,xe=0,t=fe)}if(t!==0){if(t===2&&(s=Na(e),s!==0&&(r=s,t=ul(e,s))),t===1)throw n=hs,yn(e,0),Ft(e,r),Ne(e,ue()),n;if(t===6)Ft(e,r);else{if(s=e.current.alternate,!(r&30)&&!cv(s)&&(t=Oi(e,r),t===2&&(i=Na(e),i!==0&&(r=i,t=ul(e,i))),t===1))throw n=hs,yn(e,0),Ft(e,r),Ne(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:un(e,Re,xt);break;case 3:if(Ft(e,r),(r&130023424)===r&&(t=vu+500-ue(),10<t)){if(wi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ua(un.bind(null,e,Re,xt),t);break}un(e,Re,xt);break;case 4:if(Ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uv(r/1960))-r,10<r){e.timeoutHandle=Ua(un.bind(null,e,Re,xt),r);break}un(e,Re,xt);break;case 5:un(e,Re,xt);break;default:throw Error(M(329))}}}return Ne(e,ue()),e.callbackNode===n?Hp.bind(null,e):null}function ul(e,t){var n=Hr;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=Oi(e,t),e!==2&&(t=Re,Re=n,t!==null&&cl(t)),e}function cl(e){Re===null?Re=e:Re.push.apply(Re,e)}function cv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~yu,t&=~oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function md(e){if(W&6)throw Error(M(327));tr();var t=wi(e,0);if(!(t&1))return Ne(e,ue()),null;var n=Oi(e,t);if(e.tag!==0&&n===2){var r=Na(e);r!==0&&(t=r,n=ul(e,r))}if(n===1)throw n=hs,yn(e,0),Ft(e,t),Ne(e,ue()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,Re,xt),Ne(e,ue()),null}function xu(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(lr=ue()+500,no&&rn())}}function Cn(e){Bt!==null&&Bt.tag===0&&!(W&6)&&tr();var t=W;W|=1;var n=qe.transition,r=K;try{if(qe.transition=null,K=1,e)return e()}finally{K=r,qe.transition=n,W=t,!(W&6)&&rn()}}function wu(){Ve=Wn.current,J(Wn)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zy(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(eu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ti();break;case 3:or(),J(Ae),J(Pe),uu();break;case 5:lu(r);break;case 4:or();break;case 13:J(ne);break;case 19:J(ne);break;case 10:su(r.type._context);break;case 22:case 23:wu()}n=n.return}if(pe=e,ce=e=Xt(e.current,null),xe=Ve=t,fe=0,hs=null,yu=oo=En=0,Re=Hr=null,pn!==null){for(t=0;t<pn.length;t++)if(n=pn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}pn=null}return e}function Kp(e,t){do{var n=ce;try{if(ru(),ai.current=Li,Ai){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ai=!1}if(Sn=0,he=de=se=null,Ur=!1,cs=0,gu.current=null,n===null||n.return===null){fe=1,hs=t,ce=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=nd(o);if(y!==null){y.flags&=-257,rd(y,o,a,i,t),y.mode&1&&td(i,u,t),t=y,l=u;var k=t.updateQueue;if(k===null){var w=new Set;w.add(l),t.updateQueue=w}else k.add(l);break e}else{if(!(t&1)){td(i,u,t),ku();break e}l=Error(M(426))}}else if(te&&a.mode&1){var E=nd(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),rd(E,o,a,i,t),tu(ar(l,a));break e}}i=l=ar(l,a),fe!==4&&(fe=2),Hr===null?Hr=[i]:Hr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Mp(i,l,t);Xc(i,h);break e;case 1:a=l;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yt===null||!Yt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Dp(i,a,t);Xc(i,S);break e}}i=i.return}while(i!==null)}Xp(n)}catch(x){t=x,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Yp(){var e=Ni.current;return Ni.current=Li,e===null?Li:e}function ku(){(fe===0||fe===3||fe===2)&&(fe=4),pe===null||!(En&268435455)&&!(oo&268435455)||Ft(pe,xe)}function Oi(e,t){var n=W;W|=2;var r=Yp();(pe!==e||xe!==t)&&(xt=null,yn(e,t));do try{dv();break}catch(s){Kp(e,s)}while(!0);if(ru(),W=n,Ni.current=r,ce!==null)throw Error(M(261));return pe=null,xe=0,fe}function dv(){for(;ce!==null;)Gp(ce)}function fv(){for(;ce!==null&&!Vg();)Gp(ce)}function Gp(e){var t=Zp(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?Xp(e):ce=t,gu.current=null}function Xp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=iv(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ce=null;return}}else if(n=sv(n,t,Ve),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);fe===0&&(fe=5)}function un(e,t,n){var r=K,s=qe.transition;try{qe.transition=null,K=1,hv(e,t,n,r)}finally{qe.transition=s,K=r}return null}function hv(e,t,n,r){do tr();while(Bt!==null);if(W&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Yg(e,i),e===pe&&(ce=pe=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gs||(Gs=!0,qp(xi,function(){return tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var o=K;K=1;var a=W;W|=4,gu.current=null,av(e,n),Up(n,e),Ay(Ba),ki=!!za,Ba=za=null,e.current=n,lv(n),Og(),W=a,K=o,qe.transition=i}else e.current=n;if(Gs&&(Gs=!1,Bt=e,Vi=s),i=e.pendingLanes,i===0&&(Yt=null),Bg(n.stateNode),Ne(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_i)throw _i=!1,e=al,al=null,e;return Vi&1&&e.tag!==0&&tr(),i=e.pendingLanes,i&1?e===ll?Kr++:(Kr=0,ll=e):Kr=0,rn(),null}function tr(){if(Bt!==null){var e=Mh(Vi),t=qe.transition,n=K;try{if(qe.transition=null,K=16>e?16:e,Bt===null)var r=!1;else{if(e=Bt,Bt=null,Vi=0,W&6)throw Error(M(331));var s=W;for(W|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Wr(8,c,i)}var f=c.child;if(f!==null)f.return=c,A=f;else for(;A!==null;){c=A;var p=c.sibling,y=c.return;if(zp(c),c===u){A=null;break}if(p!==null){p.return=y,A=p;break}A=y}}}var k=i.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,A=h;break e}A=i.return}}var d=e.current;for(A=d;A!==null;){o=A;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,A=g;else e:for(o=d;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:io(9,a)}}catch(x){ae(a,a.return,x)}if(a===o){A=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,A=S;break e}A=a.return}}if(W=s,rn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Zi,e)}catch{}r=!0}return r}finally{K=n,qe.transition=t}}return!1}function gd(e,t,n){t=ar(n,t),t=Mp(e,t,1),e=Kt(e,t,1),t=je(),e!==null&&(Es(e,1,t),Ne(e,t))}function ae(e,t,n){if(e.tag===3)gd(e,e,n);else for(;t!==null;){if(t.tag===3){gd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r))){e=ar(n,e),e=Dp(t,e,1),t=Kt(t,e,1),e=je(),t!==null&&(Es(t,1,e),Ne(t,e));break}}t=t.return}}function pv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(xe&n)===n&&(fe===4||fe===3&&(xe&130023424)===xe&&500>ue()-vu?yn(e,0):yu|=n),Ne(e,t)}function Qp(e,t){t===0&&(e.mode&1?(t=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):t=1);var n=je();e=jt(e,t),e!==null&&(Es(e,t,n),Ne(e,n))}function mv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qp(e,n)}function gv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Qp(e,n)}var Zp;Zp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,rv(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,te&&t.flags&1048576&&tp(t,ji,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ui(e,t),e=t.pendingProps;var s=rr(t,Pe.current);er(t,n),s=du(null,t,r,e,s,n);var i=fu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(i=!0,Pi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ou(t),s.updater=so,t.stateNode=s,s._reactInternals=t,Qa(t,r,e,n),t=Ja(null,t,r,!0,i,n)):(t.tag=0,te&&i&&Jl(t),be(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=vv(r),e=rt(r,e),s){case 0:t=qa(null,t,r,e,n);break e;case 1:t=od(null,t,r,e,n);break e;case 11:t=sd(null,t,r,e,n);break e;case 14:t=id(null,t,r,rt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),qa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),od(e,t,r,s,n);case 3:e:{if(Lp(t),e===null)throw Error(M(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ap(e,t),Ri(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ar(Error(M(423)),t),t=ad(e,t,r,n,s);break e}else if(r!==s){s=ar(Error(M(424)),t),t=ad(e,t,r,n,s);break e}else for(Oe=Ht(t.stateNode.containerInfo.firstChild),Fe=t,te=!0,it=null,n=ip(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sr(),r===s){t=Mt(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return lp(t),e===null&&Ya(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,$a(r,s)?o=null:i!==null&&$a(r,i)&&(t.flags|=32),Ap(e,t),be(e,t,o,n),t.child;case 6:return e===null&&Ya(t),null;case 13:return Np(e,t,n);case 4:return au(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ir(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),sd(e,t,r,s,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Z(Mi,r._currentValue),r._currentValue=o,i!==null)if(ut(i.value,o)){if(i.children===s.children&&!Ae.current){t=Mt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Et(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ga(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ga(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,er(t,n),s=Je(s),r=r(s),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,s=rt(r,t.pendingProps),s=rt(r.type,s),id(e,t,r,s,n);case 15:return Rp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),ui(e,t),t.tag=1,Le(r)?(e=!0,Pi(t)):e=!1,er(t,n),jp(t,r,s),Qa(t,r,s,n),Ja(null,t,r,!0,e,n);case 19:return _p(e,t,n);case 22:return Ip(e,t,n)}throw Error(M(156,t.tag))};function qp(e,t){return Th(e,t)}function yv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,r){return new yv(e,t,n,r)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vv(e){if(typeof e=="function")return Su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bl)return 11;if(e===$l)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Su(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ln:return vn(n.children,s,i,t);case zl:o=8,s|=8;break;case wa:return e=Ze(12,n,t,s|2),e.elementType=wa,e.lanes=i,e;case ka:return e=Ze(13,n,t,s),e.elementType=ka,e.lanes=i,e;case Sa:return e=Ze(19,n,t,s),e.elementType=Sa,e.lanes=i,e;case lh:return ao(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oh:o=10;break e;case ah:o=9;break e;case Bl:o=11;break e;case $l:o=14;break e;case _t:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Ze(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function vn(e,t,n,r){return e=Ze(7,e,r,t),e.lanes=n,e}function ao(e,t,n,r){return e=Ze(22,e,r,t),e.elementType=lh,e.lanes=n,e.stateNode={isHidden:!1},e}function ta(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function na(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eu(e,t,n,r,s,i,o,a,l){return e=new xv(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ou(i),e}function wv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Jp(e){if(!e)return Zt;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Le(n))return Jh(e,n,t)}return t}function em(e,t,n,r,s,i,o,a,l){return e=Eu(n,r,!0,e,s,i,o,a,l),e.context=Jp(null),n=e.current,r=je(),s=Gt(n),i=Et(r,s),i.callback=t??null,Kt(n,i,s),e.current.lanes=s,Es(e,s,r),Ne(e,r),e}function lo(e,t,n,r){var s=t.current,i=je(),o=Gt(s);return n=Jp(n),t.context===null?t.context=n:t.pendingContext=n,t=Et(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kt(s,t,o),e!==null&&(lt(e,s,o,i),oi(e,s,o)),o}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cu(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function kv(){return null}var tm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tu(e){this._internalRoot=e}uo.prototype.render=Tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));lo(e,t,null,null)};uo.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){lo(null,e,null,null)}),t[bt]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ih();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&t!==0&&t<Ot[n].priority;n++);Ot.splice(n,0,e),n===0&&Lh(e)}};function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vd(){}function Sv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fi(o);i.call(u)}}var o=em(t,r,e,0,null,!1,!1,"",vd);return e._reactRootContainer=o,e[bt]=o.current,is(e.nodeType===8?e.parentNode:e),Cn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Fi(l);a.call(u)}}var l=Eu(e,0,!1,null,null,!1,!1,"",vd);return e._reactRootContainer=l,e[bt]=l.current,is(e.nodeType===8?e.parentNode:e),Cn(function(){lo(t,l,n,r)}),l}function fo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fi(o);a.call(l)}}lo(t,o,e,s)}else o=Sv(n,t,e,s,r);return Fi(o)}Dh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ar(t.pendingLanes);n!==0&&(Hl(t,n|1),Ne(t,ue()),!(W&6)&&(lr=ue()+500,rn()))}break;case 13:Cn(function(){var r=jt(e,1);if(r!==null){var s=je();lt(r,e,1,s)}}),Cu(e,1)}};Kl=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=je();lt(t,e,134217728,n)}Cu(e,134217728)}};Rh=function(e){if(e.tag===13){var t=Gt(e),n=jt(e,t);if(n!==null){var r=je();lt(n,e,t,r)}Cu(e,t)}};Ih=function(){return K};Ah=function(e,t){var n=K;try{return K=e,t()}finally{K=n}};Ia=function(e,t,n){switch(t){case"input":if(Ta(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=to(r);if(!s)throw Error(M(90));ch(r),Ta(r,s)}}}break;case"textarea":fh(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};xh=xu;wh=Cn;var Ev={usingClientEntryPoint:!1,Events:[Ts,On,to,yh,vh,xu]},Mr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cv={bundleType:Mr.bundleType,version:Mr.version,rendererPackageName:Mr.rendererPackageName,rendererConfig:Mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Eh(e),e===null?null:e.stateNode},findFiberByHostInstance:Mr.findFiberByHostInstance||kv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{Zi=Xs.inject(Cv),pt=Xs}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ev;He.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(t))throw Error(M(200));return wv(e,t,null,n)};He.createRoot=function(e,t){if(!Pu(e))throw Error(M(299));var n=!1,r="",s=tm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Eu(e,1,!1,null,null,n,!1,r,s),e[bt]=t.current,is(e.nodeType===8?e.parentNode:e),new Tu(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Eh(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return Cn(e)};He.hydrate=function(e,t,n){if(!co(t))throw Error(M(200));return fo(null,e,t,!0,n)};He.hydrateRoot=function(e,t,n){if(!Pu(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=em(t,null,e,1,n??null,s,!1,i,o),e[bt]=t.current,is(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new uo(t)};He.render=function(e,t,n){if(!co(t))throw Error(M(200));return fo(null,e,t,!1,n)};He.unmountComponentAtNode=function(e){if(!co(e))throw Error(M(40));return e._reactRootContainer?(Cn(function(){fo(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};He.unstable_batchedUpdates=xu;He.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!co(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return fo(e,t,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(e){console.error(e)}}nm(),nh.exports=He;var Tv=nh.exports,xd=Tv;va.createRoot=xd.createRoot,va.hydrateRoot=xd.hydrateRoot;const Pv=()=>{const[e,t]=v.useState(!1),[n,r]=v.useState(null),s=v.useCallback(async c=>{var f;t(!0),r(null);try{if(!navigator.clipboard||!navigator.clipboard.read)throw new Error("Modern Clipboard API is not supported in this browser. Please use Ctrl+V paste event instead.");const p=await navigator.clipboard.read();for(const y of p){const k=y.types.filter(d=>d.startsWith("image/"));if(k.length===0)throw new Error("No image found in clipboard");const w=k[0],E=await y.getType(w),h=new FileReader;return new Promise((d,g)=>{h.onload=S=>{var C,T,P;const x=(C=S.target)==null?void 0:C.result;if(x)(T=c==null?void 0:c.onSuccess)==null||T.call(c,x),d(x);else{const D=new Error("Failed to convert image to data URL");(P=c==null?void 0:c.onError)==null||P.call(c,D),g(D)}},h.onerror=()=>{var x;const S=new Error("Failed to read image data");(x=c==null?void 0:c.onError)==null||x.call(c,S),g(S)},h.readAsDataURL(E)})}throw new Error("No valid image data found")}catch(p){const y=p instanceof Error?p:new Error("Unknown clipboard error");throw r(y.message),(f=c==null?void 0:c.onError)==null||f.call(c,y),y}finally{t(!1)}},[]),i=v.useCallback(async c=>{t(!0),r(null);try{if(!navigator.clipboard||!navigator.clipboard.write)throw new Error("Clipboard write API is not supported in this browser");const p=await(await fetch(c)).blob(),y=new ClipboardItem({[p.type]:p});await navigator.clipboard.write([y])}catch(f){const p=f instanceof Error?f:new Error("Unknown clipboard error");if(r(p.message),navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(c),console.warn("Fallback: Copied image as data URL text")}catch(y){console.warn("Fallback clipboard write also failed:",y)}throw p}finally{t(!1)}},[]),o=v.useCallback(async c=>{t(!0),r(null);try{if(!(c!=null&&c.clipboardData))throw new Error("No clipboard data available");const f=c.clipboardData.items;for(let p=0;p<f.length;p++){const y=f[p];if(y.type.startsWith("image/")){const k=y.getAsFile();if(!k)continue;const w=new FileReader;return new Promise((E,h)=>{w.onload=d=>{var S;const g=(S=d.target)==null?void 0:S.result;g?E(g):h(new Error("Failed to convert image to data URL"))},w.onerror=()=>{h(new Error("Failed to read image data"))},w.readAsDataURL(k)})}}throw new Error("No image found in clipboard data")}catch(f){const p=f instanceof Error?f:new Error("Unknown clipboard error");throw r(p.message),p}finally{t(!1)}},[]),a=v.useCallback(()=>!!(navigator.clipboard&&navigator.clipboard.read),[]),l=v.useCallback(()=>!!(navigator.clipboard&&navigator.clipboard.write),[]),u=v.useCallback(async()=>{try{return(await navigator.permissions.query({name:"clipboard-read"})).state==="granted"}catch{return!0}},[]);return{readImageFromClipboard:s,writeImageToClipboard:i,readImageFromClipboardLegacy:o,isClipboardSupported:a,isClipboardWriteSupported:l,requestClipboardPermission:u,isLoading:e,error:n,clearError:()=>r(null)}};var rm=Symbol.for("immer-nothing"),wd=Symbol.for("immer-draftable"),$e=Symbol.for("immer-state");function ot(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object.getPrototypeOf;function cr(e){return!!e&&!!e[$e]}function Tn(e){var t;return e?sm(e)||Array.isArray(e)||!!e[wd]||!!((t=e.constructor)!=null&&t[wd])||po(e)||mo(e):!1}var bv=Object.prototype.constructor.toString();function sm(e){if(!e||typeof e!="object")return!1;const t=ur(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===bv}function zi(e,t){ho(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function ho(e){const t=e[$e];return t?t.type_:Array.isArray(e)?1:po(e)?2:mo(e)?3:0}function dl(e,t){return ho(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function im(e,t,n){const r=ho(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function jv(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function po(e){return e instanceof Map}function mo(e){return e instanceof Set}function cn(e){return e.copy_||e.base_}function fl(e,t){if(po(e))return new Map(e);if(mo(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=sm(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$e];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(ur(e),r)}else{const r=ur(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function bu(e,t=!1){return go(e)||cr(e)||!Tn(e)||(ho(e)>1&&(e.set=e.add=e.clear=e.delete=Mv),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>bu(r,!0))),e}function Mv(){ot(2)}function go(e){return Object.isFrozen(e)}var Dv={};function Pn(e){const t=Dv[e];return t||ot(0,e),t}var ps;function om(){return ps}function Rv(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kd(e,t){t&&(Pn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hl(e){pl(e),e.drafts_.forEach(Iv),e.drafts_=null}function pl(e){e===ps&&(ps=e.parent_)}function Sd(e){return ps=Rv(ps,e)}function Iv(e){const t=e[$e];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ed(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$e].modified_&&(hl(t),ot(4)),Tn(e)&&(e=Bi(t,e),t.parent_||$i(t,e)),t.patches_&&Pn("Patches").generateReplacementPatches_(n[$e].base_,e,t.patches_,t.inversePatches_)):e=Bi(t,n,[]),hl(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rm?e:void 0}function Bi(e,t,n){if(go(t))return t;const r=t[$e];if(!r)return zi(t,(s,i)=>Cd(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return $i(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),zi(i,(a,l)=>Cd(e,r,s,a,l,n,o)),$i(e,s,!1),n&&e.patches_&&Pn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Cd(e,t,n,r,s,i,o){if(cr(s)){const a=i&&t&&t.type_!==3&&!dl(t.assigned_,r)?i.concat(r):void 0,l=Bi(e,s,a);if(im(n,r,l),cr(l))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Tn(s)&&!go(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bi(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&$i(e,s)}}function $i(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bu(t,n)}function Av(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:om(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=ju;n&&(s=[r],i=ms);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var ju={get(e,t){if(t===$e)return e;const n=cn(e);if(!dl(n,t))return Lv(e,n,t);const r=n[t];return e.finalized_||!Tn(r)?r:r===ra(e.base_,t)?(sa(e),e.copy_[t]=gl(r,e)):r},has(e,t){return t in cn(e)},ownKeys(e){return Reflect.ownKeys(cn(e))},set(e,t,n){const r=am(cn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=ra(cn(e),t),i=s==null?void 0:s[$e];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(jv(n,s)&&(n!==void 0||dl(e.base_,t)))return!0;sa(e),ml(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ra(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sa(e),ml(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=cn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ot(11)},getPrototypeOf(e){return ur(e.base_)},setPrototypeOf(){ot(12)}},ms={};zi(ju,(e,t)=>{ms[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ms.deleteProperty=function(e,t){return ms.set.call(this,e,t,void 0)};ms.set=function(e,t,n){return ju.set.call(this,e[0],t,n,e[0])};function ra(e,t){const n=e[$e];return(n?cn(n):e)[t]}function Lv(e,t,n){var s;const r=am(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function am(e,t){if(!(t in e))return;let n=ur(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ur(n)}}function ml(e){e.modified_||(e.modified_=!0,e.parent_&&ml(e.parent_))}function sa(e){e.copy_||(e.copy_=fl(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Nv=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(l=i,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&ot(6),r!==void 0&&typeof r!="function"&&ot(7);let s;if(Tn(t)){const i=Sd(this),o=gl(t,void 0);let a=!0;try{s=n(o),a=!1}finally{a?hl(i):pl(i)}return kd(i,r),Ed(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===rm&&(s=void 0),this.autoFreeze_&&bu(s,!0),r){const i=[],o=[];Pn("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else ot(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,s;return[this.produce(t,n,(o,a)=>{r=o,s=a}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tn(e)||ot(8),cr(e)&&(e=_v(e));const t=Sd(this),n=gl(e,void 0);return n[$e].isManual_=!0,pl(t),n}finishDraft(e,t){const n=e&&e[$e];(!n||!n.isManual_)&&ot(9);const{scope_:r}=n;return kd(r,t),Ed(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Pn("Patches").applyPatches_;return cr(e)?r(e,t):this.produce(e,s=>r(s,t))}};function gl(e,t){const n=po(e)?Pn("MapSet").proxyMap_(e,t):mo(e)?Pn("MapSet").proxySet_(e,t):Av(e,t);return(t?t.scope_:om()).drafts_.push(n),n}function _v(e){return cr(e)||ot(10,e),lm(e)}function lm(e){if(!Tn(e)||go(e))return e;const t=e[$e];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=fl(e,t.scope_.immer_.useStrictShallowCopy_)}else n=fl(e,!0);return zi(n,(r,s)=>{im(n,r,lm(s))}),t&&(t.finalized_=!1),n}var Ue=new Nv,Vv=Ue.produce;Ue.produceWithPatches.bind(Ue);Ue.setAutoFreeze.bind(Ue);Ue.setUseStrictShallowCopy.bind(Ue);Ue.applyPatches.bind(Ue);Ue.createDraft.bind(Ue);Ue.finishDraft.bind(Ue);const um={images:[],selectedImageId:null,dragMode:"free",aspectRatioLocked:!0,history:[],historyIndex:-1,cropState:{imageId:null,selection:null,isActive:!1},layerSidebarVisible:!1,darkMode:!1,isLoading:!1},cm=()=>`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,In=(e,t,n)=>({id:cm(),action:e,timestamp:Date.now(),description:t,images:JSON.parse(JSON.stringify(n))}),Ov=Vv((e,t)=>{switch(t.type){case"ADD_IMAGE":{const n=e.images.slice(-1),r=Date.now();if(n.some(a=>{const l=a.src===t.payload.src&&a.x===t.payload.x&&a.y===t.payload.y&&r-parseInt(a.id.split("_")[1])<50;return l&&console.warn("Very recent duplicate detected:",{timeDiff:r-parseInt(a.id.split("_")[1]),coordinates:{x:a.x,y:a.y},newCoordinates:{x:t.payload.x,y:t.payload.y}}),l})){console.warn("Duplicate image prevented:",t.payload.src.substring(0,50)+"...");break}const i={...t.payload,id:cm(),zIndex:e.images.length,aspectRatioLocked:e.aspectRatioLocked};e.images.push(i),e.selectedImageId=i.id,console.info(`✅ Image added successfully. Total images: ${e.images.length}`,{id:i.id,size:`${i.width}×${i.height}`,position:`(${i.x}, ${i.y})`});const o=In("add-image","画像を追加",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(o),e.historyIndex=e.history.length-1,e.history.length>100&&(e.history.shift(),e.historyIndex--);break}case"DELETE_IMAGE":{const n=e.images.findIndex(r=>r.id===t.payload);if(n!==-1){e.images.splice(n,1),e.selectedImageId===t.payload&&(e.selectedImageId=null),e.images.forEach((s,i)=>{s.zIndex=i});const r=In("delete-image","画像を削除",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(r),e.historyIndex=e.history.length-1}break}case"UPDATE_IMAGE":{const n=e.images.findIndex(r=>r.id===t.payload.id);n!==-1&&Object.assign(e.images[n],t.payload.updates);break}case"SELECT_IMAGE":e.selectedImageId=t.payload;break;case"SET_DRAG_MODE":e.dragMode=t.payload;break;case"TOGGLE_ASPECT_RATIO_LOCK":e.aspectRatioLocked=!e.aspectRatioLocked;break;case"SET_ASPECT_RATIO_LOCK":e.aspectRatioLocked=t.payload;break;case"UNDO":{if(e.historyIndex>0){e.historyIndex--;const n=e.history[e.historyIndex];e.images=JSON.parse(JSON.stringify(n.images))}break}case"REDO":{if(e.historyIndex<e.history.length-1){e.historyIndex++;const n=e.history[e.historyIndex];e.images=JSON.parse(JSON.stringify(n.images))}break}case"ADD_HISTORY_STEP":{const n=In(t.payload.action,t.payload.description,e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(n),e.historyIndex=e.history.length-1,console.log(`📝 履歴追加: ${t.payload.description} (total: ${e.history.length})`),e.history.length>100&&(e.history.shift(),e.historyIndex--);break}case"START_CROP":e.cropState.imageId=t.payload,e.cropState.isActive=!0,e.cropState.selection=null;break;case"UPDATE_CROP_SELECTION":e.cropState.selection=t.payload;break;case"APPLY_CROP":{if(e.cropState.imageId&&e.cropState.selection){const n=e.images.findIndex(r=>r.id===e.cropState.imageId);if(n!==-1){const r=e.images[n],s=e.cropState.selection;r.width=s.width,r.height=s.height,r.x+=s.x,r.y+=s.y;const i=In("crop-image","画像をトリミング",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(i),e.historyIndex=e.history.length-1}}e.cropState.imageId=null,e.cropState.selection=null,e.cropState.isActive=!1;break}case"CANCEL_CROP":e.cropState.imageId=null,e.cropState.selection=null,e.cropState.isActive=!1;break;case"REORDER_LAYER":{const n=e.images.findIndex(r=>r.id===t.payload.imageId);if(n!==-1){const r=e.images[n].zIndex,s=t.payload.newZIndex;e.images[n].zIndex=s,e.images.forEach(a=>{a.id!==t.payload.imageId&&(r<s?a.zIndex<=s&&a.zIndex>r&&a.zIndex--:a.zIndex>=s&&a.zIndex<r&&a.zIndex++)}),[...e.images].sort((a,l)=>a.zIndex-l.zIndex).forEach((a,l)=>{a.zIndex=l});const o=In("reorder-layer","レイヤー順序を変更",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(o),e.historyIndex=e.history.length-1,e.history.length>100&&(e.history.shift(),e.historyIndex--)}break}case"TOGGLE_LAYER_VISIBILITY":{const n=e.images.findIndex(r=>r.id===t.payload);if(n!==-1){e.images[n].visible=!e.images[n].visible;const r=In("toggle-visibility","表示/非表示を切替",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(r),e.historyIndex=e.history.length-1}break}case"TOGGLE_LAYER_SIDEBAR":e.layerSidebarVisible=!e.layerSidebarVisible;break;case"SET_LAYER_SIDEBAR":e.layerSidebarVisible=t.payload;break;case"TOGGLE_DARK_MODE":e.darkMode=!e.darkMode;break;case"SET_DARK_MODE":e.darkMode=t.payload;break;case"SET_LOADING":e.isLoading=t.payload;break;case"LOAD_STATE":Object.assign(e,t.payload);break;case"RESET_STATE":Object.assign(e,um);break}}),dm=v.createContext(void 0),Fv=({children:e})=>{const[t,n]=v.useReducer(Ov,um);v.useEffect(()=>{try{localStorage.removeItem("image-canvas-state"),console.info("LocalStorage cleared for debugging")}catch(s){console.warn("Failed to clear localStorage:",s)}},[]),v.useEffect(()=>{const s=setTimeout(()=>{try{const i={...t,images:[]};localStorage.setItem("image-canvas-state",JSON.stringify(i)),console.info("State saved to localStorage (without images)")}catch(i){console.warn("Failed to save state to localStorage:",i);try{localStorage.removeItem("image-canvas-state"),console.info("Cleared localStorage due to save failure")}catch(o){console.error("Failed to clear localStorage:",o)}}},1e3);return()=>clearTimeout(s)},[t]),v.useEffect(()=>{t.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t.darkMode]);const r={state:t,dispatch:n,addImage:s=>n({type:"ADD_IMAGE",payload:s}),deleteImage:s=>n({type:"DELETE_IMAGE",payload:s}),updateImage:(s,i)=>n({type:"UPDATE_IMAGE",payload:{id:s,updates:i}}),selectImage:s=>n({type:"SELECT_IMAGE",payload:s}),setDragMode:s=>n({type:"SET_DRAG_MODE",payload:s}),toggleAspectRatioLock:()=>n({type:"TOGGLE_ASPECT_RATIO_LOCK"}),undo:()=>n({type:"UNDO"}),redo:()=>n({type:"REDO"}),startCrop:s=>n({type:"START_CROP",payload:s}),updateCropSelection:s=>n({type:"UPDATE_CROP_SELECTION",payload:s}),applyCrop:()=>n({type:"APPLY_CROP"}),cancelCrop:()=>n({type:"CANCEL_CROP"}),reorderLayer:(s,i)=>n({type:"REORDER_LAYER",payload:{imageId:s,newZIndex:i}}),toggleLayerVisibility:s=>n({type:"TOGGLE_LAYER_VISIBILITY",payload:s}),toggleLayerSidebar:()=>n({type:"TOGGLE_LAYER_SIDEBAR"}),toggleDarkMode:()=>n({type:"TOGGLE_DARK_MODE"}),saveToLocalStorage:()=>{localStorage.setItem("image-canvas-state",JSON.stringify(t))},loadFromLocalStorage:()=>{const s=localStorage.getItem("image-canvas-state");if(s)try{const i=JSON.parse(s);n({type:"LOAD_STATE",payload:i})}catch(i){console.warn("Failed to load state from localStorage:",i)}}};return m.jsx(dm.Provider,{value:r,children:e})},It=()=>{const e=v.useContext(dm);if(e===void 0)throw new Error("useImageContext must be used within an ImageProvider");return e};let Qs=!1,ia=0;const Td=3e3,fm=()=>{const{readImageFromClipboard:e,readImageFromClipboardLegacy:t,isClipboardSupported:n,isLoading:r,error:s}=Pv(),{addImage:i,state:o}=It(),[a,l]=v.useState(!1),u=v.useCallback(E=>new Promise((h,d)=>{const g=new Image;g.onload=()=>{h({width:g.naturalWidth,height:g.naturalHeight})},g.onerror=()=>{d(new Error("Failed to load image"))},g.src=E}),[]),c=v.useCallback((E,h)=>{const d=document.getElementById("image-canvas"),g=d==null?void 0:d.getBoundingClientRect(),S=8,x=g?g.width-S:792,C=g?g.height-S:592,T=x/2,P=C/2,D=o.images.length>0?o.images[o.images.length-1]:null;let b,I;return D?(b=D.x+25,I=D.y+25,b+E>x&&(b=50,I=D.y+D.height+30),I+h>C&&(b=T-E/2,I=P-h/2)):(b=T-E/2,I=P-h/2),b=Math.max(10,Math.min(x-E-10,b)),I=Math.max(10,Math.min(C-h-10,I)),{x:b,y:I}},[o.images]),f=v.useCallback((E,h)=>{try{const d=document.getElementById("image-canvas"),g=d==null?void 0:d.getBoundingClientRect(),S=1200,x=900,C=g?Math.max(g.width*.85,800):S,T=g?Math.max(g.height*.85,600):x;let P=E,D=h,b=!1;const I=P>C,O=D>T;if(I||O){const z=C/P,U=T/D,Y=Math.min(z,U);Y<.9&&(P=Math.round(P*Y),D=Math.round(D*Y),b=!0,console.info("Image resized for canvas fit:",{original:`${E}×${h}`,adjusted:`${P}×${D}`,ratio:`${Math.round((1-Y)*100)}% reduction`,canvasSize:`${C}×${T}`}),setTimeout(()=>{const me=Math.round((1-Y)*100),L=Date.now();!Qs&&L-ia>Td?(Qs=!0,console.info("Showing resize alert"),alert(`画像がキャンバスより大きいため、自動で${me}%縮小しました。
元のサイズ: ${E}×${h}px
調整後: ${P}×${D}px`),ia=L,setTimeout(()=>{Qs=!1,console.info("Reset resize alert flag")},500)):console.info("Skipping duplicate resize alert",{isShowing:Qs,timeSinceLastAlert:L-ia,cooldown:Td})},100))}return{width:P,height:D,wasResized:b}}catch(d){return console.error("Error in adjustImageSize:",d),{width:E,height:h,wasResized:!1}}},[]),p=v.useCallback(async()=>{if(a)return console.info("Paste already in progress, skipping..."),!1;l(!0);try{console.info("Starting Modern Clipboard API paste...");const E=await e(),h=E.length*.75/(1024*1024);if(h>50)throw new Error(`画像サイズが大きすぎます (${h.toFixed(1)}MB)。50MB以下の画像を使用してください。`);const{width:d,height:g}=await u(E);if(d>8e3||g>8e3)throw new Error(`画像の解像度が大きすぎます (${d}×${g})。8000×8000px以下の画像を使用してください。`);const{width:S,height:x}=f(d,g),{x:C,y:T}=c(S,x);return i({src:E,x:C,y:T,width:S,height:x,originalWidth:d,originalHeight:g,visible:!0,aspectRatioLocked:!0}),console.info("✅ Successfully pasted image using Modern Clipboard API",{size:`${d}×${g}`,adjusted:`${S}×${x}`,position:`(${C}, ${T})`}),!0}catch(E){return console.warn("Modern Clipboard API failed:",E),E instanceof Error&&(E.message.includes("大きすぎます")||E.message.includes("解像度")?alert(E.message):E.message.includes("No image found")&&console.info("No image in clipboard, user should copy an image first")),!1}finally{setTimeout(()=>l(!1),1)}},[a,e,u,f,c,i]),y=v.useCallback(async E=>{if(E.preventDefault(),a)return console.info("Paste already in progress, skipping paste event..."),!1;if(n())return console.info("Skipping paste event - Modern Clipboard API is available"),!1;if(l(!0),console.info("Processing paste event with legacy clipboard handler"),!E.clipboardData||E.clipboardData.items.length===0)return console.warn("No clipboard data available in paste event"),l(!1),!1;const h=E.clipboardData.items;console.info("Clipboard contains:",Array.from(h).map(d=>({type:d.type,kind:d.kind})));try{const d=await t(E),g=d.length*.75/(1024*1024);if(g>50)throw new Error(`画像サイズが大きすぎます (${g.toFixed(1)}MB)。50MB以下の画像を使用してください。`);const{width:S,height:x}=await u(d);if(S>8e3||x>8e3)throw new Error(`画像の解像度が大きすぎます (${S}×${x})。8000×8000px以下の画像を使用してください。`);const{width:C,height:T}=f(S,x),{x:P,y:D}=c(C,T);return i({src:d,x:P,y:D,width:C,height:T,originalWidth:S,originalHeight:x,visible:!0,aspectRatioLocked:!0}),console.info("✅ Successfully pasted image using legacy handler",{size:`${S}×${x}`,adjusted:`${C}×${T}`,position:`(${P}, ${D})`}),!0}catch(d){return console.error("Failed to paste image using legacy handler:",d),d instanceof Error&&(d.message.includes("大きすぎます")||d.message.includes("解像度")?alert(d.message):d.message.includes("No image found")?console.info("No image data found in clipboard. Please copy an image first."):alert(`画像の貼り付けに失敗しました: ${d.message}`)),!1}finally{setTimeout(()=>l(!1),1)}},[a,t,u,f,c,i,n]),k=v.useCallback(async E=>{if((E.ctrlKey||E.metaKey)&&E.key==="v"){const h=document.activeElement;if(h&&(h.tagName==="INPUT"||h.tagName==="TEXTAREA"||h.getAttribute("contenteditable")==="true"))return;if(a){console.info("Paste already in progress, skipping keyboard shortcut..."),E.preventDefault();return}if(E.preventDefault(),n())try{if(await p()){console.info("Successfully used Modern Clipboard API");return}}catch(d){console.warn("Modern Clipboard API failed, falling back to paste event:",d)}console.info("Triggering manual paste event for legacy support")}},[a,p,n]);v.useEffect(()=>(document.addEventListener("keydown",k),document.addEventListener("paste",y),()=>{document.removeEventListener("keydown",k),document.removeEventListener("paste",y)}),[k,y]);const w=v.useCallback(async E=>{const d=Array.from(E).filter(g=>g.type.startsWith("image/"));if(d.length===0){alert("画像ファイルが見つかりません。画像ファイルをドロップしてください。");return}for(const g of d)try{const S=g.size/1048576;if(S>50){alert(`ファイル "${g.name}" が大きすぎます (${S.toFixed(1)}MB)。50MB以下のファイルを使用してください。`);continue}const x=new FileReader,C=await new Promise((z,U)=>{x.onload=Y=>{var L;const me=(L=Y.target)==null?void 0:L.result;me?z(me):U(new Error("Failed to read file"))},x.onerror=()=>U(new Error(`Failed to read file: ${g.name}`)),x.readAsDataURL(g)}),{width:T,height:P}=await u(C);if(T>8e3||P>8e3){alert(`ファイル "${g.name}" の解像度が大きすぎます (${T}×${P})。8000×8000px以下の画像を使用してください。`);continue}const{width:D,height:b}=f(T,P),{x:I,y:O}=c(D,b);i({src:C,x:I,y:O,width:D,height:b,originalWidth:T,originalHeight:P,visible:!0,aspectRatioLocked:!0}),console.info(`✅ Successfully dropped file: ${g.name}`,{size:`${T}×${P}`,adjusted:`${D}×${b}`,position:`(${I}, ${O})`})}catch(S){console.error(`Failed to process dropped file: ${g.name}`,S);const x=S instanceof Error?S.message:"Unknown error";alert(`ファイル "${g.name}" の処理に失敗しました: ${x}`)}},[u,f,c,i]);return{handlePasteFromClipboard:p,handlePasteEvent:y,handleFileDrop:w,isLoading:r,error:s}};var hm={exports:{}};(function(e,t){(function(n,r){r()})(kr,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,c,f)},p.onerror=function(){console.error("could not download file")},p.send()}function s(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof kr=="object"&&kr.global===kr?kr:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,f){var p=o.URL||o.webkitURL,y=document.createElement("a");c=c||u.name||"download",y.download=c,y.rel="noopener",typeof u=="string"?(y.href=u,y.origin===location.origin?i(y):s(y.href)?r(u,c,f):i(y,y.target="_blank")):(y.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(y.href)},4e4),setTimeout(function(){i(y)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),c);else if(s(u))r(u,c,f);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){i(p)})}}:function(u,c,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var y=u.type==="application/octet-stream",k=/constructor/i.test(o.HTMLElement)||o.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||y&&k||a)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var g=E.result;g=w?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=g:location=g,p=null},E.readAsDataURL(u)}else{var h=o.URL||o.webkitURL,d=h.createObjectURL(u);p?p.location=d:location.href=d,p=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(hm);var Pd=hm.exports;const Mu=()=>{const{state:e}=It(),[t,n]=v.useState(!1),[r,s]=v.useState(0),i=v.useCallback((f,p,y,k)=>{const w=f*p;let E=0;switch(y){case"png":E=w*3;break;case"jpeg":E=w*3*k/3;break;case"webp":E=w*3*k/4;break}if(E<1024)return{size:E,unit:"B",formatted:`${Math.round(E)}B`};if(E<1024*1024){const h=E/1024;return{size:h,unit:"KB",formatted:`${Math.round(h)}KB`}}else{const h=E/1048576;return{size:h,unit:"MB",formatted:`${h.toFixed(1)}MB`}}},[]),o=v.useCallback(async(f,p)=>{const y=e.images.find(k=>k.id===f);if(!y)throw new Error("Image not found");n(!0),s(0);try{const k=document.createElement("canvas"),w=k.getContext("2d");if(!w)throw new Error("Canvas context not available");k.width=y.width,k.height=y.height,s(25);const E=new Image;await new Promise((T,P)=>{E.onload=T,E.onerror=P,E.src=y.src}),s(50),w.drawImage(E,0,0,y.width,y.height),s(75);const h=`image/${p.format}`,d=k.toDataURL(h,p.quality),S=await(await fetch(d)).blob();s(100);const C=`image-canvas-${new Date().toISOString().replace(/[:.]/g,"-")}.${p.format}`;Pd.saveAs(S,C)}catch(k){throw console.error("Failed to download image:",k),k}finally{n(!1),s(0)}},[e.images]),a=v.useCallback(async f=>{if(e.images.length===0)throw new Error("No images to export");n(!0),s(0);try{const p=e.images.filter(b=>b.visible);if(p.length===0)throw new Error("No visible images to export");const y=p.reduce((b,I)=>({minX:Math.min(b.minX,I.x),minY:Math.min(b.minY,I.y),maxX:Math.max(b.maxX,I.x+I.width),maxY:Math.max(b.maxY,I.y+I.height)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),k=20,w=(y.maxX-y.minX+k*2)*f.scale,E=(y.maxY-y.minY+k*2)*f.scale;s(10);const h=document.createElement("canvas"),d=h.getContext("2d");if(!d)throw new Error("Canvas context not available");h.width=w,h.height=E,f.includeBackground&&(d.fillStyle=f.backgroundColor,d.fillRect(0,0,w,E)),s(20);const g=[...p].sort((b,I)=>b.zIndex-I.zIndex);for(let b=0;b<g.length;b++){const I=g[b];try{const O=new Image;await new Promise((L,R)=>{O.onload=L,O.onerror=R,O.src=I.src});const z=(I.x-y.minX+k)*f.scale,U=(I.y-y.minY+k)*f.scale,Y=I.width*f.scale,me=I.height*f.scale;I.opacity!==void 0&&(d.globalAlpha=I.opacity),I.rotation?(d.save(),d.translate(z+Y/2,U+me/2),d.rotate(I.rotation*Math.PI/180),d.drawImage(O,-Y/2,-me/2,Y,me),d.restore()):d.drawImage(O,z,U,Y,me),d.globalAlpha=1,s(20+(b+1)/g.length*60)}catch(O){console.warn(`Failed to draw image ${I.id}:`,O)}}s(90);const S=`image/${f.format}`,x=h.toDataURL(S,f.quality),T=await(await fetch(x)).blob();s(100);const D=`image-canvas-export-${new Date().toISOString().replace(/[:.]/g,"-")}.${f.format}`;Pd.saveAs(T,D)}catch(p){throw console.error("Failed to export images:",p),p}finally{n(!1),s(0)}},[e.images]),l=v.useCallback(async f=>{const p=e.images.find(y=>y.id===f);if(!p)throw new Error("Image not found");try{const k=await(await fetch(p.src)).blob();if(navigator.clipboard&&navigator.clipboard.write){const w=new ClipboardItem({[k.type]:k});await navigator.clipboard.write([w])}else throw new Error("Clipboard API not supported")}catch(y){throw console.error("Failed to copy image to clipboard:",y),y}},[e.images]),u=v.useCallback((f="png",p=1)=>{const y=document.getElementById("image-canvas");if(!y)throw new Error("Canvas not found");const k=`image/${f}`;return y.toDataURL(k,p)},[]),c=v.useCallback(async(f,p)=>{const y=e.images.find(S=>S.id===f);if(!y)throw new Error("Image not found");const k=document.createElement("canvas"),w=k.getContext("2d");if(!w)throw new Error("Canvas context not available");const E=200,h=Math.min(E/y.width,E/y.height);k.width=y.width*h,k.height=y.height*h;const d=new Image;await new Promise((S,x)=>{d.onload=S,d.onerror=x,d.src=y.src}),w.drawImage(d,0,0,k.width,k.height);const g=`image/${p.format}`;return k.toDataURL(g,p.quality)},[e.images]);return{downloadSingleImage:o,exportAllImages:a,copyImageToClipboard:l,getCanvasAsDataURL:u,generatePreview:c,estimateFileSize:i,isExporting:t,exportProgress:r}},zv=()=>{const{undo:e,redo:t,toggleLayerSidebar:n,state:r,updateImage:s,reorderLayer:i,deleteImage:o,dispatch:a}=It(),{copyImageToClipboard:l}=Mu(),u=v.useCallback(h=>{if(!(h.ctrlKey||h.metaKey))return!1;switch(h.key.toLowerCase()){case"z":return h.shiftKey?(h.preventDefault(),t(),!0):(h.preventDefault(),e(),!0);default:return!1}},[e,t]),c=v.useCallback(h=>{const d=document.activeElement;if(d&&(d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.getAttribute("contenteditable")==="true"))return!1;switch(h.key.toLowerCase()){case"l":return h.preventDefault(),n(),!0;case"[":if(r.selectedImageId){h.preventDefault();const g=r.images.find(S=>S.id===r.selectedImageId);return g&&g.zIndex>0&&i(r.selectedImageId,g.zIndex-1),!0}return!1;case"]":if(r.selectedImageId){h.preventDefault();const g=r.images.find(x=>x.id===r.selectedImageId),S=Math.max(...r.images.map(x=>x.zIndex),-1);return g&&g.zIndex<S&&i(r.selectedImageId,g.zIndex+1),!0}return!1;case"delete":case"backspace":return r.selectedImageId?(h.preventDefault(),o(r.selectedImageId),!0):!1;default:return!1}},[n,r.selectedImageId,r.images,i,o]),f=v.useCallback(h=>{if(!r.selectedImageId||r.dragMode==="grid-snap")return!1;const d=h.shiftKey?10:1,g=r.images.find(S=>S.id===r.selectedImageId);if(!g)return!1;switch(h.key){case"ArrowUp":return h.preventDefault(),s(r.selectedImageId,{y:Math.max(0,g.y-d)}),a({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をキーボードで移動"}}),!0;case"ArrowDown":return h.preventDefault(),s(r.selectedImageId,{y:g.y+d}),a({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をキーボードで移動"}}),!0;case"ArrowLeft":return h.preventDefault(),s(r.selectedImageId,{x:Math.max(0,g.x-d)}),a({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をキーボードで移動"}}),!0;case"ArrowRight":return h.preventDefault(),s(r.selectedImageId,{x:g.x+d}),a({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をキーボードで移動"}}),!0;default:return!1}},[r.selectedImageId,r.images,r.dragMode,s,a]),p=v.useCallback(async h=>{const d=h.ctrlKey||h.metaKey;if(d&&h.key.toLowerCase()==="c"){if(r.selectedImageId){h.preventDefault();try{await l(r.selectedImageId),console.log("📋 Image copied to clipboard successfully")}catch(g){console.error("Failed to copy image to clipboard:",g)}return!0}return!1}return d&&h.key.toLowerCase()==="a"?(h.preventDefault(),!0):!1},[r.selectedImageId,l]),y=v.useCallback(async h=>{u(h)||await p(h)||c(h)||f(h)},[u,p,c,f]),k=[{key:"Ctrl+V / ⌘V",action:()=>{},description:"クリップボードから画像を貼り付け"},{key:"Ctrl+C / ⌘C",action:()=>{},description:"選択画像をクリップボードにコピー"},{key:"Ctrl+Z / ⌘Z",action:e,description:"元に戻す"},{key:"Ctrl+Shift+Z / ⌘⇧Z",action:t,description:"やり直し"},{key:"L",action:n,description:"レイヤーサイドバーの表示/非表示"},{key:"[",action:()=>{},description:"選択画像を背面へ"},{key:"]",action:()=>{},description:"選択画像を前面へ"},{key:"Delete / Backspace",action:()=>{},description:"選択画像を削除"},{key:"矢印キー",action:()=>{},description:"選択画像を移動（Shift+矢印で高速移動）"}],w=v.useCallback(()=>k.map(h=>`${h.key}: ${h.description}`).join(`
`),[k]),E=v.useCallback(h=>{const d=document.activeElement;return d&&(d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.getAttribute("contenteditable")==="true")?["Ctrl+Z","Ctrl+Shift+Z","Ctrl+C","⌘Z","⌘⇧Z","⌘C"].some(S=>S.toLowerCase().includes(h.toLowerCase())):!0},[]);return v.useEffect(()=>(document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}),[y]),{shortcuts:k,getShortcutHelp:w,isShortcutAvailable:E}};function Bv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15M9 12l3 3m0 0 3-3m-3 3V2.25"}))}const $v=v.forwardRef(Bv);function Uv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const yo=v.forwardRef(Uv);function Wv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const Hv=v.forwardRef(Wv);function Kv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"}))}const Yv=v.forwardRef(Kv);function Gv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const Xv=v.forwardRef(Gv);function Qv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const Zv=v.forwardRef(Qv);function qv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"}))}const Jv=v.forwardRef(qv);function ex({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const pm=v.forwardRef(ex);function tx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nx=v.forwardRef(tx);function rx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const sx=v.forwardRef(rx);function ix({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const ox=v.forwardRef(ix);function ax({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"}))}const lx=v.forwardRef(ax);function ux({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const mm=v.forwardRef(ux);function cx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Du=v.forwardRef(cx);function dx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const fx=v.forwardRef(dx);function hx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const px=v.forwardRef(hx);function mx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const gx=v.forwardRef(mx);function yx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const vx=v.forwardRef(yx);function xx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const wx=v.forwardRef(xx);function kx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Sx=v.forwardRef(kx);function Ex({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const bd=v.forwardRef(Ex);function Cx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const gs=v.forwardRef(Cx),Ru=v.createContext({});function Iu(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const vo=v.createContext(null),Au=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Tx extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Px({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=v.useContext(Au);return v.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return i&&(c.nonce=i),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),m.jsx(Tx,{isPresent:t,childRef:r,sizeRef:s,children:v.cloneElement(e,{ref:r})})}const bx=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Iu(jx),l=v.useId(),u=v.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),c=v.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),i?[Math.random(),u]:[n,u]);return v.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=m.jsx(Px,{isPresent:n,children:e})),m.jsx(vo.Provider,{value:c,children:e})};function jx(){return new Map}function gm(e=!0){const t=v.useContext(vo);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=v.useId();v.useEffect(()=>{e&&s(i)},[e]);const o=v.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Zs=e=>e.key||"";function jd(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Lu=typeof window<"u",ym=Lu?v.useLayoutEffect:v.useEffect,xo=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=gm(o),u=v.useMemo(()=>jd(e),[e]),c=o&&!a?[]:u.map(Zs),f=v.useRef(!0),p=v.useRef(u),y=Iu(()=>new Map),[k,w]=v.useState(u),[E,h]=v.useState(u);ym(()=>{f.current=!1,p.current=u;for(let S=0;S<E.length;S++){const x=Zs(E[S]);c.includes(x)?y.delete(x):y.get(x)!==!0&&y.set(x,!1)}},[E,c.length,c.join("-")]);const d=[];if(u!==k){let S=[...u];for(let x=0;x<E.length;x++){const C=E[x],T=Zs(C);c.includes(T)||(S.splice(x,0,C),d.push(C))}i==="wait"&&d.length&&(S=d),h(jd(S)),w(u);return}const{forceRender:g}=v.useContext(Ru);return m.jsx(m.Fragment,{children:E.map(S=>{const x=Zs(S),C=o&&!a?!1:u===E||c.includes(x),T=()=>{if(y.has(x))y.set(x,!0);else return;let P=!0;y.forEach(D=>{D||(P=!1)}),P&&(g==null||g(),h(p.current),o&&(l==null||l()),r&&r())};return m.jsx(bx,{isPresent:C,initial:!f.current||n?void 0:!1,custom:C?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:T,children:S},x)})})},ze=e=>e;let vm=ze;function Nu(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ct=e=>e*1e3,Tt=e=>e/1e3,Mx={useManualTiming:!1};function Dx(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const y=f&&r?t:n;return c&&i.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const qs=["read","resolveKeyframes","update","preRender","render","postRender"],Rx=40;function xm(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=qs.reduce((h,d)=>(h[d]=Dx(i),h),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:p}=o,y=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,Rx),1),s.timestamp=h,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),f.process(s),p.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(y))},k=()=>{n=!0,r=!0,s.isProcessing||e(y)};return{schedule:qs.reduce((h,d)=>{const g=o[d];return h[d]=(S,x=!1,C=!1)=>(n||k(),g.schedule(S,x,C)),h},{}),cancel:h=>{for(let d=0;d<qs.length;d++)o[qs[d]].cancel(h)},state:s,steps:o}}const{schedule:ee,cancel:qt,state:ve,steps:oa}=xm(typeof requestAnimationFrame<"u"?requestAnimationFrame:ze,!0),wm=v.createContext({strict:!1}),Md={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fr={};for(const e in Md)fr[e]={isEnabled:t=>Md[e].some(n=>!!t[n])};function Ix(e){for(const t in e)fr[t]={...fr[t],...e[t]}}const Ax=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ui(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ax.has(e)}let km=e=>!Ui(e);function Lx(e){e&&(km=t=>t.startsWith("on")?!Ui(t):e(t))}try{Lx(require("@emotion/is-prop-valid").default)}catch{}function Nx(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(km(s)||n===!0&&Ui(s)||!t&&!Ui(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function _x(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const wo=v.createContext({});function ys(e){return typeof e=="string"||Array.isArray(e)}function ko(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const _u=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vu=["initial",..._u];function So(e){return ko(e.animate)||Vu.some(t=>ys(e[t]))}function Sm(e){return!!(So(e)||e.variants)}function Vx(e,t){if(So(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ys(n)?n:void 0,animate:ys(r)?r:void 0}}return e.inherit!==!1?t:{}}function Ox(e){const{initial:t,animate:n}=Vx(e,v.useContext(wo));return v.useMemo(()=>({initial:t,animate:n}),[Dd(t),Dd(n)])}function Dd(e){return Array.isArray(e)?e.join(" "):e}const Fx=Symbol.for("motionComponentSymbol");function Hn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zx(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Hn(n)&&(n.current=r))},[t])}const Ou=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bx="framerAppearId",Em="data-"+Ou(Bx),{schedule:Fu}=xm(queueMicrotask,!1),Cm=v.createContext({});function $x(e,t,n,r,s){var i,o;const{visualElement:a}=v.useContext(wo),l=v.useContext(wm),u=v.useContext(vo),c=v.useContext(Au).reducedMotion,f=v.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const p=f.current,y=v.useContext(Cm);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&Ux(f.current,n,s,y);const k=v.useRef(!1);v.useInsertionEffect(()=>{p&&k.current&&p.update(n,u)});const w=n[Em],E=v.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return ym(()=>{p&&(k.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Fu.render(p.render),E.current&&p.animationState&&p.animationState.animateChanges())}),v.useEffect(()=>{p&&(!E.current&&p.animationState&&p.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var h;(h=window.MotionHandoffMarkAsComplete)===null||h===void 0||h.call(window,w)}),E.current=!1))}),p}function Ux(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Tm(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Hn(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Tm(e){if(e)return e.options.allowProjection!==!1?e.projection:Tm(e.parent)}function Wx({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&Ix(e);function a(u,c){let f;const p={...v.useContext(Au),...u,layoutId:Hx(u)},{isStatic:y}=p,k=Ox(u),w=r(u,y);if(!y&&Lu){Kx();const E=Yx(p);f=E.MeasureLayout,k.visualElement=$x(s,w,p,t,E.ProjectionNode)}return m.jsxs(wo.Provider,{value:k,children:[f&&k.visualElement?m.jsx(f,{visualElement:k.visualElement,...p}):null,n(s,u,zx(w,k.visualElement,c),w,y,k.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=v.forwardRef(a);return l[Fx]=s,l}function Hx({layoutId:e}){const t=v.useContext(Ru).id;return t&&e!==void 0?t+"-"+e:e}function Kx(e,t){v.useContext(wm).strict}function Yx(e){const{drag:t,layout:n}=fr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Gx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zu(e){return typeof e!="string"||e.includes("-")?!1:!!(Gx.indexOf(e)>-1||/[A-Z]/u.test(e))}function Rd(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Bu(e,t,n,r){if(typeof t=="function"){const[s,i]=Rd(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Rd(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const yl=e=>Array.isArray(e),Xx=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Qx=e=>yl(e)?e[e.length-1]||0:e,Te=e=>!!(e&&e.getVelocity);function hi(e){const t=Te(e)?e.get():e;return Xx(t)?t.toValue():t}function Zx({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:qx(r,s,i,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Pm=e=>(t,n)=>{const r=v.useContext(wo),s=v.useContext(vo),i=()=>Zx(e,t,r,s);return n?i():Iu(i)};function qx(e,t,n,r){const s={},i=r(e,{});for(const p in i)s[p]=hi(i[p]);let{initial:o,animate:a}=e;const l=So(e),u=Sm(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!ko(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const k=Bu(e,p[y]);if(k){const{transitionEnd:w,transition:E,...h}=k;for(const d in h){let g=h[d];if(Array.isArray(g)){const S=c?g.length-1:0;g=g[S]}g!==null&&(s[d]=g)}for(const d in w)s[d]=w[d]}}}return s}const yr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mn=new Set(yr),bm=e=>t=>typeof t=="string"&&t.startsWith(e),jm=bm("--"),Jx=bm("var(--"),$u=e=>Jx(e)?ew.test(e.split("/*")[0].trim()):!1,ew=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mm=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Dt=(e,t,n)=>n>t?t:n<e?e:n,vr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vs={...vr,transform:e=>Dt(0,1,e)},Js={...vr,default:1},bs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nt=bs("deg"),gt=bs("%"),_=bs("px"),tw=bs("vh"),nw=bs("vw"),Id={...gt,parse:e=>gt.parse(e)/100,transform:e=>gt.transform(e*100)},rw={borderWidth:_,borderTopWidth:_,borderRightWidth:_,borderBottomWidth:_,borderLeftWidth:_,borderRadius:_,radius:_,borderTopLeftRadius:_,borderTopRightRadius:_,borderBottomRightRadius:_,borderBottomLeftRadius:_,width:_,maxWidth:_,height:_,maxHeight:_,top:_,right:_,bottom:_,left:_,padding:_,paddingTop:_,paddingRight:_,paddingBottom:_,paddingLeft:_,margin:_,marginTop:_,marginRight:_,marginBottom:_,marginLeft:_,backgroundPositionX:_,backgroundPositionY:_},sw={rotate:Nt,rotateX:Nt,rotateY:Nt,rotateZ:Nt,scale:Js,scaleX:Js,scaleY:Js,scaleZ:Js,skew:Nt,skewX:Nt,skewY:Nt,distance:_,translateX:_,translateY:_,translateZ:_,x:_,y:_,z:_,perspective:_,transformPerspective:_,opacity:vs,originX:Id,originY:Id,originZ:_},Ad={...vr,transform:Math.round},Uu={...rw,...sw,zIndex:Ad,size:_,fillOpacity:vs,strokeOpacity:vs,numOctaves:Ad},iw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ow=yr.length;function aw(e,t,n){let r="",s=!0;for(let i=0;i<ow;i++){const o=yr[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Mm(a,Uu[o]);if(!l){s=!1;const c=iw[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Wu(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Mn.has(l)){o=!0;continue}else if(jm(l)){s[l]=u;continue}else{const c=Mm(u,Uu[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=aw(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const lw={offset:"stroke-dashoffset",array:"stroke-dasharray"},uw={offset:"strokeDashoffset",array:"strokeDasharray"};function cw(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?lw:uw;e[i.offset]=_.transform(-r);const o=_.transform(t),a=_.transform(n);e[i.array]=`${o} ${a}`}function Ld(e,t,n){return typeof e=="string"?e:_.transform(t+n*e)}function dw(e,t,n){const r=Ld(t,e.x,e.width),s=Ld(n,e.y,e.height);return`${r} ${s}`}function Hu(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(Wu(e,u,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y,dimensions:k}=e;p.transform&&(k&&(y.transform=p.transform),delete p.transform),k&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=dw(k,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&cw(p,o,a,l,!1)}const Ku=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Dm=()=>({...Ku(),attrs:{}}),Yu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Rm(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Im=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Am(e,t,n,r){Rm(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Im.has(s)?s:Ou(s),t.attrs[s])}const Wi={};function fw(e){Object.assign(Wi,e)}function Lm(e,{layout:t,layoutId:n}){return Mn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wi[e]||e==="opacity")}function Gu(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Te(s[o])||t.style&&Te(t.style[o])||Lm(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Nm(e,t,n){const r=Gu(e,t,n);for(const s in e)if(Te(e[s])||Te(t[s])){const i=yr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function hw(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Nd=["x","y","width","height","cx","cy","r"],pw={useVisualState:Pm({scrapeMotionValuesFromProps:Nm,createRenderState:Dm,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const a in s)if(Mn.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<Nd.length;a++){const l=Nd[a];e[l]!==t[l]&&(o=!0)}o&&ee.read(()=>{hw(n,r),ee.render(()=>{Hu(r,s,Yu(n.tagName),e.transformTemplate),Am(n,r)})})}})},mw={useVisualState:Pm({scrapeMotionValuesFromProps:Gu,createRenderState:Ku})};function _m(e,t,n){for(const r in t)!Te(t[r])&&!Lm(r,n)&&(e[r]=t[r])}function gw({transformTemplate:e},t){return v.useMemo(()=>{const n=Ku();return Wu(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yw(e,t){const n=e.style||{},r={};return _m(r,n,e),Object.assign(r,gw(e,t)),r}function vw(e,t){const n={},r=yw(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function xw(e,t,n,r){const s=v.useMemo(()=>{const i=Dm();return Hu(i,t,Yu(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};_m(i,e.style,e),s.style={...i,...s.style}}return s}function ww(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(zu(n)?xw:vw)(r,i,o,n),u=Nx(r,typeof n=="string",e),c=n!==v.Fragment?{...u,...l,ref:s}:{},{children:f}=r,p=v.useMemo(()=>Te(f)?f.get():f,[f]);return v.createElement(n,{...c,children:p})}}function kw(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...zu(r)?pw:mw,preloadedFeatures:e,useRender:ww(s),createVisualElement:t,Component:r};return Wx(o)}}function Vm(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Eo(e,t,n){const r=e.getProps();return Bu(r,t,n!==void 0?n:r.custom,e)}const Sw=Nu(()=>window.ScrollTimeline!==void 0);class Ew{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(Sw()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Cw extends Ew{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Xu(e,t){return e?e[t]||e.default||e:void 0}const vl=2e4;function Om(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<vl;)t+=n,r=e.next(t);return t>=vl?1/0:t}function Qu(e){return typeof e=="function"}function _d(e,t){e.timeline=t,e.onfinish=null}const Zu=e=>Array.isArray(e)&&typeof e[0]=="number",Tw={linearEasing:void 0};function Pw(e,t){const n=Nu(e);return()=>{var r;return(r=Tw[t])!==null&&r!==void 0?r:n()}}const Hi=Pw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fm=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(dr(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function zm(e){return!!(typeof e=="function"&&Hi()||!e||typeof e=="string"&&(e in xl||Hi())||Zu(e)||Array.isArray(e)&&e.every(zm))}const Nr=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,xl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nr([0,.65,.55,1]),circOut:Nr([.55,0,1,.45]),backIn:Nr([.31,.01,.66,-.59]),backOut:Nr([.33,1.53,.69,.99])};function Bm(e,t){if(e)return typeof e=="function"&&Hi()?Fm(e,t):Zu(e)?Nr(e):Array.isArray(e)?e.map(n=>Bm(n,t)||xl.easeOut):xl[e]}const nt={x:!1,y:!1};function $m(){return nt.x||nt.y}function bw(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Um(e,t){const n=bw(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Vd(e){return t=>{t.pointerType==="touch"||$m()||e(t)}}function jw(e,t,n={}){const[r,s,i]=Um(e,n),o=Vd(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const c=Vd(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Wm=(e,t)=>t?e===t?!0:Wm(e,t.parentElement):!1,qu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Mw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dw(e){return Mw.has(e.tagName)||e.tabIndex!==-1}const _r=new WeakSet;function Od(e){return t=>{t.key==="Enter"&&e(t)}}function aa(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Rw=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Od(()=>{if(_r.has(n))return;aa(n,"down");const s=Od(()=>{aa(n,"up")}),i=()=>aa(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Fd(e){return qu(e)&&!$m()}function Iw(e,t,n={}){const[r,s,i]=Um(e,n),o=a=>{const l=a.currentTarget;if(!Fd(a)||_r.has(l))return;_r.add(l);const u=t(a),c=(y,k)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!Fd(y)||!_r.has(l))&&(_r.delete(l),typeof u=="function"&&u(y,{success:k}))},f=y=>{c(y,n.useGlobalTarget||Wm(l,y.target))},p=y=>{c(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{!Dw(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>Rw(u,s),s)}),i}function Aw(e){return e==="x"||e==="y"?nt[e]?null:(nt[e]=!0,()=>{nt[e]=!1}):nt.x||nt.y?null:(nt.x=nt.y=!0,()=>{nt.x=nt.y=!1})}const Hm=new Set(["width","height","top","left","right","bottom",...yr]);let pi;function Lw(){pi=void 0}const yt={now:()=>(pi===void 0&&yt.set(ve.isProcessing||Mx.useManualTiming?ve.timestamp:performance.now()),pi),set:e=>{pi=e,queueMicrotask(Lw)}};function Ju(e,t){e.indexOf(t)===-1&&e.push(t)}function ec(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class tc{constructor(){this.subscriptions=[]}add(t){return Ju(this.subscriptions,t),()=>ec(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Km(e,t){return t?e*(1e3/t):0}const zd=30,Nw=e=>!isNaN(parseFloat(e));class _w{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=yt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Nw(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new tc);const r=this.events[t].add(n);return t==="change"?()=>{r(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zd)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zd);return Km(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xs(e,t){return new _w(e,t)}function Vw(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xs(n))}function Ow(e,t){const n=Eo(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Qx(i[o]);Vw(e,o,a)}}function Fw(e){return!!(Te(e)&&e.add)}function wl(e,t){const n=e.getValue("willChange");if(Fw(n))return n.add(t)}function Ym(e){return e.props[Em]}const Gm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,zw=1e-7,Bw=12;function $w(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Gm(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>zw&&++a<Bw);return o}function js(e,t,n,r){if(e===t&&n===r)return ze;const s=i=>$w(i,0,1,e,n);return i=>i===0||i===1?i:Gm(s(i),t,r)}const Xm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qm=e=>t=>1-e(1-t),Zm=js(.33,1.53,.69,.99),nc=Qm(Zm),qm=Xm(nc),Jm=e=>(e*=2)<1?.5*nc(e):.5*(2-Math.pow(2,-10*(e-1))),rc=e=>1-Math.sin(Math.acos(e)),e0=Qm(rc),t0=Xm(rc),n0=e=>/^0[^.\s]+$/u.test(e);function Uw(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||n0(e):!0}const Yr=e=>Math.round(e*1e5)/1e5,sc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ww(e){return e==null}const Hw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ic=(e,t)=>n=>!!(typeof n=="string"&&Hw.test(n)&&n.startsWith(e)||t&&!Ww(n)&&Object.prototype.hasOwnProperty.call(n,t)),r0=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(sc);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Kw=e=>Dt(0,255,e),la={...vr,transform:e=>Math.round(Kw(e))},gn={test:ic("rgb","red"),parse:r0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+la.transform(e)+", "+la.transform(t)+", "+la.transform(n)+", "+Yr(vs.transform(r))+")"};function Yw(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const kl={test:ic("#"),parse:Yw,transform:gn.transform},Kn={test:ic("hsl","hue"),parse:r0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+gt.transform(Yr(t))+", "+gt.transform(Yr(n))+", "+Yr(vs.transform(r))+")"},Ee={test:e=>gn.test(e)||kl.test(e)||Kn.test(e),parse:e=>gn.test(e)?gn.parse(e):Kn.test(e)?Kn.parse(e):kl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?gn.transform(e):Kn.transform(e)},Gw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xw(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(sc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Gw))===null||n===void 0?void 0:n.length)||0)>0}const s0="number",i0="color",Qw="var",Zw="var(",Bd="${}",qw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ws(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(qw,l=>(Ee.test(l)?(r.color.push(i),s.push(i0),n.push(Ee.parse(l))):l.startsWith(Zw)?(r.var.push(i),s.push(Qw),n.push(l)):(r.number.push(i),s.push(s0),n.push(parseFloat(l))),++i,Bd)).split(Bd);return{values:n,split:a,indexes:r,types:s}}function o0(e){return ws(e).values}function a0(e){const{split:t,types:n}=ws(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===s0?i+=Yr(s[o]):a===i0?i+=Ee.transform(s[o]):i+=s[o]}return i}}const Jw=e=>typeof e=="number"?0:e;function e1(e){const t=o0(e);return a0(e)(t.map(Jw))}const Jt={test:Xw,parse:o0,createTransformer:a0,getAnimatableNone:e1},t1=new Set(["brightness","contrast","saturate","opacity"]);function n1(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(sc)||[];if(!r)return e;const s=n.replace(r,"");let i=t1.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const r1=/\b([a-z-]*)\(.*?\)/gu,Sl={...Jt,getAnimatableNone:e=>{const t=e.match(r1);return t?t.map(n1).join(" "):e}},s1={...Uu,color:Ee,backgroundColor:Ee,outlineColor:Ee,fill:Ee,stroke:Ee,borderColor:Ee,borderTopColor:Ee,borderRightColor:Ee,borderBottomColor:Ee,borderLeftColor:Ee,filter:Sl,WebkitFilter:Sl},oc=e=>s1[e];function l0(e,t){let n=oc(e);return n!==Sl&&(n=Jt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const i1=new Set(["auto","none","0"]);function o1(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!i1.has(i)&&ws(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=l0(n,s)}const $d=e=>e===vr||e===_,Ud=(e,t)=>parseFloat(e.split(", ")[t]),Wd=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Ud(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Ud(i[1],e):0}},a1=new Set(["x","y","z"]),l1=yr.filter(e=>!a1.has(e));function u1(e){const t=[];return l1.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const hr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Wd(4,13),y:Wd(5,14)};hr.translateX=hr.x;hr.translateY=hr.y;const xn=new Set;let El=!1,Cl=!1;function u0(){if(Cl){const e=Array.from(xn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=u1(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Cl=!1,El=!1,xn.forEach(e=>e.complete()),xn.clear()}function c0(){xn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cl=!0)})}function c1(){c0(),u0()}class ac{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xn.add(this),El||(El=!0,ee.read(c0),ee.resolveKeyframes(u0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const d0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),d1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f1(e){const t=d1.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function f0(e,t,n=1){const[r,s]=f1(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return d0(o)?parseFloat(o):o}return $u(s)?f0(s,t,n+1):s}const h0=e=>t=>t.test(e),h1={test:e=>e==="auto",parse:e=>e},p0=[vr,_,gt,Nt,nw,tw,h1],Hd=e=>p0.find(h0(e));class m0 extends ac{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),$u(u))){const c=f0(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Hm.has(r)||t.length!==2)return;const[s,i]=t,o=Hd(s),a=Hd(i);if(o!==a)if($d(o)&&$d(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)Uw(t[s])&&r.push(s);r.length&&o1(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=hr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Kd=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Jt.test(e)||e==="0")&&!e.startsWith("url("));function p1(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function m1(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Kd(s,t),a=Kd(i,t);return!o||!a?!1:p1(e)||(n==="spring"||Qu(n))&&r}const g1=e=>e!==null;function Co(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(g1),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const y1=40;class g0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>y1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&c1(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=yt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!m1(t,r,s,i))if(o)this.options.duration=0;else{l&&l(Co(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const re=(e,t,n)=>e+(t-e)*n;function ua(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function v1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=ua(l,a,e+1/3),i=ua(l,a,e),o=ua(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ki(e,t){return n=>n>0?t:e}const ca=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},x1=[kl,gn,Kn],w1=e=>x1.find(t=>t.test(e));function Yd(e){const t=w1(e);if(!t)return!1;let n=t.parse(e);return t===Kn&&(n=v1(n)),n}const Gd=(e,t)=>{const n=Yd(e),r=Yd(t);if(!n||!r)return Ki(e,t);const s={...n};return i=>(s.red=ca(n.red,r.red,i),s.green=ca(n.green,r.green,i),s.blue=ca(n.blue,r.blue,i),s.alpha=re(n.alpha,r.alpha,i),gn.transform(s))},k1=(e,t)=>n=>t(e(n)),Ms=(...e)=>e.reduce(k1),Tl=new Set(["none","hidden"]);function S1(e,t){return Tl.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function E1(e,t){return n=>re(e,t,n)}function lc(e){return typeof e=="number"?E1:typeof e=="string"?$u(e)?Ki:Ee.test(e)?Gd:P1:Array.isArray(e)?y0:typeof e=="object"?Ee.test(e)?Gd:C1:Ki}function y0(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>lc(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function C1(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=lc(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function T1(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const P1=(e,t)=>{const n=Jt.createTransformer(t),r=ws(e),s=ws(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Tl.has(e)&&!s.values.length||Tl.has(t)&&!r.values.length?S1(e,t):Ms(y0(T1(r,s),s.values),n):Ki(e,t)};function v0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?re(e,t,n):lc(e)(e,t)}const b1=5;function x0(e,t,n){const r=Math.max(t-b1,0);return Km(n-e(r),t-r)}const oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xd=.001;function j1({duration:e=oe.duration,bounce:t=oe.bounce,velocity:n=oe.velocity,mass:r=oe.mass}){let s,i,o=1-t;o=Dt(oe.minDamping,oe.maxDamping,o),e=Dt(oe.minDuration,oe.maxDuration,Tt(e)),o<1?(s=u=>{const c=u*o,f=c*e,p=c-n,y=Pl(u,o),k=Math.exp(-f);return Xd-p/y*k},i=u=>{const f=u*o*e,p=f*n+n,y=Math.pow(o,2)*Math.pow(u,2)*e,k=Math.exp(-f),w=Pl(Math.pow(u,2),o);return(-s(u)+Xd>0?-1:1)*((p-y)*k)/w}):(s=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-.001+c*f},i=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=D1(s,i,a);if(e=Ct(e),isNaN(l))return{stiffness:oe.stiffness,damping:oe.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const M1=12;function D1(e,t,n){let r=n;for(let s=1;s<M1;s++)r=r-e(r)/t(r);return r}function Pl(e,t){return e*Math.sqrt(1-t*t)}const R1=["duration","bounce"],I1=["stiffness","damping","mass"];function Qd(e,t){return t.some(n=>e[n]!==void 0)}function A1(e){let t={velocity:oe.velocity,stiffness:oe.stiffness,damping:oe.damping,mass:oe.mass,isResolvedFromDuration:!1,...e};if(!Qd(e,I1)&&Qd(e,R1))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Dt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:oe.mass,stiffness:s,damping:i}}else{const n=j1(e);t={...t,...n,mass:oe.mass},t.isResolvedFromDuration=!0}return t}function w0(e=oe.visualDuration,t=oe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:f,velocity:p,isResolvedFromDuration:y}=A1({...n,velocity:-Tt(n.velocity||0)}),k=p||0,w=u/(2*Math.sqrt(l*c)),E=o-i,h=Tt(Math.sqrt(l/c)),d=Math.abs(E)<5;r||(r=d?oe.restSpeed.granular:oe.restSpeed.default),s||(s=d?oe.restDelta.granular:oe.restDelta.default);let g;if(w<1){const x=Pl(h,w);g=C=>{const T=Math.exp(-w*h*C);return o-T*((k+w*h*E)/x*Math.sin(x*C)+E*Math.cos(x*C))}}else if(w===1)g=x=>o-Math.exp(-h*x)*(E+(k+h*E)*x);else{const x=h*Math.sqrt(w*w-1);g=C=>{const T=Math.exp(-w*h*C),P=Math.min(x*C,300);return o-T*((k+w*h*E)*Math.sinh(P)+x*E*Math.cosh(P))/x}}const S={calculatedDuration:y&&f||null,next:x=>{const C=g(x);if(y)a.done=x>=f;else{let T=0;w<1&&(T=x===0?Ct(k):x0(g,x,C));const P=Math.abs(T)<=r,D=Math.abs(o-C)<=s;a.done=P&&D}return a.value=a.done?o:C,a},toString:()=>{const x=Math.min(Om(S),vl),C=Fm(T=>S.next(x*T).value,x,30);return x+"ms "+C}};return S}function Zd({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],p={done:!1,value:f},y=P=>a!==void 0&&P<a||l!==void 0&&P>l,k=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let w=n*t;const E=f+w,h=o===void 0?E:o(E);h!==E&&(w=h-f);const d=P=>-w*Math.exp(-P/r),g=P=>h+d(P),S=P=>{const D=d(P),b=g(P);p.done=Math.abs(D)<=u,p.value=p.done?h:b};let x,C;const T=P=>{y(p.value)&&(x=P,C=w0({keyframes:[p.value,k(p.value)],velocity:x0(g,P,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:P=>{let D=!1;return!C&&x===void 0&&(D=!0,S(P),T(P)),x!==void 0&&P>=x?C.next(P-x):(!D&&S(P),p)}}}const L1=js(.42,0,1,1),N1=js(0,0,.58,1),k0=js(.42,0,.58,1),_1=e=>Array.isArray(e)&&typeof e[0]!="number",V1={linear:ze,easeIn:L1,easeInOut:k0,easeOut:N1,circIn:rc,circInOut:t0,circOut:e0,backIn:nc,backInOut:qm,backOut:Zm,anticipate:Jm},qd=e=>{if(Zu(e)){vm(e.length===4);const[t,n,r,s]=e;return js(t,n,r,s)}else if(typeof e=="string")return V1[e];return e};function O1(e,t,n){const r=[],s=n||v0,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ze:t;a=Ms(l,a)}r.push(a)}return r}function F1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(vm(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=O1(t,r,s),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const p=dr(e[f],e[f+1],c);return a[f](p)};return n?c=>u(Dt(e[0],e[i-1],c)):u}function z1(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=dr(0,t,r);e.push(re(n,1,s))}}function B1(e){const t=[0];return z1(t,e.length-1),t}function $1(e,t){return e.map(n=>n*t)}function U1(e,t){return e.map(()=>t||k0).splice(0,e.length-1)}function Yi({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=_1(r)?r.map(qd):qd(r),i={done:!1,value:t[0]},o=$1(n&&n.length===t.length?n:B1(t),e),a=F1(o,t,{ease:Array.isArray(s)?s:U1(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const W1=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ee.update(t,!0),stop:()=>qt(t),now:()=>ve.isProcessing?ve.timestamp:yt.now()}},H1={decay:Zd,inertia:Zd,tween:Yi,keyframes:Yi,spring:w0},K1=e=>e/100;class uc extends g0{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||ac,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Qu(n)?n:H1[n]||Yi;let l,u;a!==Yi&&typeof t[0]!="number"&&(l=Ms(K1,v0(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Om(c));const{calculatedDuration:f}=c,p=f+s,y=p*(r+1)-s;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:y,repeatType:k,repeatDelay:w,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const h=this.currentTime-p*(this.speed>=0?1:-1),d=this.speed>=0?h<0:h>c;this.currentTime=Math.max(h,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let g=this.currentTime,S=i;if(y){const P=Math.min(this.currentTime,c)/f;let D=Math.floor(P),b=P%1;!b&&P>=1&&(b=1),b===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(k==="reverse"?(b=1-b,w&&(b-=w/f)):k==="mirror"&&(S=o)),g=Dt(0,1,b)*f}const x=d?{done:!1,value:l[0]}:S.next(g);a&&(x.value=a(x.value));let{done:C}=x;!d&&u!==null&&(C=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&s!==void 0&&(x.value=Co(l,this.options,s)),E&&E(x.value),T&&this.finish(),x}get duration(){const{resolved:t}=this;return t?Tt(t.calculatedDuration):0}get time(){return Tt(this.currentTime)}set time(t){t=Ct(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Tt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=W1,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Y1=new Set(["opacity","clipPath","filter","transform"]);function G1(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Bm(a,s);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const X1=Nu(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gi=10,Q1=2e4;function Z1(e){return Qu(e.type)||e.type==="spring"||!zm(e.ease)}function q1(e,t){const n=new uc({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<Q1;)r=n.sample(i),s.push(r.value),i+=Gi;return{times:void 0,keyframes:s,duration:i-Gi,ease:"linear"}}const S0={anticipate:Jm,backInOut:qm,circInOut:t0};function J1(e){return e in S0}class Jd extends g0{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new m0(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Hi()&&J1(i)&&(i=S0[i]),Z1(this.options)){const{onComplete:f,onUpdate:p,motionValue:y,element:k,...w}=this.options,E=q1(t,w);t=E.keyframes,t.length===1&&(t[1]=t[0]),r=E.duration,s=E.times,i=E.ease,o="keyframes"}const c=G1(a.owner.current,l,t,{...this.options,duration:r,times:s,ease:i});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(_d(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(Co(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Tt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Tt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ct(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ze;const{animation:r}=n;_d(r,t)}return ze}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:p,...y}=this.options,k=new uc({...y,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),w=Ct(this.time);u.setWithVelocity(k.sample(w-Gi).value,k.sample(w).value,Gi)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return X1()&&r&&Y1.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const e2={type:"spring",stiffness:500,damping:25,restSpeed:10},t2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),n2={type:"keyframes",duration:.8},r2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s2=(e,{keyframes:t})=>t.length>2?n2:Mn.has(e)?e.startsWith("scale")?t2(t[1]):e2:r2;function i2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const cc=(e,t,n,r={},s,i)=>o=>{const a=Xu(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ct(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};i2(a)||(c={...c,...s2(e,c)}),c.duration&&(c.duration=Ct(c.duration)),c.repeatDelay&&(c.repeatDelay=Ct(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const p=Co(c.keyframes,a);if(p!==void 0)return ee.update(()=>{c.onUpdate(p),c.onComplete()}),new Cw([])}return!i&&Jd.supports(c)?new Jd(c):new uc(c)};function o2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function E0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const p=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),y=l[f];if(y===void 0||c&&o2(c,f))continue;const k={delay:n,...Xu(o||{},f)};let w=!1;if(window.MotionHandoffAnimation){const h=Ym(e);if(h){const d=window.MotionHandoffAnimation(h,f,ee);d!==null&&(k.startTime=d,w=!0)}}wl(e,f),p.start(cc(f,p,y,e.shouldReduceMotion&&Hm.has(f)?{type:!1}:k,e,w));const E=p.animation;E&&u.push(E)}return a&&Promise.all(u).then(()=>{ee.update(()=>{a&&Ow(e,a)})}),u}function bl(e,t,n={}){var r;const s=Eo(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(E0(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=i;return a2(e,t,c+u,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function a2(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(l2).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(bl(u,t,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function l2(e,t){return e.sortNodePosition(t)}function u2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>bl(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=bl(e,t,n);else{const s=typeof t=="function"?Eo(e,t,n.custom):t;r=Promise.all(E0(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const c2=Vu.length;function C0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?C0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<c2;n++){const r=Vu[n],s=e.props[r];(ys(s)||s===!1)&&(t[r]=s)}return t}const d2=[..._u].reverse(),f2=_u.length;function h2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>u2(e,n,r)))}function p2(e){let t=h2(e),n=ef(),r=!0;const s=l=>(u,c)=>{var f;const p=Eo(e,c,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:y,transitionEnd:k,...w}=p;u={...u,...w,...k}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,c=C0(e.parent)||{},f=[],p=new Set;let y={},k=1/0;for(let E=0;E<f2;E++){const h=d2[E],d=n[h],g=u[h]!==void 0?u[h]:c[h],S=ys(g),x=h===l?d.isActive:null;x===!1&&(k=E);let C=g===c[h]&&g!==u[h]&&S;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),d.protectedKeys={...y},!d.isActive&&x===null||!g&&!d.prevProp||ko(g)||typeof g=="boolean")continue;const T=m2(d.prevProp,g);let P=T||h===l&&d.isActive&&!C&&S||E>k&&S,D=!1;const b=Array.isArray(g)?g:[g];let I=b.reduce(s(h),{});x===!1&&(I={});const{prevResolvedValues:O={}}=d,z={...O,...I},U=L=>{P=!0,p.has(L)&&(D=!0,p.delete(L)),d.needsAnimating[L]=!0;const R=e.getValue(L);R&&(R.liveStyle=!1)};for(const L in z){const R=I[L],V=O[L];if(y.hasOwnProperty(L))continue;let F=!1;yl(R)&&yl(V)?F=!Vm(R,V):F=R!==V,F?R!=null?U(L):p.add(L):R!==void 0&&p.has(L)?U(L):d.protectedKeys[L]=!0}d.prevProp=g,d.prevResolvedValues=I,d.isActive&&(y={...y,...I}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(C&&T)||D)&&f.push(...b.map(L=>({animation:L,options:{type:h}})))}if(p.size){const E={};p.forEach(h=>{const d=e.getBaseTarget(h),g=e.getValue(h);g&&(g.liveStyle=!0),E[h]=d??null}),f.push({animation:E})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ef(),r=!0}}}function m2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Vm(t,e):!1}function an(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ef(){return{animate:an(!0),whileInView:an(),whileHover:an(),whileTap:an(),whileDrag:an(),whileFocus:an(),exit:an()}}class sn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class g2 extends sn{constructor(t){super(t),t.animationState||(t.animationState=p2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ko(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let y2=0;class v2 extends sn{constructor(){super(...arguments),this.id=y2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const x2={animation:{Feature:g2},exit:{Feature:v2}};function ks(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ds(e){return{point:{x:e.pageX,y:e.pageY}}}const w2=e=>t=>qu(t)&&e(t,Ds(t));function Gr(e,t,n,r){return ks(e,t,w2(n),r)}const tf=(e,t)=>Math.abs(e-t);function k2(e,t){const n=tf(e.x,t.x),r=tf(e.y,t.y);return Math.sqrt(n**2+r**2)}class T0{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=fa(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=k2(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:k}=f,{timestamp:w}=ve;this.history.push({...k,timestamp:w});const{onStart:E,onMove:h}=this.handlers;p||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),h&&h(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=da(p,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=fa(f.type==="pointercancel"?this.lastMoveEventInfo:da(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,E),k&&k(f,E)},!qu(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ds(t),a=da(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=ve;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,fa(a,this.history)),this.removeListeners=Ms(Gr(this.contextWindow,"pointermove",this.handlePointerMove),Gr(this.contextWindow,"pointerup",this.handlePointerUp),Gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qt(this.updatePoint)}}function da(e,t){return t?{point:t(e.point)}:e}function nf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fa({point:e},t){return{point:e,delta:nf(e,P0(t)),offset:nf(e,S2(t)),velocity:E2(t,.1)}}function S2(e){return e[0]}function P0(e){return e[e.length-1]}function E2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=P0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ct(t)));)n--;if(!r)return{x:0,y:0};const i=Tt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const b0=1e-4,C2=1-b0,T2=1+b0,j0=.01,P2=0-j0,b2=0+j0;function We(e){return e.max-e.min}function j2(e,t,n){return Math.abs(e-t)<=n}function rf(e,t,n,r=.5){e.origin=r,e.originPoint=re(t.min,t.max,e.origin),e.scale=We(n)/We(t),e.translate=re(n.min,n.max,e.origin)-e.originPoint,(e.scale>=C2&&e.scale<=T2||isNaN(e.scale))&&(e.scale=1),(e.translate>=P2&&e.translate<=b2||isNaN(e.translate))&&(e.translate=0)}function Xr(e,t,n,r){rf(e.x,t.x,n.x,r?r.originX:void 0),rf(e.y,t.y,n.y,r?r.originY:void 0)}function sf(e,t,n){e.min=n.min+t.min,e.max=e.min+We(t)}function M2(e,t,n){sf(e.x,t.x,n.x),sf(e.y,t.y,n.y)}function of(e,t,n){e.min=t.min-n.min,e.max=e.min+We(t)}function Qr(e,t,n){of(e.x,t.x,n.x),of(e.y,t.y,n.y)}function D2(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?re(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?re(n,e,r.max):Math.min(e,n)),e}function af(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function R2(e,{top:t,left:n,bottom:r,right:s}){return{x:af(e.x,n,s),y:af(e.y,t,r)}}function lf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function I2(e,t){return{x:lf(e.x,t.x),y:lf(e.y,t.y)}}function A2(e,t){let n=.5;const r=We(e),s=We(t);return s>r?n=dr(t.min,t.max-r,e.min):r>s&&(n=dr(e.min,e.max-s,t.min)),Dt(0,1,n)}function L2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jl=.35;function N2(e=jl){return e===!1?e=0:e===!0&&(e=jl),{x:uf(e,"left","right"),y:uf(e,"top","bottom")}}function uf(e,t,n){return{min:cf(e,t),max:cf(e,n)}}function cf(e,t){return typeof e=="number"?e:e[t]||0}const df=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yn=()=>({x:df(),y:df()}),ff=()=>({min:0,max:0}),le=()=>({x:ff(),y:ff()});function Ge(e){return[e("x"),e("y")]}function M0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function V2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ha(e){return e===void 0||e===1}function Ml({scale:e,scaleX:t,scaleY:n}){return!ha(e)||!ha(t)||!ha(n)}function dn(e){return Ml(e)||D0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function D0(e){return hf(e.x)||hf(e.y)}function hf(e){return e&&e!=="0%"}function Xi(e,t,n){const r=e-n,s=t*r;return n+s}function pf(e,t,n,r,s){return s!==void 0&&(e=Xi(e,s,r)),Xi(e,n,r)+t}function Dl(e,t=0,n=1,r,s){e.min=pf(e.min,t,n,r,s),e.max=pf(e.max,t,n,r,s)}function R0(e,{x:t,y:n}){Dl(e.x,t.translate,t.scale,t.originPoint),Dl(e.y,n.translate,n.scale,n.originPoint)}const mf=.999999999999,gf=1.0000000000001;function O2(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,R0(e,o)),r&&dn(i.latestValues)&&Xn(e,i.latestValues))}t.x<gf&&t.x>mf&&(t.x=1),t.y<gf&&t.y>mf&&(t.y=1)}function Gn(e,t){e.min=e.min+t,e.max=e.max+t}function yf(e,t,n,r,s=.5){const i=re(e.min,e.max,s);Dl(e,t,n,i,r)}function Xn(e,t){yf(e.x,t.x,t.scaleX,t.scale,t.originX),yf(e.y,t.y,t.scaleY,t.scale,t.originY)}function I0(e,t){return M0(V2(e.getBoundingClientRect(),t))}function F2(e,t,n){const r=I0(e,n),{scroll:s}=t;return s&&(Gn(r.x,s.offset.x),Gn(r.y,s.offset.y)),r}const A0=({current:e})=>e?e.ownerDocument.defaultView:null,z2=new WeakMap;class B2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ds(c).point)},i=(c,f)=>{const{drag:p,dragPropagation:y,onDragStart:k}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Aw(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ge(E=>{let h=this.getAxisMotionValue(E).get()||0;if(gt.test(h)){const{projection:d}=this.visualElement;if(d&&d.layout){const g=d.layout.layoutBox[E];g&&(h=We(g)*(parseFloat(h)/100))}}this.originPoint[E]=h}),k&&ee.postRender(()=>k(c,f)),wl(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:k,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:E}=f;if(y&&this.currentDirection===null){this.currentDirection=$2(E),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),w&&w(c,f)},a=(c,f)=>this.stop(c,f),l=()=>Ge(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new T0(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:A0(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ee.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ei(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=D2(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Hn(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=R2(s.layoutBox,n):this.constraints=!1,this.elastic=N2(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ge(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=L2(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hn(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=F2(r,s.root,this.visualElement.getTransformPagePoint());let o=I2(s.layout.layoutBox,i);if(n){const a=n(_2(o));this.hasMutatedConstraints=!!a,a&&(o=M0(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ge(c=>{if(!ei(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,k={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(c,k)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return wl(this.visualElement,t),r.start(cc(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ge(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ge(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ge(n=>{const{drag:r}=this.getProps();if(!ei(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-re(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hn(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ge(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=A2({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ge(o=>{if(!ei(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(re(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;z2.set(this.visualElement,this);const t=this.visualElement.current,n=Gr(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Hn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ee.read(r);const o=ks(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ge(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=jl,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function ei(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class U2 extends sn{constructor(t){super(t),this.removeGroupControls=ze,this.removeListeners=ze,this.controls=new B2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const vf=e=>(t,n)=>{e&&ee.postRender(()=>e(t,n))};class W2 extends sn{constructor(){super(...arguments),this.removePointerDownListener=ze}onPointerDown(t){this.session=new T0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:vf(t),onStart:vf(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ee.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Gr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(_.test(e))e=parseFloat(e);else return e;const n=xf(e,t.target.x),r=xf(e,t.target.y);return`${n}% ${r}%`}},H2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Jt.parse(e);if(s.length>5)return r;const i=Jt.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=re(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class K2 extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;fw(Y2),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),mi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ee.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fu.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function L0(e){const[t,n]=gm(),r=v.useContext(Ru);return m.jsx(K2,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(Cm),isPresent:t,safeToRemove:n})}const Y2={borderRadius:{...Dr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dr,borderTopRightRadius:Dr,borderBottomLeftRadius:Dr,borderBottomRightRadius:Dr,boxShadow:H2};function G2(e,t,n){const r=Te(e)?e:xs(e);return r.start(cc("",r,t,n)),r.animation}function X2(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Q2=(e,t)=>e.depth-t.depth;class Z2{constructor(){this.children=[],this.isDirty=!1}add(t){Ju(this.children,t),this.isDirty=!0}remove(t){ec(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Q2),this.isDirty=!1,this.children.forEach(t)}}function q2(e,t){const n=yt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(qt(r),e(i-t))};return ee.read(r,!0),()=>qt(r)}const N0=["TopLeft","TopRight","BottomLeft","BottomRight"],J2=N0.length,wf=e=>typeof e=="string"?parseFloat(e):e,kf=e=>typeof e=="number"||_.test(e);function ek(e,t,n,r,s,i){s?(e.opacity=re(0,n.opacity!==void 0?n.opacity:1,tk(r)),e.opacityExit=re(t.opacity!==void 0?t.opacity:1,0,nk(r))):i&&(e.opacity=re(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<J2;o++){const a=`border${N0[o]}Radius`;let l=Sf(t,a),u=Sf(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||kf(l)===kf(u)?(e[a]=Math.max(re(wf(l),wf(u),r),0),(gt.test(u)||gt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=re(t.rotate||0,n.rotate||0,r))}function Sf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tk=_0(0,.5,e0),nk=_0(.5,.95,ze);function _0(e,t,n){return r=>r<e?0:r>t?1:n(dr(e,t,r))}function Ef(e,t){e.min=t.min,e.max=t.max}function Ye(e,t){Ef(e.x,t.x),Ef(e.y,t.y)}function Cf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tf(e,t,n,r,s){return e-=t,e=Xi(e,1/n,r),s!==void 0&&(e=Xi(e,1/s,r)),e}function rk(e,t=0,n=1,r=.5,s,i=e,o=e){if(gt.test(t)&&(t=parseFloat(t),t=re(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=re(i.min,i.max,r);e===i&&(a-=t),e.min=Tf(e.min,t,n,a,s),e.max=Tf(e.max,t,n,a,s)}function Pf(e,t,[n,r,s],i,o){rk(e,t[n],t[r],t[s],t.scale,i,o)}const sk=["x","scaleX","originX"],ik=["y","scaleY","originY"];function bf(e,t,n,r){Pf(e.x,t,sk,n?n.x:void 0,r?r.x:void 0),Pf(e.y,t,ik,n?n.y:void 0,r?r.y:void 0)}function jf(e){return e.translate===0&&e.scale===1}function V0(e){return jf(e.x)&&jf(e.y)}function Mf(e,t){return e.min===t.min&&e.max===t.max}function ok(e,t){return Mf(e.x,t.x)&&Mf(e.y,t.y)}function Df(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function O0(e,t){return Df(e.x,t.x)&&Df(e.y,t.y)}function Rf(e){return We(e.x)/We(e.y)}function If(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ak{constructor(){this.members=[]}add(t){Ju(this.members,t),t.scheduleRender()}remove(t){if(ec(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lk(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:y,skewY:k}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),k&&(r+=`skewY(${k}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vr=typeof window<"u"&&window.MotionDebug!==void 0,pa=["","X","Y","Z"],uk={visibility:"hidden"},Af=1e3;let ck=0;function ma(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function F0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ym(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ee,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&F0(r)}function z0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=ck++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vr&&(fn.totalNodes=fn.resolvedTargetDeltas=fn.recalculatedProjection=0),this.nodes.forEach(hk),this.nodes.forEach(vk),this.nodes.forEach(xk),this.nodes.forEach(pk),Vr&&window.MotionDebug.record(fn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z2)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new tc),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=X2(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=q2(p,250),mi.hasAnimatedSinceResize&&(mi.hasAnimatedSinceResize=!1,this.nodes.forEach(Nf))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||Ck,{onLayoutAnimationStart:E,onLayoutAnimationComplete:h}=c.getProps(),d=!this.targetLayout||!O0(this.targetLayout,k)||y,g=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||p&&(d||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const S={...Xu(w,"layout"),onPlay:E,onComplete:h};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||Nf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&F0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lf);return}this.isUpdating||this.nodes.forEach(gk),this.isUpdating=!1,this.nodes.forEach(yk),this.nodes.forEach(dk),this.nodes.forEach(fk),this.clearAllSnapshots();const a=yt.now();ve.delta=Dt(0,1e3/60,a-ve.timestamp),ve.timestamp=a,ve.isProcessing=!0,oa.update.process(ve),oa.preRender.process(ve),oa.render.process(ve),ve.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mk),this.sharedNodes.forEach(kk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!V0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||dn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Tk(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return le();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Pk))){const{scroll:c}=this.root;c&&(Gn(l.x,c.offset.x),Gn(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=le();if(Ye(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Ye(l,o),Gn(l.x,f.offset.x),Gn(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=le();Ye(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Xn(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),dn(c.latestValues)&&Xn(l,c.latestValues)}return dn(this.latestValues)&&Xn(l,this.latestValues),l}removeTransform(o){const a=le();Ye(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!dn(u.latestValues))continue;Ml(u.latestValues)&&u.updateSnapshot();const c=le(),f=u.measurePageBox();Ye(c,f),bf(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return dn(this.latestValues)&&bf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ve.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ve.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),Qr(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ye(this.target,this.layout.layoutBox),R0(this.target,this.targetDelta)):Ye(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),Qr(this.relativeTargetOrigin,this.target,y.target),Ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vr&&fn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ml(this.parent.latestValues)||D0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ve.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Ye(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;O2(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=le());const{target:k}=a;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cf(this.prevProjectionDelta.x,this.projectionDelta.x),Cf(this.prevProjectionDelta.y,this.projectionDelta.y)),Xr(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!If(this.projectionDelta.x,this.prevProjectionDelta.x)||!If(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Vr&&fn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yn(),this.projectionDelta=Yn(),this.projectionDeltaWithTransform=Yn()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Yn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=le(),y=l?l.source:void 0,k=this.layout?this.layout.source:void 0,w=y!==k,E=this.getStack(),h=!E||E.members.length<=1,d=!!(w&&!h&&this.options.crossfade===!0&&!this.path.some(Ek));this.animationProgress=0;let g;this.mixTargetDelta=S=>{const x=S/1e3;_f(f.x,o.x,x),_f(f.y,o.y,x),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qr(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sk(this.relativeTarget,this.relativeTargetOrigin,p,x),g&&ok(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=le()),Ye(g,this.relativeTarget)),w&&(this.animationValues=c,ek(c,u,this.latestValues,x,d,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{mi.hasAnimatedSinceResize=!0,this.currentAnimation=G2(0,Af,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Af),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&B0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||le();const f=We(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=We(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ye(a,l),Xn(a,c),Xr(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ak),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&ma("z",o,u,this.animationValues);for(let c=0;c<pa.length;c++)ma(`rotate${pa[c]}`,o,u,this.animationValues),ma(`skew${pa[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uk;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=hi(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=hi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!dn(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=lk(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:y,y:k}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${k.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Wi){if(p[w]===void 0)continue;const{correct:E,applyTo:h}=Wi[w],d=u.transform==="none"?p[w]:E(p[w],f);if(h){const g=h.length;for(let S=0;S<g;S++)u[h[S]]=d}else u[w]=d}return this.options.layoutId&&(u.pointerEvents=f===this?hi(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Lf),this.root.sharedNodes.clear()}}}function dk(e){e.updateLayout()}function fk(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Ge(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],y=We(p);p.min=r[f].min,p.max=p.min+y}):B0(i,n.layoutBox,r)&&Ge(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],y=We(r[f]);p.max=p.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const a=Yn();Xr(a,r,n.layoutBox);const l=Yn();o?Xr(l,e.applyTransform(s,!0),n.measuredBox):Xr(l,r,n.layoutBox);const u=!V0(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const k=le();Qr(k,n.layoutBox,p.layoutBox);const w=le();Qr(w,r,y.layoutBox),O0(k,w)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=k,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hk(e){Vr&&fn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mk(e){e.clearSnapshot()}function Lf(e){e.clearMeasurements()}function gk(e){e.isLayoutDirty=!1}function yk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Nf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vk(e){e.resolveTargetDelta()}function xk(e){e.calcProjection()}function wk(e){e.resetSkewAndRotation()}function kk(e){e.removeLeadSnapshot()}function _f(e,t,n){e.translate=re(t.translate,0,n),e.scale=re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vf(e,t,n,r){e.min=re(t.min,n.min,r),e.max=re(t.max,n.max,r)}function Sk(e,t,n,r){Vf(e.x,t.x,n.x,r),Vf(e.y,t.y,n.y,r)}function Ek(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ck={duration:.45,ease:[.4,0,.1,1]},Of=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ff=Of("applewebkit/")&&!Of("chrome/")?Math.round:ze;function zf(e){e.min=Ff(e.min),e.max=Ff(e.max)}function Tk(e){zf(e.x),zf(e.y)}function B0(e,t,n){return e==="position"||e==="preserve-aspect"&&!j2(Rf(t),Rf(n),.2)}function Pk(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const bk=z0({attachResizeListener:(e,t)=>ks(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ga={current:void 0},$0=z0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ga.current){const e=new bk({});e.mount(window),e.setOptions({layoutScroll:!0}),ga.current=e}return ga.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jk={pan:{Feature:W2},drag:{Feature:U2,ProjectionNode:$0,MeasureLayout:L0}};function Bf(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ee.postRender(()=>i(t,Ds(t)))}class Mk extends sn{mount(){const{current:t}=this.node;t&&(this.unmount=jw(t,n=>(Bf(this.node,n,"Start"),r=>Bf(this.node,r,"End"))))}unmount(){}}class Dk extends sn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ms(ks(this.node.current,"focus",()=>this.onFocus()),ks(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $f(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ee.postRender(()=>i(t,Ds(t)))}class Rk extends sn{mount(){const{current:t}=this.node;t&&(this.unmount=Iw(t,n=>($f(this.node,n,"Start"),(r,{success:s})=>$f(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rl=new WeakMap,ya=new WeakMap,Ik=e=>{const t=Rl.get(e.target);t&&t(e)},Ak=e=>{e.forEach(Ik)};function Lk({root:e,...t}){const n=e||document;ya.has(n)||ya.set(n,{});const r=ya.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Ak,{root:e,...t})),r[s]}function Nk(e,t,n){const r=Lk(t);return Rl.set(e,n),r.observe(e),()=>{Rl.delete(e),r.unobserve(e)}}const _k={some:0,all:1};class Vk extends sn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_k[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return Nk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ok(t,n))&&this.startObserver()}unmount(){}}function Ok({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fk={inView:{Feature:Vk},tap:{Feature:Rk},focus:{Feature:Dk},hover:{Feature:Mk}},zk={layout:{ProjectionNode:$0,MeasureLayout:L0}},Il={current:null},U0={current:!1};function Bk(){if(U0.current=!0,!!Lu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Il.current=e.matches;e.addListener(t),t()}else Il.current=!1}const $k=[...p0,Ee,Jt],Uk=e=>$k.find(h0(e)),Uf=new WeakMap;function Wk(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Te(s))e.addValue(r,s);else if(Te(i))e.addValue(r,xs(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,xs(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Wf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Hk{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ac,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=yt.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ee.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=So(n),this.isVariantNode=Sm(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const k=p[y];l[y]!==void 0&&Te(k)&&k.set(l[y],!1)}}mount(t){this.current=t,Uf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),U0.current||Bk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Il.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uf.delete(this.current),this.projection&&this.projection.unmount(),qt(this.notifyUpdate),qt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Mn.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ee.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fr){const n=fr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Wf.length;r++){const s=Wf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Wk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xs(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(d0(s)||n0(s))?s=parseFloat(s):!Uk(s)&&Jt.test(n)&&(s=l0(t,n)),this.setBaseTarget(t,Te(s)?s.get():s)),Te(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Bu(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Te(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new tc),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class W0 extends Hk{constructor(){super(...arguments),this.KeyframeResolver=m0}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Te(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Kk(e){return window.getComputedStyle(e)}class Yk extends W0{constructor(){super(...arguments),this.type="html",this.renderInstance=Rm}readValueFromInstance(t,n){if(Mn.has(n)){const r=oc(n);return r&&r.default||0}else{const r=Kk(t),s=(jm(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return I0(t,n)}build(t,n,r){Wu(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Gu(t,n,r)}}class Gk extends W0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=le}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Mn.has(n)){const r=oc(n);return r&&r.default||0}return n=Im.has(n)?n:Ou(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Nm(t,n,r)}build(t,n,r){Hu(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){Am(t,n,r,s)}mount(t){this.isSVGTag=Yu(t.tagName),super.mount(t)}}const Xk=(e,t)=>zu(e)?new Gk(t):new Yk(t,{allowProjection:e!==v.Fragment}),Qk=kw({...x2,...Fk,...jk,...zk},Xk),en=_x(Qk),Zk=({isOpen:e,onClose:t,totalImages:n,visibleImages:r})=>{const{exportAllImages:s,isExporting:i,exportProgress:o}=Mu(),[a,l]=v.useState({format:"png",quality:1,includeBackground:!0,backgroundColor:"#ffffff",scale:1}),[u,c]=v.useState(!1),f=v.useCallback(async()=>{try{await s(a),c(!0),setTimeout(()=>{c(!1),t()},2e3)}catch(w){console.error("Export failed:",w)}},[s,a,t]),p=v.useCallback(()=>{i||t()},[i,t]),y=[{label:"高品質",value:1,description:"最高画質（ファイルサイズ大）"},{label:"標準",value:.8,description:"バランス良好"},{label:"圧縮",value:.6,description:"ファイルサイズ小"}],k=[{label:"100%",value:1},{label:"150%",value:1.5},{label:"200%",value:2},{label:"300%",value:3}];return e?m.jsx(xo,{children:m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs(en.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"ボード全体を書き出し"}),m.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx(Du,{className:"w-4 h-4"}),m.jsxs("span",{children:[r,"枚表示中"]}),n>r&&m.jsxs(m.Fragment,{children:[m.jsx(mm,{className:"w-4 h-4"}),m.jsxs("span",{children:[n-r,"枚非表示"]})]})]})]}),m.jsx("button",{onClick:p,disabled:i,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:m.jsx(gs,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"ファイル形式"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:["png","jpeg","webp"].map(w=>m.jsx("button",{onClick:()=>l({...a,format:w}),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${a.format===w?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-300 dark:hover:border-slate-500"}`,children:w.toUpperCase()},w))})]}),(a.format==="jpeg"||a.format==="webp")&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"画質"}),m.jsx("div",{className:"space-y-2",children:y.map(w=>m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"quality",value:w.value,checked:a.quality===w.value,onChange:()=>l({...a,quality:w.value}),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 dark:bg-slate-700"}),m.jsxs("span",{className:"ml-3 text-sm text-slate-700 dark:text-slate-300",children:[w.label,m.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:w.description})]})]},w.value))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"書き出しサイズ"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.map(w=>m.jsx("button",{onClick:()=>l({...a,scale:w.value}),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${a.scale===w.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-300 dark:hover:border-slate-500"}`,children:w.label},w.value))})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:a.includeBackground,onChange:w=>l({...a,includeBackground:w.target.checked}),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded"}),m.jsx("span",{className:"ml-3 text-sm text-slate-700 dark:text-slate-300",children:"背景色を含める"})]}),a.includeBackground&&m.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[m.jsx("input",{type:"color",value:a.backgroundColor,onChange:w=>l({...a,backgroundColor:w.target.value}),className:"w-10 h-10 rounded-lg border border-slate-300 dark:border-slate-600"}),m.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:a.backgroundColor})]})]})]}),m.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700",children:u?m.jsxs(en.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-center text-green-600 dark:text-green-400",children:[m.jsx(nx,{className:"w-5 h-5 mr-2"}),m.jsx("span",{className:"font-medium",children:"書き出し完了！"})]}):i?m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"書き出し中..."}),m.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:[Math.round(o),"%"]})]}),m.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}):m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"キャンセル"}),m.jsxs("button",{onClick:f,disabled:r===0,className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${r>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"}`,children:[m.jsx(yo,{className:"w-4 h-4 mr-2 inline"}),"書き出し"]})]})})]})})}):null},qk=()=>{const{state:e,setDragMode:t,undo:n,redo:r,toggleLayerSidebar:s,toggleDarkMode:i}=It(),[o,a]=v.useState(!1),l=e.historyIndex>0,u=e.historyIndex<e.history.length-1,c=()=>{a(!0)};return m.jsxs("header",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 px-4 py-3 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Image Canvas"}),m.jsxs("div",{className:"flex items-center space-x-1 bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>t("free"),className:`p-2 rounded-md transition-colors ${e.dragMode==="free"?"bg-blue-500 text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,title:"フリーモード - 自由移動","aria-label":"フリーモードに切り替え",children:m.jsx(lx,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>t("grid-snap"),className:`p-2 rounded-md transition-colors ${e.dragMode==="grid-snap"?"bg-blue-500 text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,title:"グリッドスナップモード - ドラッグでグリッドに自動フィット","aria-label":"グリッドスナップモードに切り替え",children:m.jsx(wx,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:n,disabled:!l,className:`p-2 rounded-md transition-colors ${l?"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700":"text-slate-300 dark:text-slate-600 cursor-not-allowed"}`,title:"元に戻す (Ctrl+Z / ⌘Z)","aria-label":"元に戻す",children:m.jsx(Zv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:r,disabled:!u,className:`p-2 rounded-md transition-colors ${u?"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700":"text-slate-300 dark:text-slate-600 cursor-not-allowed"}`,title:"やり直し (Ctrl+Shift+Z / ⌘⇧Z)","aria-label":"やり直し",children:m.jsx(Jv,{className:"w-5 h-5"})}),e.history.length>0&&m.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded min-w-[4.5rem] text-center font-mono",children:[e.historyIndex+1," / ",e.history.length]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[e.images.length>0&&m.jsxs("div",{className:"flex items-center space-x-1 text-sm text-slate-600 dark:text-slate-400",children:[m.jsx(Du,{className:"w-4 h-4"}),m.jsx("span",{children:e.images.filter(f=>f.visible).length}),m.jsx("span",{children:"/"}),m.jsx("span",{children:e.images.length})]}),m.jsxs("button",{onClick:c,disabled:e.images.length===0||e.images.filter(f=>f.visible).length===0,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.images.length>0&&e.images.filter(f=>f.visible).length>0?"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"}`,title:"ボード全体を書き出し","aria-label":"ボード全体書き出し",children:[m.jsx(yo,{className:"w-4 h-4 mr-1 inline"}),"書き出し"]}),m.jsx("button",{onClick:s,className:`p-2 rounded-md transition-colors ${e.layerSidebarVisible?"bg-blue-500 text-white":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700"}`,title:"レイヤーサイドバー (L)","aria-label":`レイヤーサイドバー${e.layerSidebarVisible?"非表示":"表示"}`,children:m.jsx(pm,{className:"w-5 h-5"})}),m.jsx("button",{onClick:i,className:"p-2 rounded-md text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:`${e.darkMode?"ライト":"ダーク"}モードに切り替え`,"aria-label":`${e.darkMode?"ライト":"ダーク"}モードに切り替え`,children:e.darkMode?m.jsx(Sx,{className:"w-5 h-5"}):m.jsx(gx,{className:"w-5 h-5"})})]}),m.jsx(Zk,{isOpen:o,onClose:()=>a(!1),totalImages:e.images.length,visibleImages:e.images.filter(f=>f.visible).length})]})},Jk=({className:e})=>m.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[m.jsx("rect",{x:"7",y:"7",width:"10",height:"10",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7L4 4M7 7V4M7 7H4"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17l3 3M17 17v3M17 17h3"})]}),eS=({image:e,isSelected:t,dragMode:n,onStartCrop:r,onStartDownload:s})=>{const{updateImage:i,selectImage:o,deleteImage:a,dispatch:l,reorderLayer:u,state:c}=It(),{copyImageToClipboard:f}=Mu(),p=v.useRef(null),y=v.useRef(null),k=v.useRef(null),w=v.useRef(null),E=v.useRef(null),h=v.useRef(0),d=v.useRef(null),g=v.useRef(null),S=v.useRef({frameTimes:[],avgFrameTime:16.67,targetFrameTime:16.67}),[x,C]=v.useState(!1),[T,P]=v.useState(!1),[D,b]=v.useState(!1),[I,O]=v.useState(!1),[z,U]=v.useState(null),[Y,me]=v.useState(null),[L,R]=v.useState(null),V=v.useCallback(j=>{j.stopPropagation(),o(e.id)},[o,e.id]),F=v.useCallback(j=>{j.button===0&&(j.preventDefault(),j.stopPropagation(),o(e.id),(n==="free"||n==="grid-snap")&&(C(!0),me({x:j.clientX,y:j.clientY,imgX:e.x,imgY:e.y})))},[o,e.id,e.x,e.y,n]),Q=v.useCallback(()=>{if(g.current)return g.current;const j=document.getElementById("image-canvas");if(!j){const H={width:window.innerWidth,height:window.innerHeight};return g.current=H,H}const N=j.getBoundingClientRect(),X=8,B={width:N.width-X,height:N.height-X};return g.current=B,B},[]);v.useEffect(()=>{const j=()=>{g.current=null};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const G=v.useCallback((j,N=22)=>Math.round(j/N)*N,[]),At=v.useCallback((j,N=44)=>Math.round(j/N)*N,[]),vt=v.useCallback(()=>{w.current&&(window.clearTimeout(w.current),w.current=null),b(!0)},[]),xr=v.useCallback(()=>{w.current=window.setTimeout(()=>{b(!1)},200)},[]),ct=v.useCallback(()=>{w.current&&(window.clearTimeout(w.current),w.current=null),b(!0)},[]),on=v.useCallback(()=>{w.current=window.setTimeout(()=>{b(!1)},200)},[]);v.useEffect(()=>()=>{w.current&&window.clearTimeout(w.current),E.current!==null&&(cancelAnimationFrame(E.current),E.current=null)},[]);const To=v.useCallback(j=>{const N=S.current;N.frameTimes.push(j),N.frameTimes.length>50&&N.frameTimes.shift(),N.frameTimes.length>=10&&(N.avgFrameTime=N.frameTimes.reduce((X,B)=>X+B,0)/N.frameTimes.length,N.avgFrameTime<6?N.targetFrameTime=6.06:N.avgFrameTime<8?N.targetFrameTime=8.33:N.avgFrameTime<11?N.targetFrameTime=11.11:N.avgFrameTime<14?N.targetFrameTime=13.33:N.targetFrameTime=16.67)},[]),Rs=v.useCallback(j=>{d.current={...d.current,...j},E.current===null&&(E.current=requestAnimationFrame(()=>{const N=performance.now(),X=S.current.targetFrameTime;if(N-h.current>=X){if(d.current){i(e.id,d.current),d.current=null,h.current=N;const B=N-h.current+X;To(B)}}else{E.current=requestAnimationFrame(()=>{if(d.current){const B=performance.now();i(e.id,d.current),d.current=null;const H=performance.now();h.current=H;const ge=H-B;To(ge)}E.current=null});return}E.current=null}))},[i,e.id,To]),Po=v.useCallback(j=>{if(x&&Y){const N=j.clientX-Y.x,X=j.clientY-Y.y,B=Q();let H=Y.imgX+N,ge=Y.imgY+X;n==="grid-snap"&&(H=At(H),ge=At(ge));const _e=Math.max(0,Math.min(B.width-e.width,H)),Dn=Math.max(0,Math.min(B.height-e.height,ge));Rs({x:_e,y:Dn})}T&&L&&H0(j)},[x,T,Y,L,n,e.id,e.width,e.height,Rs,Q,At]),H0=v.useCallback(j=>{if(!L)return;const N=j.clientX-L.x,X=j.clientY-L.y;let B=L.width,H=L.height,ge=L.imgX,_e=L.imgY;const Dn=e.originalWidth/e.originalHeight,X0=e.aspectRatioLocked&&!j.shiftKey,Is=Q();switch(L.handle){case"se":B=Math.max(50,L.width+N),H=Math.max(50,L.height+X);break;case"sw":B=Math.max(50,L.width-N),H=Math.max(50,L.height+X),ge=L.imgX+(L.width-B);break;case"ne":B=Math.max(50,L.width+N),H=Math.max(50,L.height-X),_e=L.imgY+(L.height-H);break;case"nw":B=Math.max(50,L.width-N),H=Math.max(50,L.height-X),ge=L.imgX+(L.width-B),_e=L.imgY+(L.height-H);break}if(X0){const jo=B/H;if(jo>Dn){const wr=H*Dn,Mo=B-wr;B=wr,(L.handle==="sw"||L.handle==="nw")&&(ge+=Mo)}else if(jo<Dn){const wr=B/Dn,Mo=H-wr;H=wr,(L.handle==="ne"||L.handle==="nw")&&(_e+=Mo)}}ge<0&&(B=B+ge,ge=0),_e<0&&(H=H+_e,_e=0),ge+B>Is.width&&(B=Is.width-ge),_e+H>Is.height&&(H=Is.height-_e),B=Math.max(50,B),H=Math.max(50,H),n==="grid-snap"&&(ge=G(ge,22),_e=G(_e,22),B=G(B,22),H=G(H,22)),Rs({x:ge,y:_e,width:B,height:H})},[L,e.originalWidth,e.originalHeight,e.aspectRatioLocked,Rs,Q,n,G]),bo=v.useCallback(()=>{if(x&&Y){if(n==="grid-snap"){const B=G(e.x),H=G(e.y);i(e.id,{x:B,y:H})}const j=Math.abs(e.x-Y.imgX),N=Math.abs(e.y-Y.imgY);(j>3||N>3)&&l({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像を移動"}})}if(T&&L){const j=Math.abs(e.width-L.width),N=Math.abs(e.height-L.height);(j>3||N>3)&&l({type:"ADD_HISTORY_STEP",payload:{action:"resize-image",description:"画像をリサイズ"}})}if(E.current!==null&&(cancelAnimationFrame(E.current),E.current=null),d.current&&(i(e.id,d.current),d.current=null),x&&n==="free"){O(!0);const j=setTimeout(()=>{O(!1)},150);setTimeout(()=>{clearTimeout(j),O(!1)},150)}C(!1),P(!1),me(null),R(null)},[x,T,Y,L,e.x,e.y,e.width,e.height,l,i,e.id,n,G]),K0=v.useCallback((j,N)=>{j.preventDefault(),j.stopPropagation(),P(!0),R({x:j.clientX,y:j.clientY,imgX:e.x,imgY:e.y,width:e.width,height:e.height,handle:N})},[e.x,e.y,e.width,e.height]),Y0=v.useCallback(j=>{j.preventDefault(),j.stopPropagation(),o(e.id),U({x:j.clientX,y:j.clientY})},[o,e.id]);v.useEffect(()=>{if(x||T)return document.addEventListener("mousemove",Po),document.addEventListener("mouseup",bo),document.body.style.cursor=x?"grabbing":"nw-resize",()=>{document.removeEventListener("mousemove",Po),document.removeEventListener("mouseup",bo),document.body.style.cursor=""}},[x,T,Po,bo]),v.useEffect(()=>{const j=()=>U(null);if(z)return document.addEventListener("click",j),()=>document.removeEventListener("click",j)},[z]);const G0=[{label:"ダウンロード...",icon:yo,action:()=>s==null?void 0:s(e)},{separator:!0},{label:"最前面に移動",icon:Yv,action:()=>{const j=Math.max(...c.images.map(N=>N.zIndex));u(e.id,j+1)}},{label:"前面に移動",icon:Xv,action:()=>{const j=e.zIndex,N=c.images.filter(X=>X.zIndex>j);if(N.length>0){const X=Math.min(...N.map(B=>B.zIndex));u(e.id,X+.5)}}},{label:"背面に移動",icon:Hv,action:()=>{const j=e.zIndex,N=c.images.filter(X=>X.zIndex<j);if(N.length>0){const X=Math.max(...N.map(B=>B.zIndex));u(e.id,X-.5)}}},{label:"最背面に移動",icon:$v,action:()=>{const j=Math.min(...c.images.map(N=>N.zIndex));u(e.id,j-1)}},{separator:!0},{label:"削除",icon:bd,action:()=>a(e.id),danger:!0}];return m.jsxs(m.Fragment,{children:[m.jsxs("div",{ref:p,className:`absolute select-none ${x&&n==="free"||I?"":"transition-all duration-75"} ${t?"ring-2 ring-blue-500 ring-offset-2":""} ${x?"z-50":""}`,style:{...n==="free"&&(x||I)?{left:0,top:0,transform:`translate3d(${e.x}px, ${e.y}px, 0)`,willChange:x?"transform":"auto",backfaceVisibility:"hidden",perspective:1e3,...I?{transition:"transform 0.1s ease-out"}:{}}:{left:e.x,top:e.y,transform:"none"},width:e.width,height:e.height,zIndex:e.zIndex,cursor:(n==="free"||n==="grid-snap")&&!T?x?"grabbing":"grab":"default"},onMouseDown:F,onMouseEnter:vt,onMouseLeave:xr,onContextMenu:Y0,onClick:V,role:"img","aria-label":`画像 ${e.id}`,tabIndex:0,children:[m.jsx("img",{ref:y,src:e.src,alt:`画像 ${e.id}`,className:"w-full h-full object-cover rounded shadow-lg",draggable:!1,style:{opacity:e.opacity??1}}),D&&!x&&!T&&!z&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute -top-10 left-0 z-9",style:{width:"144px",height:"40px"},onMouseEnter:ct,onMouseLeave:on}),m.jsxs("div",{ref:k,className:"absolute -top-10 left-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg flex items-center px-2 py-1 space-x-1 z-10","data-toolbar":"true",onMouseEnter:ct,onMouseLeave:on,children:[m.jsx("button",{onMouseDown:j=>{j.stopPropagation(),j.preventDefault()},onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("Clipboard button clicked"),f(e.id)},className:"p-1 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"クリップボードにコピー",children:m.jsx(ox,{className:"w-4 h-4"})}),m.jsx("button",{onMouseDown:j=>{j.stopPropagation(),j.preventDefault()},onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("Crop button clicked"),r==null||r(e)},className:"p-1 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"トリミング",children:m.jsx(Jk,{className:"w-4 h-4"})}),m.jsx("button",{onMouseDown:j=>{j.stopPropagation(),j.preventDefault()},onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("Aspect ratio button clicked"),i(e.id,{aspectRatioLocked:!e.aspectRatioLocked})},className:`p-1 rounded transition-colors ${e.aspectRatioLocked?"text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20":"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,title:`アスペクト比${e.aspectRatioLocked?"ロック中":"ロック解除"}`,children:e.aspectRatioLocked?m.jsx(fx,{className:"w-4 h-4"}):m.jsx(px,{className:"w-4 h-4"})}),m.jsx("button",{onMouseDown:j=>{j.stopPropagation(),j.preventDefault()},onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("Delete button clicked"),a(e.id)},className:"p-1 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"削除",children:m.jsx(bd,{className:"w-4 h-4"})})]})]}),t&&!x&&m.jsx("div",{className:"absolute inset-0 pointer-events-none",children:["nw","ne","sw","se"].map(j=>m.jsx("button",{className:`absolute w-3 h-3 bg-blue-500 border-2 border-white rounded-full pointer-events-auto transition-opacity hover:opacity-100 ${D||T?"opacity-100":"opacity-0"} ${j==="nw"?"-top-1.5 -left-1.5 cursor-nw-resize":j==="ne"?"-top-1.5 -right-1.5 cursor-ne-resize":j==="sw"?"-bottom-1.5 -left-1.5 cursor-sw-resize":"-bottom-1.5 -right-1.5 cursor-se-resize"}`,onMouseDown:N=>K0(N,j),title:`${j.toUpperCase()}角をドラッグしてリサイズ`},j))})]}),z&&m.jsx("div",{className:"fixed bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg py-1 z-50 min-w-48",style:{left:z.x,top:z.y},children:G0.map((j,N)=>j.separator?m.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"},N):m.jsxs("button",{onClick:()=>{var X;(X=j.action)==null||X.call(j),U(null)},className:`w-full text-left px-4 py-2 text-sm flex items-center space-x-2 transition-colors ${j.danger?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[j.icon&&m.jsx(j.icon,{className:"w-4 h-4"}),m.jsx("span",{children:j.label})]},N))})]})},tS=({visible:e,gridSize:t=22,canvasWidth:n,canvasHeight:r})=>{if(!e)return null;const s=[],i=[];for(let o=0;o<=n;o+=t)s.push(m.jsx("line",{x1:o,y1:0,x2:o,y2:r,stroke:"currentColor",strokeWidth:"0.5",opacity:"0.15"},`v-${o}`));for(let o=0;o<=r;o+=t)i.push(m.jsx("line",{x1:0,y1:o,x2:n,y2:o,stroke:"currentColor",strokeWidth:"0.5",opacity:"0.15"},`h-${o}`));return m.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:m.jsxs("svg",{width:n,height:r,className:"w-full h-full text-slate-600 dark:text-slate-400",children:[s,i]})})},nS=({onStartCrop:e,onStartDownload:t})=>{const{state:n,selectImage:r,updateImage:s,dispatch:i}=It(),{handleFileDrop:o}=fm(),a=v.useRef(null),[l,u]=v.useState(!1),[c,f]=v.useState({width:800,height:600});v.useLayoutEffect(()=>{const h=()=>{if(a.current){const d=a.current.getBoundingClientRect();f({width:d.width,height:d.height})}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{const h=d=>{if(n.dragMode!=="grid-snap"||!n.selectedImageId)return;const g=document.activeElement;if(g&&(g.tagName==="INPUT"||g.tagName==="TEXTAREA"||g.getAttribute("contenteditable")==="true"))return;const S=n.images.find(b=>b.id===n.selectedImageId);if(!S)return;const x=22,C=d.shiftKey?x*2:x;let T=S.x,P=S.y,D=!1;switch(d.key){case"ArrowLeft":d.preventDefault(),T=Math.max(0,S.x-C),D=!0;break;case"ArrowRight":d.preventDefault(),T=Math.min(c.width-S.width,S.x+C),D=!0;break;case"ArrowUp":d.preventDefault(),P=Math.max(0,S.y-C),D=!0;break;case"ArrowDown":d.preventDefault(),P=Math.min(c.height-S.height,S.y+C),D=!0;break;default:return}D&&(T=Math.round(T/x)*x,P=Math.round(P/x)*x,s(n.selectedImageId,{x:T,y:P}),i({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をグリッドで移動"}}))};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[n.dragMode,n.selectedImageId,n.images,c,s,i]);const p=v.useCallback(h=>{h.preventDefault(),h.stopPropagation(),u(!0)},[]),y=v.useCallback(h=>{var g;h.preventDefault(),h.stopPropagation();const d=(g=a.current)==null?void 0:g.getBoundingClientRect();d&&(h.clientX<d.left||h.clientX>d.right||h.clientY<d.top||h.clientY>d.bottom)&&u(!1)},[]),k=v.useCallback(async h=>{h.preventDefault(),h.stopPropagation(),u(!1);const d=h.dataTransfer.files;d.length>0&&await o(d)},[o]),w=v.useCallback(h=>{h.target===h.currentTarget&&r(null)},[r]),E=n.images.filter(h=>h.visible).sort((h,d)=>h.zIndex-d.zIndex);return m.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-slate-100 dark:bg-slate-800",children:[m.jsxs("div",{ref:a,id:"image-canvas",className:`absolute inset-0 overflow-auto transition-colors duration-200 ${l?"bg-blue-100 dark:bg-blue-900/30":"bg-slate-100 dark:bg-slate-800"}`,onClick:w,onDragOver:p,onDragLeave:y,onDrop:k,role:"application","aria-label":"画像編集キャンバス",children:[m.jsx(tS,{visible:n.dragMode==="grid-snap",gridSize:22,canvasWidth:c.width,canvasHeight:c.height}),l&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 pointer-events-none",children:m.jsx("div",{className:"bg-white dark:bg-slate-700 rounded-xl p-10 shadow-lg border-2 border-dashed border-blue-400 dark:border-blue-500",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-4",children:"📁"}),m.jsx("h3",{className:"text-xl font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"ファイルをドロップして追加"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"画像ファイルをここにドロップしてください"})]})})}),E.map(h=>m.jsx(eS,{image:h,isSelected:n.selectedImageId===h.id,dragMode:n.dragMode,onStartCrop:e,onStartDownload:t},h.id))]}),n.images.length===0&&!l&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsxs("div",{className:"text-center p-8 max-w-md opacity-70",children:[m.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-500 dark:text-slate-400 mb-4",children:"キャンバスが空です"}),m.jsxs("div",{className:"space-y-2 text-slate-400 dark:text-slate-500",children:[m.jsx("p",{children:"画像を追加する方法："}),m.jsxs("ul",{className:"text-sm space-y-1",children:[m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Ctrl+V"})," (Mac: ⌘V) でクリップボードから貼り付け"]}),m.jsx("li",{children:"• 画像ファイルをドラッグ&ドロップ"})]})]})]})}),m.jsxs("div",{className:"sr-only",children:[m.jsx("p",{children:"画像編集キャンバス。画像をドラッグして移動、リサイズハンドルでサイズ変更、 右クリックでコンテキストメニューを表示できます。"}),m.jsx("p",{children:"キーボードショートカット: Ctrl+V で貼り付け、L でレイヤーサイドバー表示、 Ctrl+Z で元に戻す、矢印キーで選択画像を移動。"})]})]})},rS=({isOpen:e,onClose:t})=>{const{state:n,toggleLayerVisibility:r,reorderLayer:s,selectImage:i}=It(),{images:o,selectedImageId:a}=n,[l,u]=v.useState(null),[c,f]=v.useState(null),p=[...o].sort((x,C)=>C.zIndex-x.zIndex),y=x=>{r(x)},k=x=>{i(x)},w=(x,C)=>{u(C),x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",C),x.target instanceof HTMLElement&&(x.target.style.opacity="0.5")},E=(x,C)=>{x.preventDefault(),x.dataTransfer.dropEffect="move",f(C)},h=x=>{x.currentTarget.contains(x.relatedTarget)||f(null)},d=(x,C)=>{if(x.preventDefault(),!l)return;const T=p.findIndex(b=>b.id===l);if(T===-1||T===C){u(null),f(null);return}const D=p[C].zIndex;s(l,D),u(null),f(null)},g=x=>{x.target instanceof HTMLElement&&(x.target.style.opacity=""),u(null),f(null)},S=x=>m.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded border overflow-hidden flex-shrink-0",style:{backgroundImage:`url(${x.src})`,backgroundSize:"cover",backgroundPosition:"center"}});return m.jsx(xo,{children:e&&m.jsxs(m.Fragment,{children:[m.jsx(en.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:t}),m.jsxs(en.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-80 bg-white dark:bg-gray-800 shadow-2xl z-50 flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"レイヤー管理"}),m.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"レイヤーサイドバーを閉じる",children:m.jsx(gs,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),m.jsx("div",{className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-700",children:m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 text-center",children:"ドラッグ&ドロップでレイヤーの順序を変更できます"})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:p.length===0?m.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[m.jsx("p",{children:"画像がありません"}),m.jsx("p",{className:"text-sm mt-1",children:"Ctrl+V で画像を貼り付けてください"})]}):p.map((x,C)=>m.jsxs("div",{draggable:!0,onDragStart:T=>w(T,x.id),onDragOver:T=>E(T,C),onDragLeave:h,onDrop:T=>d(T,C),onDragEnd:T=>g(T),className:`
                      p-3 rounded-lg border transition-all duration-200 select-none
                      ${a===x.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}
                      ${x.visible?"":"opacity-50"}
                      ${c===C&&l!==x.id?"border-2 border-dashed border-blue-400 bg-blue-100 dark:bg-blue-800/30 transform scale-105":"cursor-grab active:cursor-grabbing"}
                      ${l===x.id?"shadow-2xl border-blue-500 z-10 opacity-30 transform scale-95":""}
                    `,onClick:()=>k(x.id),children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(pm,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}),S(x),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:["レイヤー ",p.length-C]}),m.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["z: ",x.zIndex]})]}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[Math.round(x.width)," × ",Math.round(x.height)," px"]}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",Math.round(x.x),", ",Math.round(x.y),")"]})]}),m.jsx("div",{className:"flex-shrink-0",children:m.jsx("button",{onClick:T=>{T.stopPropagation(),y(x.id)},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":x.visible?"非表示にする":"表示する",children:x.visible?m.jsx(Du,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}):m.jsx(mm,{className:"w-4 h-4 text-gray-400"})})})]}),c===C&&l!==x.id&&m.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-blue-500 rounded-full opacity-100"})]},x.id))}),m.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center space-y-1",children:[m.jsx("p",{children:"Lキー: サイドバー切替"}),m.jsx("p",{children:"ドラッグ&ドロップ: レイヤー順序変更"}),m.jsx("p",{children:"目のアイコン: 表示/非表示切替"})]})})]})]})})},sS=({image:e,onClose:t})=>{const{dispatch:n}=It(),[r,s]=v.useState({x:0,y:0,width:Math.min(e.width*.8,300),height:Math.min(e.height*.8,300)}),[i,o]=v.useState(!1),[a,l]=v.useState({x:0,y:0}),[u,c]=v.useState(!1),f=v.useRef(null),p=v.useRef(null),y=Math.min(window.innerWidth*.8,800),k=Math.min(window.innerHeight*.8,600),w=e.width/e.height;let E=y,h=y/w;h>k&&(h=k,E=k*w);const d=E/e.width,g=h/e.height,S=v.useCallback((b,I)=>{if(!f.current)return{x:0,y:0};const O=f.current.getBoundingClientRect(),z=b-O.left,U=I-O.top;return{x:Math.max(0,Math.min(z/d,e.width)),y:Math.max(0,Math.min(U/g,e.height))}},[d,g,e.width,e.height]),x=v.useCallback(b=>{if(b.preventDefault(),b.stopPropagation(),!f.current)return;const I=S(b.clientX,b.clientY);o(!0),l({x:b.clientX,y:b.clientY}),s({x:I.x,y:I.y,width:0,height:0})},[S]),C=v.useCallback(b=>{if(!i||!f.current)return;const I=S(a.x,a.y),O=S(b.clientX,b.clientY),z={x:Math.max(0,Math.min(I.x,O.x)),y:Math.max(0,Math.min(I.y,O.y)),width:Math.abs(O.x-I.x),height:Math.abs(O.y-I.y)};z.x=Math.max(0,Math.min(z.x,e.width)),z.y=Math.max(0,Math.min(z.y,e.height)),z.width=Math.min(z.width,e.width-z.x),z.height=Math.min(z.height,e.height-z.y),s(z)},[i,a,S,e.width,e.height]),T=v.useCallback(()=>{o(!1)},[]);v.useEffect(()=>{if(i)return document.addEventListener("mousemove",C),document.addEventListener("mouseup",T),document.body.style.cursor="crosshair",()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",T),document.body.style.cursor=""}},[i,C,T]);const P=(b,I)=>{const O=Math.max(0,parseInt(I)||0);s(z=>{const U={...z,[b]:O};return(b==="x"||b==="width")&&(U.x=Math.min(U.x,e.width-1),U.width=Math.min(U.width,e.width-U.x)),(b==="y"||b==="height")&&(U.y=Math.min(U.y,e.height-1),U.height=Math.min(U.height,e.height-U.y)),U})},D=async()=>{if(!(r.width<=0||r.height<=0)){c(!0);try{const b=document.createElement("canvas"),I=b.getContext("2d");if(!I)throw new Error("Canvas context not available");b.width=r.width,b.height=r.height;const O=new Image;O.crossOrigin="anonymous",await new Promise((U,Y)=>{O.onload=()=>{I.drawImage(O,r.x,r.y,r.width,r.height,0,0,r.width,r.height),U()},O.onerror=Y,O.src=e.src});const z=b.toDataURL("image/png");n({type:"UPDATE_IMAGE",payload:{id:e.id,updates:{src:z,width:r.width,height:r.height,originalWidth:r.width,originalHeight:r.height}}}),n({type:"ADD_HISTORY_STEP",payload:{action:"crop-image",description:"画像をトリミング"}}),console.info("✅ トリミングが正常に完了しました",{originalSize:`${e.width}×${e.height}`,croppedSize:`${r.width}×${r.height}`,cropArea:`(${Math.round(r.x)}, ${Math.round(r.y)})`}),t()}catch(b){console.error("Crop failed:",b),alert("トリミングに失敗しました。")}finally{c(!1)}}};return v.useEffect(()=>{const b=I=>{I.key==="Escape"?t():I.key==="Enter"&&!u&&D()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[t,u]),m.jsx(xo,{children:m.jsx(en.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:t,children:m.jsxs(en.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-6xl w-full max-h-full overflow-hidden",onClick:b=>b.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"画像をトリミング"}),m.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"トリミングをキャンセル",children:m.jsx(gs,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row",children:[m.jsx("div",{className:"flex-1 p-4",children:m.jsxs("div",{className:"relative inline-block",ref:p,children:[m.jsx("img",{ref:f,src:e.src,alt:"Crop preview",className:"max-w-full max-h-full object-contain cursor-crosshair select-none",style:{width:E,height:h},onMouseDown:x,draggable:!1}),r.width>0&&r.height>0&&m.jsxs("div",{className:"absolute border-2 border-blue-500 bg-blue-500 bg-opacity-20 pointer-events-none",style:{left:r.x*d,top:r.y*g,width:r.width*d,height:r.height*g},children:[m.jsxs("div",{className:"absolute -top-6 left-0 bg-blue-500 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:[Math.round(r.width)," × ",Math.round(r.height)]}),m.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-blue-500 border border-white rounded-full"}),m.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 border border-white rounded-full"}),m.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-blue-500 border border-white rounded-full"}),m.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-blue-500 border border-white rounded-full"})]})]})}),m.jsx("div",{className:"w-full lg:w-80 p-4 border-t lg:border-t-0 lg:border-l border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"トリミング範囲"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"X座標"}),m.jsx("input",{type:"number",min:"0",max:e.width-1,value:Math.round(r.x),onChange:b=>P("x",b.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Y座標"}),m.jsx("input",{type:"number",min:"0",max:e.height-1,value:Math.round(r.y),onChange:b=>P("y",b.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"幅"}),m.jsx("input",{type:"number",min:"1",max:e.width-r.x,value:Math.round(r.width),onChange:b=>P("width",b.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"高さ"}),m.jsx("input",{type:"number",min:"1",max:e.height-r.y,value:Math.round(r.height),onChange:b=>P("height",b.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),m.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[m.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"元画像情報"}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[m.jsxs("p",{children:["サイズ: ",e.width," × ",e.height,"px"]}),m.jsxs("p",{children:["選択範囲: ",Math.round(r.width)," ×"," ",Math.round(r.height),"px"]})]})]}),m.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:[m.jsx("p",{children:"• ドラッグして範囲を選択"}),m.jsx("p",{children:"• 数値入力で精密調整"}),m.jsx("p",{children:"• Enter: 適用 / Esc: キャンセル"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:D,disabled:u||r.width<=0||r.height<=0,className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white text-sm font-medium rounded transition-colors",children:u?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx(sx,{className:"w-4 h-4 mr-1"}),"適用"]})}),m.jsxs("button",{onClick:t,disabled:u,className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white text-sm font-medium rounded transition-colors",children:[m.jsx(gs,{className:"w-4 h-4 mr-1"}),"キャンセル"]})]})]})]})})]})]})})})},iS=({image:e,onClose:t,onDownload:n})=>{const[r,s]=v.useState("png"),[i,o]=v.useState(80),[a,l]=v.useState(""),[u,c]=v.useState(""),[f,p]=v.useState(!1),y=v.useRef(null),k=[{value:"png",label:"PNG",description:"可逆圧縮、透明度サポート、最高品質"},{value:"jpeg",label:"JPEG",description:"非可逆圧縮、小さなファイルサイズ"},{value:"webp",label:"WebP",description:"高効率圧縮、モダンフォーマット"}],w=[{value:100,label:"100%",description:"最高品質（大きなファイル）"},{value:80,label:"80%",description:"高品質（推奨）"},{value:60,label:"60%",description:"標準品質（小さなファイル）"}];v.useEffect(()=>{(async()=>{if(y.current){p(!0);try{const g=y.current,S=g.getContext("2d");if(!S)return;g.width=e.width,g.height=e.height;const x=new Image;x.crossOrigin="anonymous",await new Promise((I,O)=>{x.onload=()=>{S.drawImage(x,0,0,e.width,e.height),I()},x.onerror=O,x.src=e.src});let C="image/png",T;r==="jpeg"?(C="image/jpeg",T=i/100):r==="webp"&&(C="image/webp",T=i/100);const P=g.toDataURL(C,T);l(P);const b=P.split(",")[1].length*3/4;b<1024?c(`${Math.round(b)} B`):b<1048576?c(`${Math.round(b/1024)} KB`):c(`${(b/1048576).toFixed(1)} MB`)}catch(g){console.error("Preview generation failed:",g),l(e.src),c("不明")}finally{p(!1)}}})()},[e,r,i]);const E=()=>{n(r,i),t()},h=d=>{d.key==="Escape"?(d.preventDefault(),d.stopPropagation(),t()):d.key==="Enter"&&(d.preventDefault(),d.stopPropagation(),E())};return v.useEffect(()=>{const d=g=>{g.key==="Escape"?(g.preventDefault(),t()):g.key==="Enter"&&(g.preventDefault(),E())};return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[t,r,i,n]),m.jsx(xo,{children:m.jsx(en.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:m.jsxs(en.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden",onClick:d=>d.stopPropagation(),onKeyDown:h,children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 flex-shrink-0",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"画像をダウンロード"}),m.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-label":"ダイアログを閉じる",children:m.jsx(gs,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:"relative",children:[f&&m.jsx("div",{className:"absolute inset-0 bg-white dark:bg-slate-800 bg-opacity-75 flex items-center justify-center z-10",children:m.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),m.jsx("img",{src:a||e.src,alt:"Download preview",className:"max-w-full max-h-48 object-contain border border-slate-200 dark:border-slate-600 rounded"}),m.jsx("canvas",{ref:y,className:"hidden"})]})}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-3",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(vx,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"}),m.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:"画像情報"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-slate-600 dark:text-slate-300",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block text-slate-500 dark:text-slate-400",children:"サイズ"}),m.jsxs("span",{children:[e.width," × ",e.height,"px"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-slate-500 dark:text-slate-400",children:"推定ファイルサイズ"}),m.jsx("span",{className:"font-medium",children:u})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:"ファイル形式"}),m.jsx("div",{className:"space-y-2",children:k.map(d=>m.jsxs("label",{className:`
                      flex items-start p-3 border rounded-lg cursor-pointer transition-colors
                      ${r===d.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}
                    `,children:[m.jsx("input",{type:"radio",name:"format",value:d.value,checked:r===d.value,onChange:g=>s(g.target.value),className:"mt-1 mr-3"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:d.label}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:d.description})]})]},d.value))})]}),(r==="jpeg"||r==="webp")&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:"画質"}),m.jsx("div",{className:"space-y-2",children:w.map(d=>m.jsxs("label",{className:`
                        flex items-start p-3 border rounded-lg cursor-pointer transition-colors
                        ${i===d.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}
                      `,children:[m.jsx("input",{type:"radio",name:"quality",value:d.value,checked:i===d.value,onChange:g=>o(parseInt(g.target.value)),className:"mt-1 mr-3"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:d.label}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:d.description})]})]},d.value))})]}),(r==="jpeg"||r==="webp")&&m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:["カスタム画質: ",i,"%"]}),m.jsx("input",{type:"range",min:"10",max:"100",step:"5",value:i,onChange:d=>o(parseInt(d.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer"}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.jsx("span",{children:"低画質"}),m.jsx("span",{children:"高画質"})]})]}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:m.jsx("p",{children:"Enter: ダウンロード / Esc: キャンセル"})})]}),m.jsxs("div",{className:"flex space-x-3 p-4 border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 flex-shrink-0",children:[m.jsxs("button",{onClick:E,disabled:f,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white font-medium rounded-lg transition-colors",children:[m.jsx(yo,{className:"w-4 h-4 mr-2"}),"ダウンロード"]}),m.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white font-medium rounded-lg transition-colors",children:"キャンセル"})]})]})})})},oS=()=>{const{state:e,dispatch:t}=It(),[n,r]=v.useState(null),[s,i]=v.useState(null),[o,a]=v.useState({modern:!1,legacy:!0});fm(),zv(),v.useEffect(()=>{(()=>{const k=!!(navigator.clipboard&&navigator.clipboard.read),w=!!(navigator.clipboard&&"ClipboardEvent"in window);a({modern:k,legacy:w}),k||console.info("Modern Clipboard API not supported. Using legacy paste events for compatibility.")})()},[]);const l=y=>{r(y)},u=()=>{r(null)},c=y=>{i(y)},f=()=>{i(null)},p=async(y,k)=>{if(s)try{const w=document.createElement("canvas"),E=w.getContext("2d");if(!E)throw new Error("Canvas context not available");w.width=s.width,w.height=s.height;const h=new Image;h.crossOrigin="anonymous",await new Promise((x,C)=>{h.onload=()=>{E.drawImage(h,0,0,s.width,s.height),x()},h.onerror=C,h.src=s.src});let d="image/png",g,S="png";y==="jpeg"?(d="image/jpeg",g=k/100,S="jpg"):y==="webp"&&(d="image/webp",g=k/100,S="webp"),w.toBlob(x=>{if(!x)return;const C=URL.createObjectURL(x),T=document.createElement("a");T.href=C,T.download=`image_${Date.now()}.${S}`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(C)},d,g)}catch(w){console.error("Download failed:",w),alert("ダウンロードに失敗しました。")}};return m.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 dark:bg-slate-900 overflow-hidden",children:[m.jsx(qk,{}),m.jsxs("div",{className:"flex flex-1 overflow-hidden relative bg-slate-100 dark:bg-slate-800",children:[m.jsx("div",{className:"flex-1 relative overflow-hidden",children:m.jsx(nS,{onStartCrop:l,onStartDownload:c})}),m.jsx(rS,{isOpen:e.layerSidebarVisible,onClose:()=>t({type:"TOGGLE_LAYER_SIDEBAR"})})]}),e.isLoading&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 dark:border-blue-400"}),m.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"画像を処理中..."})]})})}),e.images.length===0&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsxs("div",{className:"text-center p-8 max-w-md bg-white dark:bg-slate-700 rounded-xl shadow-lg border border-slate-200 dark:border-slate-600",children:[m.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Image Canvas へようこそ"}),m.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"クリップボードから画像を貼り付けて編集を始めましょう"}),m.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 space-y-1",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Ctrl+V"})," (Mac: ⌘V) - 画像を貼り付け",!o.modern&&m.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 ml-2",children:"(レガシーモード)"})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"L"})," - レイヤーサイドバー表示"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Ctrl+Z"})," (Mac: ⌘Z) - 元に戻す"]}),!o.modern&&m.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2 italic",children:"このブラウザではレガシークリップボード機能を使用します"})]})]})}),n&&m.jsx(sS,{image:n,onClose:u}),s&&m.jsx(iS,{image:s,onClose:f,onDownload:p})]})};class aS extends v.Component{constructor(n){super(n);Do(this,"handleReload",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});Do(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null});try{localStorage.removeItem("imageCanvas-state"),console.info("Local storage cleared due to error recovery")}catch(n){console.warn("Failed to clear local storage:",n)}});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?m.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-lg w-full",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[m.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"アプリケーションエラー"})]}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"申し訳ございません。予期しないエラーが発生しました。以下のオプションをお試しください。"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:this.handleReset,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:"データをリセットして続行"}),m.jsx("button",{onClick:this.handleReload,className:"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md transition-colors",children:"ページを再読み込み"})]}),!1]})}):this.props.children}}va.createRoot(document.getElementById("root")).render(m.jsx(pg.StrictMode,{children:m.jsx(aS,{children:m.jsx(Fv,{children:m.jsx(oS,{})})})}));
