var Q0=Object.defineProperty;var Z0=(e,t,n)=>t in e?Q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jo=(e,t,n)=>Z0(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kf={exports:{}},Zs={},Yf={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=Symbol.for("react.element"),J0=Symbol.for("react.portal"),eg=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),rg=Symbol.for("react.provider"),ig=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),og=Symbol.for("react.suspense"),ag=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),fc=Symbol.iterator;function ug(e){return e===null||typeof e!="object"?null:(e=fc&&e[fc]||e["@@iterator"],typeof e=="function"?e:null)}var Gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xf=Object.assign,Qf={};function mr(e,t,n){this.props=e,this.context=t,this.refs=Qf,this.updater=n||Gf}mr.prototype.isReactComponent={};mr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zf(){}Zf.prototype=mr.prototype;function Il(e,t,n){this.props=e,this.context=t,this.refs=Qf,this.updater=n||Gf}var Ll=Il.prototype=new Zf;Ll.constructor=Il;Xf(Ll,mr.prototype);Ll.isPureReactComponent=!0;var hc=Array.isArray,qf=Object.prototype.hasOwnProperty,Al={current:null},Jf={key:!0,ref:!0,__self:!0,__source:!0};function eh(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)qf.call(t,r)&&!Jf.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pi,type:e,key:s,ref:o,props:i,_owner:Al.current}}function cg(e,t){return{$$typeof:Pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pi}function dg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pc=/\/+/g;function Do(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dg(""+e.key):t.toString(36)}function ns(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pi:case J0:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Do(o,0):r,hc(i)?(n="",e!=null&&(n=e.replace(pc,"$&/")+"/"),ns(i,t,n,"",function(u){return u})):i!=null&&(Nl(i)&&(i=cg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",hc(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Do(s,a);o+=ns(s,t,n,l,i)}else if(l=ug(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Do(s,a++),o+=ns(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ai(e,t,n){if(e==null)return e;var r=[],i=0;return ns(e,r,"","",function(s){return t.call(n,s,i++)}),r}function fg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},rs={transition:null},hg={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:rs,ReactCurrentOwner:Al};function th(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Ai,forEach:function(e,t,n){Ai(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ai(e,function(){t++}),t},toArray:function(e){return Ai(e,function(t){return t})||[]},only:function(e){if(!Nl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=mr;$.Fragment=eg;$.Profiler=ng;$.PureComponent=Il;$.StrictMode=tg;$.Suspense=og;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hg;$.act=th;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xf({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Al.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)qf.call(t,l)&&!Jf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pi,type:e.type,key:i,ref:s,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:ig,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rg,_context:e},e.Consumer=e};$.createElement=eh;$.createFactory=function(e){var t=eh.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:sg,render:e}};$.isValidElement=Nl;$.lazy=function(e){return{$$typeof:lg,_payload:{_status:-1,_result:e},_init:fg}};$.memo=function(e,t){return{$$typeof:ag,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=rs.transition;rs.transition={};try{e()}finally{rs.transition=t}};$.unstable_act=th;$.useCallback=function(e,t){return Re.current.useCallback(e,t)};$.useContext=function(e){return Re.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};$.useEffect=function(e,t){return Re.current.useEffect(e,t)};$.useId=function(){return Re.current.useId()};$.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Re.current.useMemo(e,t)};$.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};$.useRef=function(e){return Re.current.useRef(e)};$.useState=function(e){return Re.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Re.current.useTransition()};$.version="18.3.1";Yf.exports=$;var v=Yf.exports;const pg=q0(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=v,gg=Symbol.for("react.element"),yg=Symbol.for("react.fragment"),vg=Object.prototype.hasOwnProperty,xg=mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wg={key:!0,ref:!0,__self:!0,__source:!0};function nh(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)vg.call(t,r)&&!wg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:gg,type:e,key:s,ref:o,props:i,_owner:xg.current}}Zs.Fragment=yg;Zs.jsx=nh;Zs.jsxs=nh;Kf.exports=Zs;var m=Kf.exports,ya={},rh={exports:{}},Ye={},ih={exports:{}},sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,V){var z=T.length;T.push(V);e:for(;0<z;){var re=z-1>>>1,ee=T[re];if(0<i(ee,V))T[re]=V,T[z]=ee,z=re;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var V=T[0],z=T.pop();if(z!==V){T[0]=z;e:for(var re=0,ee=T.length,Ve=ee>>>1;re<Ve;){var rt=2*(re+1)-1,wr=T[rt],wt=rt+1,an=T[wt];if(0>i(wr,z))wt<ee&&0>i(an,wr)?(T[re]=an,T[wt]=z,re=wt):(T[re]=wr,T[rt]=z,re=rt);else if(wt<ee&&0>i(an,z))T[re]=an,T[wt]=z,re=wt;else break e}}return V}function i(T,V){var z=T.sortIndex-V.sortIndex;return z!==0?z:T.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,y=!1,S=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=T)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function k(T){if(w=!1,g(T),!S)if(n(l)!==null)S=!0,Q(x);else{var V=n(u);V!==null&&K(k,V.startTime-T)}}function x(T,V){S=!1,w&&(w=!1,h(P),P=-1),y=!0;var z=p;try{for(g(V),f=n(l);f!==null&&(!(f.expirationTime>V)||T&&!I());){var re=f.callback;if(typeof re=="function"){f.callback=null,p=f.priorityLevel;var ee=re(f.expirationTime<=V);V=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),g(V)}else r(l);f=n(l)}if(f!==null)var Ve=!0;else{var rt=n(u);rt!==null&&K(k,rt.startTime-V),Ve=!1}return Ve}finally{f=null,p=z,y=!1}}var C=!1,b=null,P=-1,R=5,M=-1;function I(){return!(e.unstable_now()-M<R)}function F(){if(b!==null){var T=e.unstable_now();M=T;var V=!0;try{V=b(!0,T)}finally{V?B():(C=!1,b=null)}}else C=!1}var B;if(typeof d=="function")B=function(){d(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ce=U.port2;U.port1.onmessage=F,B=function(){ce.postMessage(null)}}else B=function(){E(F,0)};function Q(T){b=T,C||(C=!0,B())}function K(T,V){P=E(function(){T(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,Q(x))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var z=p;p=V;try{return T()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,V){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=p;p=T;try{return V()}finally{p=z}},e.unstable_scheduleCallback=function(T,V,z){var re=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?re+z:re):z=re,T){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=z+ee,T={id:c++,callback:V,priorityLevel:T,startTime:z,expirationTime:ee,sortIndex:-1},z>re?(T.sortIndex=z,t(u,T),n(l)===null&&T===n(u)&&(w?(h(P),P=-1):w=!0,K(k,z-re))):(T.sortIndex=ee,t(l,T),S||y||(S=!0,Q(x))),T},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(T){var V=p;return function(){var z=p;p=V;try{return T.apply(this,arguments)}finally{p=z}}}})(sh);ih.exports=sh;var kg=ih.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=v,Ue=kg;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oh=new Set,ei={};function Mn(e,t){rr(e,t),rr(e+"Capture",t)}function rr(e,t){for(ei[e]=t,e=0;e<t.length;e++)oh.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,Eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mc={},gc={};function Cg(e){return va.call(gc,e)?!0:va.call(mc,e)?!1:Eg.test(e)?gc[e]=!0:(mc[e]=!0,!1)}function Pg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tg(e,t,n,r){if(t===null||typeof t>"u"||Pg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var _l=/[\-:]([a-z])/g;function Ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_l,Ol);Se[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_l,Ol);Se[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_l,Ol);Se[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vl(e,t,n,r){var i=Se.hasOwnProperty(t)?Se[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tg(t,n,i,r)&&(n=null),r||i===null?Cg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ni=Symbol.for("react.element"),An=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),Fl=Symbol.for("react.strict_mode"),xa=Symbol.for("react.profiler"),ah=Symbol.for("react.provider"),lh=Symbol.for("react.context"),zl=Symbol.for("react.forward_ref"),wa=Symbol.for("react.suspense"),ka=Symbol.for("react.suspense_list"),Bl=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),uh=Symbol.for("react.offscreen"),yc=Symbol.iterator;function Pr(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,Ro;function Ar(e){if(Ro===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ro=t&&t[1]||""}return`
`+Ro+e}var Io=!1;function Lo(e,t){if(!e||Io)return"";Io=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Io=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ar(e):""}function bg(e){switch(e.tag){case 5:return Ar(e.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 2:case 15:return e=Lo(e.type,!1),e;case 11:return e=Lo(e.type.render,!1),e;case 1:return e=Lo(e.type,!0),e;default:return""}}function Sa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nn:return"Fragment";case An:return"Portal";case xa:return"Profiler";case Fl:return"StrictMode";case wa:return"Suspense";case ka:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lh:return(e.displayName||"Context")+".Consumer";case ah:return(e._context.displayName||"Context")+".Provider";case zl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bl:return t=e.displayName||null,t!==null?t:Sa(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return Sa(e(t))}catch{}}return null}function Mg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sa(t);case 8:return t===Fl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ch(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jg(e){var t=ch(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _i(e){e._valueTracker||(e._valueTracker=jg(e))}function dh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ch(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ea(e,t){var n=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fh(e,t){t=t.checked,t!=null&&Vl(e,"checked",t,!1)}function Ca(e,t){fh(e,t);var n=Zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pa(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pa(e,t,n){(t!=="number"||ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nr=Array.isArray;function Zn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ta(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Nr(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function hh(e,t){var n=Zt(t.value),r=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ph(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ph(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oi,mh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oi=Oi||document.createElement("div"),Oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dg=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){Dg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function gh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function yh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Rg=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(e,t){if(t){if(Rg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Da=null;function $l(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,qn=null,Jn=null;function Sc(e){if(e=Mi(e)){if(typeof Ra!="function")throw Error(D(280));var t=e.stateNode;t&&(t=no(t),Ra(e.stateNode,e.type,t))}}function vh(e){qn?Jn?Jn.push(e):Jn=[e]:qn=e}function xh(){if(qn){var e=qn,t=Jn;if(Jn=qn=null,Sc(e),t)for(e=0;e<t.length;e++)Sc(t[e])}}function wh(e,t){return e(t)}function kh(){}var Ao=!1;function Sh(e,t,n){if(Ao)return e(t,n);Ao=!0;try{return wh(e,t,n)}finally{Ao=!1,(qn!==null||Jn!==null)&&(kh(),xh())}}function ni(e,t){var n=e.stateNode;if(n===null)return null;var r=no(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Ia=!1;if(Mt)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Ia=!1}function Ig(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var $r=!1,vs=null,xs=!1,La=null,Lg={onError:function(e){$r=!0,vs=e}};function Ag(e,t,n,r,i,s,o,a,l){$r=!1,vs=null,Ig.apply(Lg,arguments)}function Ng(e,t,n,r,i,s,o,a,l){if(Ag.apply(this,arguments),$r){if($r){var u=vs;$r=!1,vs=null}else throw Error(D(198));xs||(xs=!0,La=u)}}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ec(e){if(jn(e)!==e)throw Error(D(188))}function _g(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ec(i),e;if(s===r)return Ec(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Ch(e){return e=_g(e),e!==null?Ph(e):null}function Ph(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ph(e);if(t!==null)return t;e=e.sibling}return null}var Th=Ue.unstable_scheduleCallback,Cc=Ue.unstable_cancelCallback,Og=Ue.unstable_shouldYield,Vg=Ue.unstable_requestPaint,fe=Ue.unstable_now,Fg=Ue.unstable_getCurrentPriorityLevel,Ul=Ue.unstable_ImmediatePriority,bh=Ue.unstable_UserBlockingPriority,ws=Ue.unstable_NormalPriority,zg=Ue.unstable_LowPriority,Mh=Ue.unstable_IdlePriority,qs=null,gt=null;function Bg(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(qs,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Wg,$g=Math.log,Ug=Math.LN2;function Wg(e){return e>>>=0,e===0?32:31-($g(e)/Ug|0)|0}var Vi=64,Fi=4194304;function _r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ks(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_r(a):(s&=o,s!==0&&(r=_r(s)))}else o=n&~i,o!==0?r=_r(o):s!==0&&(r=_r(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),i=1<<n,r|=e[n],t&=~i;return r}function Hg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ct(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Hg(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Aa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jh(){var e=Vi;return Vi<<=1,!(Vi&4194240)&&(Vi=64),e}function No(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ti(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function Yg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ct(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Wl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Y=0;function Dh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rh,Hl,Ih,Lh,Ah,Na=!1,zi=[],Ut=null,Wt=null,Ht=null,ri=new Map,ii=new Map,Ft=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(t.pointerId)}}function br(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Mi(t),t!==null&&Hl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Xg(e,t,n,r,i){switch(t){case"focusin":return Ut=br(Ut,e,t,n,r,i),!0;case"dragenter":return Wt=br(Wt,e,t,n,r,i),!0;case"mouseover":return Ht=br(Ht,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ri.set(s,br(ri.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ii.set(s,br(ii.get(s)||null,e,t,n,r,i)),!0}return!1}function Nh(e){var t=pn(e.target);if(t!==null){var n=jn(t);if(n!==null){if(t=n.tag,t===13){if(t=Eh(n),t!==null){e.blockedOn=t,Ah(e.priority,function(){Ih(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Da=r,n.target.dispatchEvent(r),Da=null}else return t=Mi(n),t!==null&&Hl(t),e.blockedOn=n,!1;t.shift()}return!0}function Tc(e,t,n){is(e)&&n.delete(t)}function Qg(){Na=!1,Ut!==null&&is(Ut)&&(Ut=null),Wt!==null&&is(Wt)&&(Wt=null),Ht!==null&&is(Ht)&&(Ht=null),ri.forEach(Tc),ii.forEach(Tc)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,Na||(Na=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Qg)))}function si(e){function t(i){return Mr(i,e)}if(0<zi.length){Mr(zi[0],e);for(var n=1;n<zi.length;n++){var r=zi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ut!==null&&Mr(Ut,e),Wt!==null&&Mr(Wt,e),Ht!==null&&Mr(Ht,e),ri.forEach(t),ii.forEach(t),n=0;n<Ft.length;n++)r=Ft[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&(n=Ft[0],n.blockedOn===null);)Nh(n),n.blockedOn===null&&Ft.shift()}var er=Lt.ReactCurrentBatchConfig,Ss=!0;function Zg(e,t,n,r){var i=Y,s=er.transition;er.transition=null;try{Y=1,Kl(e,t,n,r)}finally{Y=i,er.transition=s}}function qg(e,t,n,r){var i=Y,s=er.transition;er.transition=null;try{Y=4,Kl(e,t,n,r)}finally{Y=i,er.transition=s}}function Kl(e,t,n,r){if(Ss){var i=_a(e,t,n,r);if(i===null)Ho(e,t,r,Es,n),Pc(e,r);else if(Xg(i,e,t,n,r))r.stopPropagation();else if(Pc(e,r),t&4&&-1<Gg.indexOf(e)){for(;i!==null;){var s=Mi(i);if(s!==null&&Rh(s),s=_a(e,t,n,r),s===null&&Ho(e,t,r,Es,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ho(e,t,r,null,n)}}var Es=null;function _a(e,t,n,r){if(Es=null,e=$l(r),e=pn(e),e!==null)if(t=jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Es=e,null}function _h(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fg()){case Ul:return 1;case bh:return 4;case ws:case zg:return 16;case Mh:return 536870912;default:return 16}default:return 16}}var Bt=null,Yl=null,ss=null;function Oh(){if(ss)return ss;var e,t=Yl,n=t.length,r,i="value"in Bt?Bt.value:Bt.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ss=i.slice(e,1<r?1-r:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function bc(){return!1}function Ge(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bi:bc,this.isPropagationStopped=bc,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),t}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Ge(gr),bi=ae({},gr,{view:0,detail:0}),Jg=Ge(bi),_o,Oo,jr,Js=ae({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jr&&(jr&&e.type==="mousemove"?(_o=e.screenX-jr.screenX,Oo=e.screenY-jr.screenY):Oo=_o=0,jr=e),_o)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),Mc=Ge(Js),ey=ae({},Js,{dataTransfer:0}),ty=Ge(ey),ny=ae({},bi,{relatedTarget:0}),Vo=Ge(ny),ry=ae({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),iy=Ge(ry),sy=ae({},gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oy=Ge(sy),ay=ae({},gr,{data:0}),jc=Ge(ay),ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cy[e])?!!t[e]:!1}function Xl(){return dy}var fy=ae({},bi,{key:function(e){if(e.key){var t=ly[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hy=Ge(fy),py=ae({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=Ge(py),my=ae({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),gy=Ge(my),yy=ae({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=Ge(yy),xy=ae({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wy=Ge(xy),ky=[9,13,27,32],Ql=Mt&&"CompositionEvent"in window,Ur=null;Mt&&"documentMode"in document&&(Ur=document.documentMode);var Sy=Mt&&"TextEvent"in window&&!Ur,Vh=Mt&&(!Ql||Ur&&8<Ur&&11>=Ur),Rc=" ",Ic=!1;function Fh(e,t){switch(e){case"keyup":return ky.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function Ey(e,t){switch(e){case"compositionend":return zh(t);case"keypress":return t.which!==32?null:(Ic=!0,Rc);case"textInput":return e=t.data,e===Rc&&Ic?null:e;default:return null}}function Cy(e,t){if(_n)return e==="compositionend"||!Ql&&Fh(e,t)?(e=Oh(),ss=Yl=Bt=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vh&&t.locale!=="ko"?null:t.data;default:return null}}var Py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Py[e.type]:t==="textarea"}function Bh(e,t,n,r){vh(r),t=Cs(t,"onChange"),0<t.length&&(n=new Gl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wr=null,oi=null;function Ty(e){qh(e,0)}function eo(e){var t=Fn(e);if(dh(t))return e}function by(e,t){if(e==="change")return t}var $h=!1;if(Mt){var Fo;if(Mt){var zo="oninput"in document;if(!zo){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),zo=typeof Ac.oninput=="function"}Fo=zo}else Fo=!1;$h=Fo&&(!document.documentMode||9<document.documentMode)}function Nc(){Wr&&(Wr.detachEvent("onpropertychange",Uh),oi=Wr=null)}function Uh(e){if(e.propertyName==="value"&&eo(oi)){var t=[];Bh(t,oi,e,$l(e)),Sh(Ty,t)}}function My(e,t,n){e==="focusin"?(Nc(),Wr=t,oi=n,Wr.attachEvent("onpropertychange",Uh)):e==="focusout"&&Nc()}function jy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eo(oi)}function Dy(e,t){if(e==="click")return eo(t)}function Ry(e,t){if(e==="input"||e==="change")return eo(t)}function Iy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:Iy;function ai(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!va.call(t,i)||!ft(e[i],t[i]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oc(e,t){var n=_c(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_c(n)}}function Wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hh(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ys(e.document)}return t}function Zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ly(e){var t=Hh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wh(n.ownerDocument.documentElement,n)){if(r!==null&&Zl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Oc(n,s);var o=Oc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ay=Mt&&"documentMode"in document&&11>=document.documentMode,On=null,Oa=null,Hr=null,Va=!1;function Vc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Va||On==null||On!==ys(r)||(r=On,"selectionStart"in r&&Zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hr&&ai(Hr,r)||(Hr=r,r=Cs(Oa,"onSelect"),0<r.length&&(t=new Gl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=On)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vn={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},Bo={},Kh={};Mt&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function to(e){if(Bo[e])return Bo[e];if(!Vn[e])return e;var t=Vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kh)return Bo[e]=t[n];return e}var Yh=to("animationend"),Gh=to("animationiteration"),Xh=to("animationstart"),Qh=to("transitionend"),Zh=new Map,Fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){Zh.set(e,t),Mn(t,[e])}for(var $o=0;$o<Fc.length;$o++){var Uo=Fc[$o],Ny=Uo.toLowerCase(),_y=Uo[0].toUpperCase()+Uo.slice(1);nn(Ny,"on"+_y)}nn(Yh,"onAnimationEnd");nn(Gh,"onAnimationIteration");nn(Xh,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Qh,"onTransitionEnd");rr("onMouseEnter",["mouseout","mouseover"]);rr("onMouseLeave",["mouseout","mouseover"]);rr("onPointerEnter",["pointerout","pointerover"]);rr("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function zc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ng(r,t,void 0,e),e.currentTarget=null}function qh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zc(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zc(i,a,u),s=l}}}if(xs)throw e=La,xs=!1,La=null,e}function Z(e,t){var n=t[Ua];n===void 0&&(n=t[Ua]=new Set);var r=e+"__bubble";n.has(r)||(Jh(t,e,2,!1),n.add(r))}function Wo(e,t,n){var r=0;t&&(r|=4),Jh(n,e,r,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[Ui]){e[Ui]=!0,oh.forEach(function(n){n!=="selectionchange"&&(Oy.has(n)||Wo(n,!1,e),Wo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ui]||(t[Ui]=!0,Wo("selectionchange",!1,t))}}function Jh(e,t,n,r){switch(_h(t)){case 1:var i=Zg;break;case 4:i=qg;break;default:i=Kl}n=i.bind(null,t,n,e),i=void 0,!Ia||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ho(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Sh(function(){var u=s,c=$l(n),f=[];e:{var p=Zh.get(e);if(p!==void 0){var y=Gl,S=e;switch(e){case"keypress":if(os(n)===0)break e;case"keydown":case"keyup":y=hy;break;case"focusin":S="focus",y=Vo;break;case"focusout":S="blur",y=Vo;break;case"beforeblur":case"afterblur":y=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gy;break;case Yh:case Gh:case Xh:y=iy;break;case Qh:y=vy;break;case"scroll":y=Jg;break;case"wheel":y=wy;break;case"copy":case"cut":case"paste":y=oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Dc}var w=(t&4)!==0,E=!w&&e==="scroll",h=w?p!==null?p+"Capture":null:p;w=[];for(var d=u,g;d!==null;){g=d;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,h!==null&&(k=ni(d,h),k!=null&&w.push(ui(d,k,g)))),E)break;d=d.return}0<w.length&&(p=new y(p,S,null,n,c),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Da&&(S=n.relatedTarget||n.fromElement)&&(pn(S)||S[jt]))break e;if((y||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=u,S=S?pn(S):null,S!==null&&(E=jn(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=u),y!==S)){if(w=Mc,k="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=Dc,k="onPointerLeave",h="onPointerEnter",d="pointer"),E=y==null?p:Fn(y),g=S==null?p:Fn(S),p=new w(k,d+"leave",y,n,c),p.target=E,p.relatedTarget=g,k=null,pn(c)===u&&(w=new w(h,d+"enter",S,n,c),w.target=g,w.relatedTarget=E,k=w),E=k,y&&S)t:{for(w=y,h=S,d=0,g=w;g;g=In(g))d++;for(g=0,k=h;k;k=In(k))g++;for(;0<d-g;)w=In(w),d--;for(;0<g-d;)h=In(h),g--;for(;d--;){if(w===h||h!==null&&w===h.alternate)break t;w=In(w),h=In(h)}w=null}else w=null;y!==null&&Bc(f,p,y,w,!1),S!==null&&E!==null&&Bc(f,E,S,w,!0)}}e:{if(p=u?Fn(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var x=by;else if(Lc(p))if($h)x=Ry;else{x=jy;var C=My}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=Dy);if(x&&(x=x(e,u))){Bh(f,x,n,c);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Pa(p,"number",p.value)}switch(C=u?Fn(u):window,e){case"focusin":(Lc(C)||C.contentEditable==="true")&&(On=C,Oa=u,Hr=null);break;case"focusout":Hr=Oa=On=null;break;case"mousedown":Va=!0;break;case"contextmenu":case"mouseup":case"dragend":Va=!1,Vc(f,n,c);break;case"selectionchange":if(Ay)break;case"keydown":case"keyup":Vc(f,n,c)}var b;if(Ql)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else _n?Fh(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Vh&&n.locale!=="ko"&&(_n||P!=="onCompositionStart"?P==="onCompositionEnd"&&_n&&(b=Oh()):(Bt=c,Yl="value"in Bt?Bt.value:Bt.textContent,_n=!0)),C=Cs(u,P),0<C.length&&(P=new jc(P,e,null,n,c),f.push({event:P,listeners:C}),b?P.data=b:(b=zh(n),b!==null&&(P.data=b)))),(b=Sy?Ey(e,n):Cy(e,n))&&(u=Cs(u,"onBeforeInput"),0<u.length&&(c=new jc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}qh(f,t)})}function ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ni(e,n),s!=null&&r.unshift(ui(e,s,i)),s=ni(e,t),s!=null&&r.push(ui(e,s,i))),e=e.return}return r}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bc(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ni(n,s),l!=null&&o.unshift(ui(n,l,a))):i||(l=ni(n,s),l!=null&&o.push(ui(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Vy=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function $c(e){return(typeof e=="string"?e:""+e).replace(Vy,`
`).replace(Fy,"")}function Wi(e,t,n){if(t=$c(t),$c(e)!==t&&n)throw Error(D(425))}function Ps(){}var Fa=null,za=null;function Ba(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $a=typeof setTimeout=="function"?setTimeout:void 0,zy=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,By=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(e){return Uc.resolve(null).then(e).catch($y)}:$a;function $y(e){setTimeout(function(){throw e})}function Ko(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),si(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);si(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),mt="__reactFiber$"+yr,ci="__reactProps$"+yr,jt="__reactContainer$"+yr,Ua="__reactEvents$"+yr,Uy="__reactListeners$"+yr,Wy="__reactHandles$"+yr;function pn(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wc(e);e!==null;){if(n=e[mt])return n;e=Wc(e)}return t}e=n,n=e.parentNode}return null}function Mi(e){return e=e[mt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function no(e){return e[ci]||null}var Wa=[],zn=-1;function rn(e){return{current:e}}function q(e){0>zn||(e.current=Wa[zn],Wa[zn]=null,zn--)}function X(e,t){zn++,Wa[zn]=e.current,e.current=t}var qt={},Me=rn(qt),Ne=rn(!1),kn=qt;function ir(e,t){var n=e.type.contextTypes;if(!n)return qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _e(e){return e=e.childContextTypes,e!=null}function Ts(){q(Ne),q(Me)}function Hc(e,t,n){if(Me.current!==qt)throw Error(D(168));X(Me,t),X(Ne,n)}function ep(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,Mg(e)||"Unknown",i));return ae({},n,r)}function bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,kn=Me.current,X(Me,e),X(Ne,Ne.current),!0}function Kc(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=ep(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,q(Ne),q(Me),X(Me,e)):q(Ne),X(Ne,n)}var St=null,ro=!1,Yo=!1;function tp(e){St===null?St=[e]:St.push(e)}function Hy(e){ro=!0,tp(e)}function sn(){if(!Yo&&St!==null){Yo=!0;var e=0,t=Y;try{var n=St;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}St=null,ro=!1}catch(i){throw St!==null&&(St=St.slice(e+1)),Th(Ul,sn),i}finally{Y=t,Yo=!1}}return null}var Bn=[],$n=0,Ms=null,js=0,Ze=[],qe=0,Sn=null,Et=1,Ct="";function un(e,t){Bn[$n++]=js,Bn[$n++]=Ms,Ms=e,js=t}function np(e,t,n){Ze[qe++]=Et,Ze[qe++]=Ct,Ze[qe++]=Sn,Sn=e;var r=Et;e=Ct;var i=32-ct(r)-1;r&=~(1<<i),n+=1;var s=32-ct(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Et=1<<32-ct(t)+i|n<<i|r,Ct=s+e}else Et=1<<s|n<<i|r,Ct=e}function ql(e){e.return!==null&&(un(e,1),np(e,1,0))}function Jl(e){for(;e===Ms;)Ms=Bn[--$n],Bn[$n]=null,js=Bn[--$n],Bn[$n]=null;for(;e===Sn;)Sn=Ze[--qe],Ze[qe]=null,Ct=Ze[--qe],Ze[qe]=null,Et=Ze[--qe],Ze[qe]=null}var Be=null,ze=null,ne=!1,lt=null;function rp(e,t){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,ze=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:Et,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,ze=null,!0):!1;default:return!1}}function Ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ka(e){if(ne){var t=ze;if(t){var n=t;if(!Yc(e,t)){if(Ha(e))throw Error(D(418));t=Kt(n.nextSibling);var r=Be;t&&Yc(e,t)?rp(r,n):(e.flags=e.flags&-4097|2,ne=!1,Be=e)}}else{if(Ha(e))throw Error(D(418));e.flags=e.flags&-4097|2,ne=!1,Be=e}}}function Gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Hi(e){if(e!==Be)return!1;if(!ne)return Gc(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ba(e.type,e.memoizedProps)),t&&(t=ze)){if(Ha(e))throw ip(),Error(D(418));for(;t;)rp(e,t),t=Kt(t.nextSibling)}if(Gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=Kt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Be?Kt(e.stateNode.nextSibling):null;return!0}function ip(){for(var e=ze;e;)e=Kt(e.nextSibling)}function sr(){ze=Be=null,ne=!1}function eu(e){lt===null?lt=[e]:lt.push(e)}var Ky=Lt.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xc(e){var t=e._init;return t(e._payload)}function sp(e){function t(h,d){if(e){var g=h.deletions;g===null?(h.deletions=[d],h.flags|=16):g.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function i(h,d){return h=Qt(h,d),h.index=0,h.sibling=null,h}function s(h,d,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<d?(h.flags|=2,d):g):(h.flags|=2,d)):(h.flags|=1048576,d)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,d,g,k){return d===null||d.tag!==6?(d=ea(g,h.mode,k),d.return=h,d):(d=i(d,g),d.return=h,d)}function l(h,d,g,k){var x=g.type;return x===Nn?c(h,d,g.props.children,k,g.key):d!==null&&(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ot&&Xc(x)===d.type)?(k=i(d,g.props),k.ref=Dr(h,d,g),k.return=h,k):(k=hs(g.type,g.key,g.props,null,h.mode,k),k.ref=Dr(h,d,g),k.return=h,k)}function u(h,d,g,k){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=ta(g,h.mode,k),d.return=h,d):(d=i(d,g.children||[]),d.return=h,d)}function c(h,d,g,k,x){return d===null||d.tag!==7?(d=xn(g,h.mode,k,x),d.return=h,d):(d=i(d,g),d.return=h,d)}function f(h,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ea(""+d,h.mode,g),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ni:return g=hs(d.type,d.key,d.props,null,h.mode,g),g.ref=Dr(h,null,d),g.return=h,g;case An:return d=ta(d,h.mode,g),d.return=h,d;case Ot:var k=d._init;return f(h,k(d._payload),g)}if(Nr(d)||Pr(d))return d=xn(d,h.mode,g,null),d.return=h,d;Ki(h,d)}return null}function p(h,d,g,k){var x=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(h,d,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ni:return g.key===x?l(h,d,g,k):null;case An:return g.key===x?u(h,d,g,k):null;case Ot:return x=g._init,p(h,d,x(g._payload),k)}if(Nr(g)||Pr(g))return x!==null?null:c(h,d,g,k,null);Ki(h,g)}return null}function y(h,d,g,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return h=h.get(g)||null,a(d,h,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ni:return h=h.get(k.key===null?g:k.key)||null,l(d,h,k,x);case An:return h=h.get(k.key===null?g:k.key)||null,u(d,h,k,x);case Ot:var C=k._init;return y(h,d,g,C(k._payload),x)}if(Nr(k)||Pr(k))return h=h.get(g)||null,c(d,h,k,x,null);Ki(d,k)}return null}function S(h,d,g,k){for(var x=null,C=null,b=d,P=d=0,R=null;b!==null&&P<g.length;P++){b.index>P?(R=b,b=null):R=b.sibling;var M=p(h,b,g[P],k);if(M===null){b===null&&(b=R);break}e&&b&&M.alternate===null&&t(h,b),d=s(M,d,P),C===null?x=M:C.sibling=M,C=M,b=R}if(P===g.length)return n(h,b),ne&&un(h,P),x;if(b===null){for(;P<g.length;P++)b=f(h,g[P],k),b!==null&&(d=s(b,d,P),C===null?x=b:C.sibling=b,C=b);return ne&&un(h,P),x}for(b=r(h,b);P<g.length;P++)R=y(b,h,P,g[P],k),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?P:R.key),d=s(R,d,P),C===null?x=R:C.sibling=R,C=R);return e&&b.forEach(function(I){return t(h,I)}),ne&&un(h,P),x}function w(h,d,g,k){var x=Pr(g);if(typeof x!="function")throw Error(D(150));if(g=x.call(g),g==null)throw Error(D(151));for(var C=x=null,b=d,P=d=0,R=null,M=g.next();b!==null&&!M.done;P++,M=g.next()){b.index>P?(R=b,b=null):R=b.sibling;var I=p(h,b,M.value,k);if(I===null){b===null&&(b=R);break}e&&b&&I.alternate===null&&t(h,b),d=s(I,d,P),C===null?x=I:C.sibling=I,C=I,b=R}if(M.done)return n(h,b),ne&&un(h,P),x;if(b===null){for(;!M.done;P++,M=g.next())M=f(h,M.value,k),M!==null&&(d=s(M,d,P),C===null?x=M:C.sibling=M,C=M);return ne&&un(h,P),x}for(b=r(h,b);!M.done;P++,M=g.next())M=y(b,h,P,M.value,k),M!==null&&(e&&M.alternate!==null&&b.delete(M.key===null?P:M.key),d=s(M,d,P),C===null?x=M:C.sibling=M,C=M);return e&&b.forEach(function(F){return t(h,F)}),ne&&un(h,P),x}function E(h,d,g,k){if(typeof g=="object"&&g!==null&&g.type===Nn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ni:e:{for(var x=g.key,C=d;C!==null;){if(C.key===x){if(x=g.type,x===Nn){if(C.tag===7){n(h,C.sibling),d=i(C,g.props.children),d.return=h,h=d;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ot&&Xc(x)===C.type){n(h,C.sibling),d=i(C,g.props),d.ref=Dr(h,C,g),d.return=h,h=d;break e}n(h,C);break}else t(h,C);C=C.sibling}g.type===Nn?(d=xn(g.props.children,h.mode,k,g.key),d.return=h,h=d):(k=hs(g.type,g.key,g.props,null,h.mode,k),k.ref=Dr(h,d,g),k.return=h,h=k)}return o(h);case An:e:{for(C=g.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(h,d.sibling),d=i(d,g.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=ta(g,h.mode,k),d.return=h,h=d}return o(h);case Ot:return C=g._init,E(h,d,C(g._payload),k)}if(Nr(g))return S(h,d,g,k);if(Pr(g))return w(h,d,g,k);Ki(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(h,d.sibling),d=i(d,g),d.return=h,h=d):(n(h,d),d=ea(g,h.mode,k),d.return=h,h=d),o(h)):n(h,d)}return E}var or=sp(!0),op=sp(!1),Ds=rn(null),Rs=null,Un=null,tu=null;function nu(){tu=Un=Rs=null}function ru(e){var t=Ds.current;q(Ds),e._currentValue=t}function Ya(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tr(e,t){Rs=e,tu=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ae=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(tu!==e)if(e={context:e,memoizedValue:t,next:null},Un===null){if(Rs===null)throw Error(D(308));Un=e,Rs.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var mn=null;function iu(e){mn===null?mn=[e]:mn.push(e)}function ap(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,iu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Dt(e,r)}function Dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Dt(e,n)}return i=r.interleaved,i===null?(t.next=t,iu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Dt(e,n)}function as(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wl(e,n)}}function Qc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Is(e,t,n,r){var i=e.updateQueue;Vt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,w=a;switch(p=t,y=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){f=S.call(y,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,p=typeof S=="function"?S.call(y,f,p):S,p==null)break e;f=ae({},f,p);break e;case 2:Vt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Cn|=o,e.lanes=o,e.memoizedState=f}}function Zc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var ji={},yt=rn(ji),di=rn(ji),fi=rn(ji);function gn(e){if(e===ji)throw Error(D(174));return e}function ou(e,t){switch(X(fi,t),X(di,e),X(yt,ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ba(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ba(t,e)}q(yt),X(yt,t)}function ar(){q(yt),q(di),q(fi)}function up(e){gn(fi.current);var t=gn(yt.current),n=ba(t,e.type);t!==n&&(X(di,e),X(yt,n))}function au(e){di.current===e&&(q(yt),q(di))}var ie=rn(0);function Ls(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Go=[];function lu(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var ls=Lt.ReactCurrentDispatcher,Xo=Lt.ReactCurrentBatchConfig,En=0,oe=null,me=null,ye=null,As=!1,Kr=!1,hi=0,Yy=0;function Ee(){throw Error(D(321))}function uu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function cu(e,t,n,r,i,s){if(En=s,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ls.current=e===null||e.memoizedState===null?Zy:qy,e=n(r,i),Kr){s=0;do{if(Kr=!1,hi=0,25<=s)throw Error(D(301));s+=1,ye=me=null,t.updateQueue=null,ls.current=Jy,e=n(r,i)}while(Kr)}if(ls.current=Ns,t=me!==null&&me.next!==null,En=0,ye=me=oe=null,As=!1,t)throw Error(D(300));return e}function du(){var e=hi!==0;return hi=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function nt(){if(me===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,me=e;else{if(e===null)throw Error(D(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function pi(e,t){return typeof t=="function"?t(e):t}function Qo(e){var t=nt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((En&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,oe.lanes|=c,Cn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ft(r,t.memoizedState)||(Ae=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,oe.lanes|=s,Cn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zo(e){var t=nt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ft(s,t.memoizedState)||(Ae=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function cp(){}function dp(e,t){var n=oe,r=nt(),i=t(),s=!ft(r.memoizedState,i);if(s&&(r.memoizedState=i,Ae=!0),r=r.queue,fu(pp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,mi(9,hp.bind(null,n,r,i,t),void 0,null),ve===null)throw Error(D(349));En&30||fp(n,t,i)}return i}function fp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hp(e,t,n,r){t.value=n,t.getSnapshot=r,mp(t)&&gp(e)}function pp(e,t,n){return n(function(){mp(t)&&gp(e)})}function mp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function gp(e){var t=Dt(e,1);t!==null&&dt(t,e,1,-1)}function qc(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t.queue=e,e=e.dispatch=Qy.bind(null,oe,e),[t.memoizedState,e]}function mi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yp(){return nt().memoizedState}function us(e,t,n,r){var i=pt();oe.flags|=e,i.memoizedState=mi(1|t,n,void 0,r===void 0?null:r)}function io(e,t,n,r){var i=nt();r=r===void 0?null:r;var s=void 0;if(me!==null){var o=me.memoizedState;if(s=o.destroy,r!==null&&uu(r,o.deps)){i.memoizedState=mi(t,n,s,r);return}}oe.flags|=e,i.memoizedState=mi(1|t,n,s,r)}function Jc(e,t){return us(8390656,8,e,t)}function fu(e,t){return io(2048,8,e,t)}function vp(e,t){return io(4,2,e,t)}function xp(e,t){return io(4,4,e,t)}function wp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kp(e,t,n){return n=n!=null?n.concat([e]):null,io(4,4,wp.bind(null,t,e),n)}function hu(){}function Sp(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&uu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ep(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&uu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cp(e,t,n){return En&21?(ft(n,t)||(n=jh(),oe.lanes|=n,Cn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=n)}function Gy(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Xo.transition;Xo.transition={};try{e(!1),t()}finally{Y=n,Xo.transition=r}}function Pp(){return nt().memoizedState}function Xy(e,t,n){var r=Xt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tp(e))bp(t,n);else if(n=ap(e,t,n,r),n!==null){var i=De();dt(n,e,r,i),Mp(n,t,r)}}function Qy(e,t,n){var r=Xt(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tp(e))bp(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ft(a,o)){var l=t.interleaved;l===null?(i.next=i,iu(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=ap(e,t,i,r),n!==null&&(i=De(),dt(n,e,r,i),Mp(n,t,r))}}function Tp(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function bp(e,t){Kr=As=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wl(e,n)}}var Ns={readContext:tt,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Zy={readContext:tt,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Jc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,us(4194308,4,wp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return us(4194308,4,e,t)},useInsertionEffect:function(e,t){return us(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xy.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:qc,useDebugValue:hu,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=qc(!1),t=e[0];return e=Gy.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,i=pt();if(ne){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),ve===null)throw Error(D(349));En&30||fp(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Jc(pp.bind(null,r,s,e),[e]),r.flags|=2048,mi(9,hp.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=pt(),t=ve.identifierPrefix;if(ne){var n=Ct,r=Et;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qy={readContext:tt,useCallback:Sp,useContext:tt,useEffect:fu,useImperativeHandle:kp,useInsertionEffect:vp,useLayoutEffect:xp,useMemo:Ep,useReducer:Qo,useRef:yp,useState:function(){return Qo(pi)},useDebugValue:hu,useDeferredValue:function(e){var t=nt();return Cp(t,me.memoizedState,e)},useTransition:function(){var e=Qo(pi)[0],t=nt().memoizedState;return[e,t]},useMutableSource:cp,useSyncExternalStore:dp,useId:Pp,unstable_isNewReconciler:!1},Jy={readContext:tt,useCallback:Sp,useContext:tt,useEffect:fu,useImperativeHandle:kp,useInsertionEffect:vp,useLayoutEffect:xp,useMemo:Ep,useReducer:Zo,useRef:yp,useState:function(){return Zo(pi)},useDebugValue:hu,useDeferredValue:function(e){var t=nt();return me===null?t.memoizedState=e:Cp(t,me.memoizedState,e)},useTransition:function(){var e=Zo(pi)[0],t=nt().memoizedState;return[e,t]},useMutableSource:cp,useSyncExternalStore:dp,useId:Pp,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ga(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),i=Xt(e),s=Pt(r,i);s.payload=t,n!=null&&(s.callback=n),t=Yt(e,s,i),t!==null&&(dt(t,e,i,r),as(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),i=Xt(e),s=Pt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Yt(e,s,i),t!==null&&(dt(t,e,i,r),as(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=Xt(e),i=Pt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Yt(e,i,r),t!==null&&(dt(t,e,r,n),as(t,e,r))}};function ed(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ai(n,r)||!ai(i,s):!0}function jp(e,t,n){var r=!1,i=qt,s=t.contextType;return typeof s=="object"&&s!==null?s=tt(s):(i=_e(t)?kn:Me.current,r=t.contextTypes,s=(r=r!=null)?ir(e,i):qt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function td(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function Xa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},su(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=tt(s):(s=_e(t)?kn:Me.current,i.context=ir(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ga(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&so.enqueueReplaceState(i,i.state,null),Is(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function lr(e,t){try{var n="",r=t;do n+=bg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function qo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ev=typeof WeakMap=="function"?WeakMap:Map;function Dp(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Os||(Os=!0,ol=r),Qa(e,t)},n}function Rp(e,t,n){n=Pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Qa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qa(e,t),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function nd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ev;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pv.bind(null,e,t,n),t.then(e,e))}function rd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function id(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Yt(n,t,1))),n.lanes|=1),e)}var tv=Lt.ReactCurrentOwner,Ae=!1;function je(e,t,n,r){t.child=e===null?op(t,null,n,r):or(t,e.child,n,r)}function sd(e,t,n,r,i){n=n.render;var s=t.ref;return tr(t,i),r=cu(e,t,n,r,s,i),n=du(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rt(e,t,i)):(ne&&n&&ql(t),t.flags|=1,je(e,t,r,i),t.child)}function od(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ku(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ip(e,t,s,r,i)):(e=hs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ai,n(o,r)&&e.ref===t.ref)return Rt(e,t,i)}return t.flags|=1,e=Qt(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ip(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ai(s,r)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ae=!0);else return t.lanes=e.lanes,Rt(e,t,i)}return Za(e,t,n,r,i)}function Lp(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Hn,Fe),Fe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Hn,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,X(Hn,Fe),Fe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,X(Hn,Fe),Fe|=r;return je(e,t,i,n),t.child}function Ap(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Za(e,t,n,r,i){var s=_e(n)?kn:Me.current;return s=ir(t,s),tr(t,i),n=cu(e,t,n,r,s,i),r=du(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rt(e,t,i)):(ne&&r&&ql(t),t.flags|=1,je(e,t,n,i),t.child)}function ad(e,t,n,r,i){if(_e(n)){var s=!0;bs(t)}else s=!1;if(tr(t,i),t.stateNode===null)cs(e,t),jp(t,n,r),Xa(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=_e(n)?kn:Me.current,u=ir(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&td(t,o,r,u),Vt=!1;var p=t.memoizedState;o.state=p,Is(t,r,o,i),l=t.memoizedState,a!==r||p!==l||Ne.current||Vt?(typeof c=="function"&&(Ga(t,n,c,r),l=t.memoizedState),(a=Vt||ed(t,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,lp(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ot(t.type,a),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tt(l):(l=_e(n)?kn:Me.current,l=ir(t,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&td(t,o,r,l),Vt=!1,p=t.memoizedState,o.state=p,Is(t,r,o,i);var S=t.memoizedState;a!==f||p!==S||Ne.current||Vt?(typeof y=="function"&&(Ga(t,n,y,r),S=t.memoizedState),(u=Vt||ed(t,n,u,r,p,S,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return qa(e,t,n,r,s,i)}function qa(e,t,n,r,i,s){Ap(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Kc(t,n,!1),Rt(e,t,s);r=t.stateNode,tv.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=or(t,e.child,null,s),t.child=or(t,null,a,s)):je(e,t,a,s),t.memoizedState=r.state,i&&Kc(t,n,!0),t.child}function Np(e){var t=e.stateNode;t.pendingContext?Hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hc(e,t.context,!1),ou(e,t.containerInfo)}function ld(e,t,n,r,i){return sr(),eu(i),t.flags|=256,je(e,t,n,r),t.child}var Ja={dehydrated:null,treeContext:null,retryLane:0};function el(e){return{baseLanes:e,cachePool:null,transitions:null}}function _p(e,t,n){var r=t.pendingProps,i=ie.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),X(ie,i&1),e===null)return Ka(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lo(o,r,0,null),e=xn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=el(n),t.memoizedState=Ja,e):pu(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nv(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qt(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qt(a,s):(s=xn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?el(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ja,r}return s=e.child,e=s.sibling,r=Qt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pu(e,t){return t=lo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yi(e,t,n,r){return r!==null&&eu(r),or(t,e.child,null,n),e=pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nv(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=qo(Error(D(422))),Yi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=lo({mode:"visible",children:r.children},i,0,null),s=xn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&or(t,e.child,null,o),t.child.memoizedState=el(o),t.memoizedState=Ja,s);if(!(t.mode&1))return Yi(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=qo(s,r,void 0),Yi(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ae||a){if(r=ve,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dt(e,i),dt(r,e,i,-1))}return wu(),r=qo(Error(D(421))),Yi(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mv.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ze=Kt(i.nextSibling),Be=t,ne=!0,lt=null,e!==null&&(Ze[qe++]=Et,Ze[qe++]=Ct,Ze[qe++]=Sn,Et=e.id,Ct=e.overflow,Sn=t),t=pu(t,r.children),t.flags|=4096,t)}function ud(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ya(e.return,t,n)}function Jo(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Op(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(je(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,n,t);else if(e.tag===19)ud(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ls(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Jo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ls(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Jo(t,!0,n,null,s);break;case"together":Jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rv(e,t,n){switch(t.tag){case 3:Np(t),sr();break;case 5:up(t);break;case 1:_e(t.type)&&bs(t);break;case 4:ou(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;X(Ds,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?_p(e,t,n):(X(ie,ie.current&1),e=Rt(e,t,n),e!==null?e.sibling:null);X(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Op(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Lp(e,t,n)}return Rt(e,t,n)}var Vp,tl,Fp,zp;Vp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tl=function(){};Fp=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gn(yt.current);var s=null;switch(n){case"input":i=Ea(e,i),r=Ea(e,r),s=[];break;case"select":i=ae({},i,{value:void 0}),r=ae({},r,{value:void 0}),s=[];break;case"textarea":i=Ta(e,i),r=Ta(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ps)}Ma(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ei.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ei.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};zp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rr(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function iv(e,t,n){var r=t.pendingProps;switch(Jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return _e(t.type)&&Ts(),Ce(t),null;case 3:return r=t.stateNode,ar(),q(Ne),q(Me),lu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lt!==null&&(ul(lt),lt=null))),tl(e,t),Ce(t),null;case 5:au(t);var i=gn(fi.current);if(n=t.type,e!==null&&t.stateNode!=null)Fp(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Ce(t),null}if(e=gn(yt.current),Hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[mt]=t,r[ci]=s,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Z(Or[i],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":vc(r,s),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Z("invalid",r);break;case"textarea":wc(r,s),Z("invalid",r)}Ma(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wi(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wi(r.textContent,a,e),i=["children",""+a]):ei.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":_i(r),xc(r,s,!0);break;case"textarea":_i(r),kc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ps)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ph(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[mt]=t,e[ci]=r,Vp(e,t,!1,!1),t.stateNode=e;e:{switch(o=ja(n,r),n){case"dialog":Z("cancel",e),Z("close",e),i=r;break;case"iframe":case"object":case"embed":Z("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Z(Or[i],e);i=r;break;case"source":Z("error",e),i=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),i=r;break;case"details":Z("toggle",e),i=r;break;case"input":vc(e,r),i=Ea(e,r),Z("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ae({},r,{value:void 0}),Z("invalid",e);break;case"textarea":wc(e,r),i=Ta(e,r),Z("invalid",e);break;default:i=r}Ma(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yh(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mh(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ti(e,l):typeof l=="number"&&ti(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ei.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Z("scroll",e):l!=null&&Vl(e,s,l,o))}switch(n){case"input":_i(e),xc(e,r,!1);break;case"textarea":_i(e),kc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Zn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ps)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)zp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=gn(fi.current),gn(yt.current),Hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[mt]=t,(s=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:Wi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=t,t.stateNode=r}return Ce(t),null;case 13:if(q(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&ze!==null&&t.mode&1&&!(t.flags&128))ip(),sr(),t.flags|=98560,s=!1;else if(s=Hi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[mt]=t}else sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),s=!1}else lt!==null&&(ul(lt),lt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ge===0&&(ge=3):wu())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return ar(),tl(e,t),e===null&&li(t.stateNode.containerInfo),Ce(t),null;case 10:return ru(t.type._context),Ce(t),null;case 17:return _e(t.type)&&Ts(),Ce(t),null;case 19:if(q(ie),s=t.memoizedState,s===null)return Ce(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Rr(s,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ls(e),o!==null){for(t.flags|=128,Rr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(ie,ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&fe()>ur&&(t.flags|=128,r=!0,Rr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ls(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ne)return Ce(t),null}else 2*fe()-s.renderingStartTime>ur&&n!==1073741824&&(t.flags|=128,r=!0,Rr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=fe(),t.sibling=null,n=ie.current,X(ie,r?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return xu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fe&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function sv(e,t){switch(Jl(t),t.tag){case 1:return _e(t.type)&&Ts(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),q(Ne),q(Me),lu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return au(t),null;case 13:if(q(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(ie),null;case 4:return ar(),null;case 10:return ru(t.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Gi=!1,Te=!1,ov=typeof WeakSet=="function"?WeakSet:Set,L=null;function Wn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){ue(e,t,r)}}var cd=!1;function av(e,t){if(Fa=Ss,e=Hh(),Zl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===e)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(za={focusedElem:e,selectionRange:n},Ss=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,E=S.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:ot(t.type,w),E);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(k){ue(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return S=cd,cd=!1,S}function Yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&nl(t,n,s)}i=i.next}while(i!==r)}}function oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bp(e){var t=e.alternate;t!==null&&(e.alternate=null,Bp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[ci],delete t[Ua],delete t[Uy],delete t[Wy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $p(e){return e.tag===5||e.tag===3||e.tag===4}function dd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$p(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ps));else if(r!==4&&(e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}function sl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sl(e,t,n),e=e.sibling;e!==null;)sl(e,t,n),e=e.sibling}var xe=null,at=!1;function Nt(e,t,n){for(n=n.child;n!==null;)Up(e,t,n),n=n.sibling}function Up(e,t,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(qs,n)}catch{}switch(n.tag){case 5:Te||Wn(n,t);case 6:var r=xe,i=at;xe=null,Nt(e,t,n),xe=r,at=i,xe!==null&&(at?(e=xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(at?(e=xe,n=n.stateNode,e.nodeType===8?Ko(e.parentNode,n):e.nodeType===1&&Ko(e,n),si(e)):Ko(xe,n.stateNode));break;case 4:r=xe,i=at,xe=n.stateNode.containerInfo,at=!0,Nt(e,t,n),xe=r,at=i;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nl(n,t,o),i=i.next}while(i!==r)}Nt(e,t,n);break;case 1:if(!Te&&(Wn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}Nt(e,t,n);break;case 21:Nt(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Nt(e,t,n),Te=r):Nt(e,t,n);break;default:Nt(e,t,n)}}function fd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ov),t.forEach(function(r){var i=gv.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,at=!1;break e;case 3:xe=a.stateNode.containerInfo,at=!0;break e;case 4:xe=a.stateNode.containerInfo,at=!0;break e}a=a.return}if(xe===null)throw Error(D(160));Up(s,o,i),xe=null,at=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ue(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wp(t,e),t=t.sibling}function Wp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),ht(e),r&4){try{Yr(3,e,e.return),oo(3,e)}catch(w){ue(e,e.return,w)}try{Yr(5,e,e.return)}catch(w){ue(e,e.return,w)}}break;case 1:it(t,e),ht(e),r&512&&n!==null&&Wn(n,n.return);break;case 5:if(it(t,e),ht(e),r&512&&n!==null&&Wn(n,n.return),e.flags&32){var i=e.stateNode;try{ti(i,"")}catch(w){ue(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fh(i,s),ja(a,o);var u=ja(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?yh(i,f):c==="dangerouslySetInnerHTML"?mh(i,f):c==="children"?ti(i,f):Vl(i,c,f,u)}switch(a){case"input":Ca(i,s);break;case"textarea":hh(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Zn(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?Zn(i,!!s.multiple,s.defaultValue,!0):Zn(i,!!s.multiple,s.multiple?[]:"",!1))}i[ci]=s}catch(w){ue(e,e.return,w)}}break;case 6:if(it(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){ue(e,e.return,w)}}break;case 3:if(it(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{si(t.containerInfo)}catch(w){ue(e,e.return,w)}break;case 4:it(t,e),ht(e);break;case 13:it(t,e),ht(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yu=fe())),r&4&&fd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(u=Te)||c,it(t,e),Te=u):it(t,e),ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(f=L=c;L!==null;){switch(p=L,y=p.child,p.tag){case 0:case 11:case 14:case 15:Yr(4,p,p.return);break;case 1:Wn(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(w){ue(r,n,w)}}break;case 5:Wn(p,p.return);break;case 22:if(p.memoizedState!==null){pd(f);continue}}y!==null?(y.return=p,L=y):pd(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gh("display",o))}catch(w){ue(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ue(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:it(t,e),ht(e),r&4&&fd(e);break;case 21:break;default:it(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($p(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ti(i,""),r.flags&=-33);var s=dd(e);sl(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dd(e);il(e,a,o);break;default:throw Error(D(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lv(e,t,n){L=e,Hp(e)}function Hp(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gi;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Te;a=Gi;var u=Te;if(Gi=o,(Te=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?md(i):l!==null?(l.return=o,L=l):md(i);for(;s!==null;)L=s,Hp(s),s=s.sibling;L=i,Gi=a,Te=u}hd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):hd(e)}}function hd(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||oo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Zc(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&si(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Te||t.flags&512&&rl(t)}catch(p){ue(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function pd(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function md(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oo(4,t)}catch(l){ue(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ue(t,i,l)}}var s=t.return;try{rl(t)}catch(l){ue(t,s,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){ue(t,o,l)}}}catch(l){ue(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var uv=Math.ceil,_s=Lt.ReactCurrentDispatcher,mu=Lt.ReactCurrentOwner,et=Lt.ReactCurrentBatchConfig,W=0,ve=null,pe=null,ke=0,Fe=0,Hn=rn(0),ge=0,gi=null,Cn=0,ao=0,gu=0,Gr=null,Le=null,yu=0,ur=1/0,kt=null,Os=!1,ol=null,Gt=null,Xi=!1,$t=null,Vs=0,Xr=0,al=null,ds=-1,fs=0;function De(){return W&6?fe():ds!==-1?ds:ds=fe()}function Xt(e){return e.mode&1?W&2&&ke!==0?ke&-ke:Ky.transition!==null?(fs===0&&(fs=jh()),fs):(e=Y,e!==0||(e=window.event,e=e===void 0?16:_h(e.type)),e):1}function dt(e,t,n,r){if(50<Xr)throw Xr=0,al=null,Error(D(185));Ti(e,n,r),(!(W&2)||e!==ve)&&(e===ve&&(!(W&2)&&(ao|=n),ge===4&&zt(e,ke)),Oe(e,r),n===1&&W===0&&!(t.mode&1)&&(ur=fe()+500,ro&&sn()))}function Oe(e,t){var n=e.callbackNode;Kg(e,t);var r=ks(e,e===ve?ke:0);if(r===0)n!==null&&Cc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cc(n),t===1)e.tag===0?Hy(gd.bind(null,e)):tp(gd.bind(null,e)),By(function(){!(W&6)&&sn()}),n=null;else{switch(Dh(r)){case 1:n=Ul;break;case 4:n=bh;break;case 16:n=ws;break;case 536870912:n=Mh;break;default:n=ws}n=Jp(n,Kp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kp(e,t){if(ds=-1,fs=0,W&6)throw Error(D(327));var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var r=ks(e,e===ve?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fs(e,r);else{t=r;var i=W;W|=2;var s=Gp();(ve!==e||ke!==t)&&(kt=null,ur=fe()+500,vn(e,t));do try{fv();break}catch(a){Yp(e,a)}while(!0);nu(),_s.current=s,W=i,pe!==null?t=0:(ve=null,ke=0,t=ge)}if(t!==0){if(t===2&&(i=Aa(e),i!==0&&(r=i,t=ll(e,i))),t===1)throw n=gi,vn(e,0),zt(e,r),Oe(e,fe()),n;if(t===6)zt(e,r);else{if(i=e.current.alternate,!(r&30)&&!cv(i)&&(t=Fs(e,r),t===2&&(s=Aa(e),s!==0&&(r=s,t=ll(e,s))),t===1))throw n=gi,vn(e,0),zt(e,r),Oe(e,fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:cn(e,Le,kt);break;case 3:if(zt(e,r),(r&130023424)===r&&(t=yu+500-fe(),10<t)){if(ks(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$a(cn.bind(null,e,Le,kt),t);break}cn(e,Le,kt);break;case 4:if(zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ct(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uv(r/1960))-r,10<r){e.timeoutHandle=$a(cn.bind(null,e,Le,kt),r);break}cn(e,Le,kt);break;case 5:cn(e,Le,kt);break;default:throw Error(D(329))}}}return Oe(e,fe()),e.callbackNode===n?Kp.bind(null,e):null}function ll(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(vn(e,t).flags|=256),e=Fs(e,t),e!==2&&(t=Le,Le=n,t!==null&&ul(t)),e}function ul(e){Le===null?Le=e:Le.push.apply(Le,e)}function cv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ft(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~gu,t&=~ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function gd(e){if(W&6)throw Error(D(327));nr();var t=ks(e,0);if(!(t&1))return Oe(e,fe()),null;var n=Fs(e,t);if(e.tag!==0&&n===2){var r=Aa(e);r!==0&&(t=r,n=ll(e,r))}if(n===1)throw n=gi,vn(e,0),zt(e,t),Oe(e,fe()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Le,kt),Oe(e,fe()),null}function vu(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(ur=fe()+500,ro&&sn())}}function Pn(e){$t!==null&&$t.tag===0&&!(W&6)&&nr();var t=W;W|=1;var n=et.transition,r=Y;try{if(et.transition=null,Y=1,e)return e()}finally{Y=r,et.transition=n,W=t,!(W&6)&&sn()}}function xu(){Fe=Hn.current,q(Hn)}function vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zy(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(Jl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ts();break;case 3:ar(),q(Ne),q(Me),lu();break;case 5:au(r);break;case 4:ar();break;case 13:q(ie);break;case 19:q(ie);break;case 10:ru(r.type._context);break;case 22:case 23:xu()}n=n.return}if(ve=e,pe=e=Qt(e.current,null),ke=Fe=t,ge=0,gi=null,gu=ao=Cn=0,Le=Gr=null,mn!==null){for(t=0;t<mn.length;t++)if(n=mn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mn=null}return e}function Yp(e,t){do{var n=pe;try{if(nu(),ls.current=Ns,As){for(var r=oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}As=!1}if(En=0,ye=me=oe=null,Kr=!1,hi=0,mu.current=null,n===null||n.return===null){ge=1,gi=t,pe=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=rd(o);if(y!==null){y.flags&=-257,id(y,o,a,s,t),y.mode&1&&nd(s,u,t),t=y,l=u;var S=t.updateQueue;if(S===null){var w=new Set;w.add(l),t.updateQueue=w}else S.add(l);break e}else{if(!(t&1)){nd(s,u,t),wu();break e}l=Error(D(426))}}else if(ne&&a.mode&1){var E=rd(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),id(E,o,a,s,t),eu(lr(l,a));break e}}s=l=lr(l,a),ge!==4&&(ge=2),Gr===null?Gr=[s]:Gr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=Dp(s,l,t);Qc(s,h);break e;case 1:a=l;var d=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gt===null||!Gt.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=Rp(s,a,t);Qc(s,k);break e}}s=s.return}while(s!==null)}Qp(n)}catch(x){t=x,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function Gp(){var e=_s.current;return _s.current=Ns,e===null?Ns:e}function wu(){(ge===0||ge===3||ge===2)&&(ge=4),ve===null||!(Cn&268435455)&&!(ao&268435455)||zt(ve,ke)}function Fs(e,t){var n=W;W|=2;var r=Gp();(ve!==e||ke!==t)&&(kt=null,vn(e,t));do try{dv();break}catch(i){Yp(e,i)}while(!0);if(nu(),W=n,_s.current=r,pe!==null)throw Error(D(261));return ve=null,ke=0,ge}function dv(){for(;pe!==null;)Xp(pe)}function fv(){for(;pe!==null&&!Og();)Xp(pe)}function Xp(e){var t=qp(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?Qp(e):pe=t,mu.current=null}function Qp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sv(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,pe=null;return}}else if(n=iv(n,t,Fe),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ge===0&&(ge=5)}function cn(e,t,n){var r=Y,i=et.transition;try{et.transition=null,Y=1,hv(e,t,n,r)}finally{et.transition=i,Y=r}return null}function hv(e,t,n,r){do nr();while($t!==null);if(W&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Yg(e,s),e===ve&&(pe=ve=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xi||(Xi=!0,Jp(ws,function(){return nr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=et.transition,et.transition=null;var o=Y;Y=1;var a=W;W|=4,mu.current=null,av(e,n),Wp(n,e),Ly(za),Ss=!!Fa,za=Fa=null,e.current=n,lv(n),Vg(),W=a,Y=o,et.transition=s}else e.current=n;if(Xi&&(Xi=!1,$t=e,Vs=i),s=e.pendingLanes,s===0&&(Gt=null),Bg(n.stateNode),Oe(e,fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Os)throw Os=!1,e=ol,ol=null,e;return Vs&1&&e.tag!==0&&nr(),s=e.pendingLanes,s&1?e===al?Xr++:(Xr=0,al=e):Xr=0,sn(),null}function nr(){if($t!==null){var e=Dh(Vs),t=et.transition,n=Y;try{if(et.transition=null,Y=16>e?16:e,$t===null)var r=!1;else{if(e=$t,$t=null,Vs=0,W&6)throw Error(D(331));var i=W;for(W|=4,L=e.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:Yr(8,c,s)}var f=c.child;if(f!==null)f.return=c,L=f;else for(;L!==null;){c=L;var p=c.sibling,y=c.return;if(Bp(c),c===u){L=null;break}if(p!==null){p.return=y,L=p;break}L=y}}}var S=s.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,L=h;break e}L=s.return}}var d=e.current;for(L=d;L!==null;){o=L;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,L=g;else e:for(o=d;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oo(9,a)}}catch(x){ue(a,a.return,x)}if(a===o){L=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,L=k;break e}L=a.return}}if(W=i,sn(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(qs,e)}catch{}r=!0}return r}finally{Y=n,et.transition=t}}return!1}function yd(e,t,n){t=lr(n,t),t=Dp(e,t,1),e=Yt(e,t,1),t=De(),e!==null&&(Ti(e,1,t),Oe(e,t))}function ue(e,t,n){if(e.tag===3)yd(e,e,n);else for(;t!==null;){if(t.tag===3){yd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){e=lr(n,e),e=Rp(t,e,1),t=Yt(t,e,1),e=De(),t!==null&&(Ti(t,1,e),Oe(t,e));break}}t=t.return}}function pv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(ke&n)===n&&(ge===4||ge===3&&(ke&130023424)===ke&&500>fe()-yu?vn(e,0):gu|=n),Oe(e,t)}function Zp(e,t){t===0&&(e.mode&1?(t=Fi,Fi<<=1,!(Fi&130023424)&&(Fi=4194304)):t=1);var n=De();e=Dt(e,t),e!==null&&(Ti(e,t,n),Oe(e,n))}function mv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zp(e,n)}function gv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Zp(e,n)}var qp;qp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ne.current)Ae=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ae=!1,rv(e,t,n);Ae=!!(e.flags&131072)}else Ae=!1,ne&&t.flags&1048576&&np(t,js,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cs(e,t),e=t.pendingProps;var i=ir(t,Me.current);tr(t,n),i=cu(null,t,r,e,i,n);var s=du();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_e(r)?(s=!0,bs(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,su(t),i.updater=so,t.stateNode=i,i._reactInternals=t,Xa(t,r,e,n),t=qa(null,t,r,!0,s,n)):(t.tag=0,ne&&s&&ql(t),je(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=vv(r),e=ot(r,e),i){case 0:t=Za(null,t,r,e,n);break e;case 1:t=ad(null,t,r,e,n);break e;case 11:t=sd(null,t,r,e,n);break e;case 14:t=od(null,t,r,ot(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ot(r,i),Za(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ot(r,i),ad(e,t,r,i,n);case 3:e:{if(Np(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,i=s.element,lp(e,t),Is(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=lr(Error(D(423)),t),t=ld(e,t,r,n,i);break e}else if(r!==i){i=lr(Error(D(424)),t),t=ld(e,t,r,n,i);break e}else for(ze=Kt(t.stateNode.containerInfo.firstChild),Be=t,ne=!0,lt=null,n=op(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sr(),r===i){t=Rt(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return up(t),e===null&&Ka(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ba(r,i)?o=null:s!==null&&Ba(r,s)&&(t.flags|=32),Ap(e,t),je(e,t,o,n),t.child;case 6:return e===null&&Ka(t),null;case 13:return _p(e,t,n);case 4:return ou(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=or(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ot(r,i),sd(e,t,r,i,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,X(Ds,r._currentValue),r._currentValue=o,s!==null)if(ft(s.value,o)){if(s.children===i.children&&!Ne.current){t=Rt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ya(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ya(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}je(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,tr(t,n),i=tt(i),r=r(i),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,i=ot(r,t.pendingProps),i=ot(r.type,i),od(e,t,r,i,n);case 15:return Ip(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ot(r,i),cs(e,t),t.tag=1,_e(r)?(e=!0,bs(t)):e=!1,tr(t,n),jp(t,r,i),Xa(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return Op(e,t,n);case 22:return Lp(e,t,n)}throw Error(D(156,t.tag))};function Jp(e,t){return Th(e,t)}function yv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,r){return new yv(e,t,n,r)}function ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vv(e){if(typeof e=="function")return ku(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zl)return 11;if(e===Bl)return 14}return 2}function Qt(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hs(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ku(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Nn:return xn(n.children,i,s,t);case Fl:o=8,i|=8;break;case xa:return e=Je(12,n,t,i|2),e.elementType=xa,e.lanes=s,e;case wa:return e=Je(13,n,t,i),e.elementType=wa,e.lanes=s,e;case ka:return e=Je(19,n,t,i),e.elementType=ka,e.lanes=s,e;case uh:return lo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ah:o=10;break e;case lh:o=9;break e;case zl:o=11;break e;case Bl:o=14;break e;case Ot:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Je(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function xn(e,t,n,r){return e=Je(7,e,r,t),e.lanes=n,e}function lo(e,t,n,r){return e=Je(22,e,r,t),e.elementType=uh,e.lanes=n,e.stateNode={isHidden:!1},e}function ea(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function ta(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Su(e,t,n,r,i,s,o,a,l){return e=new xv(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Je(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},su(s),e}function wv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function em(e){if(!e)return qt;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(_e(n))return ep(e,n,t)}return t}function tm(e,t,n,r,i,s,o,a,l){return e=Su(n,r,!0,e,i,s,o,a,l),e.context=em(null),n=e.current,r=De(),i=Xt(n),s=Pt(r,i),s.callback=t??null,Yt(n,s,i),e.current.lanes=i,Ti(e,i,r),Oe(e,r),e}function uo(e,t,n,r){var i=t.current,s=De(),o=Xt(i);return n=em(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yt(i,t,o),e!==null&&(dt(e,i,o,s),as(e,i,o)),o}function zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Eu(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function kv(){return null}var nm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cu(e){this._internalRoot=e}co.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));uo(e,t,null,null)};co.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){uo(null,e,null,null)}),t[jt]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&t!==0&&t<Ft[n].priority;n++);Ft.splice(n,0,e),n===0&&Nh(e)}};function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xd(){}function Sv(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=zs(o);s.call(u)}}var o=tm(t,r,e,0,null,!1,!1,"",xd);return e._reactRootContainer=o,e[jt]=o.current,li(e.nodeType===8?e.parentNode:e),Pn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zs(l);a.call(u)}}var l=Su(e,0,!1,null,null,!1,!1,"",xd);return e._reactRootContainer=l,e[jt]=l.current,li(e.nodeType===8?e.parentNode:e),Pn(function(){uo(t,l,n,r)}),l}function ho(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=zs(o);a.call(l)}}uo(t,o,e,i)}else o=Sv(n,t,e,i,r);return zs(o)}Rh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_r(t.pendingLanes);n!==0&&(Wl(t,n|1),Oe(t,fe()),!(W&6)&&(ur=fe()+500,sn()))}break;case 13:Pn(function(){var r=Dt(e,1);if(r!==null){var i=De();dt(r,e,1,i)}}),Eu(e,1)}};Hl=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var n=De();dt(t,e,134217728,n)}Eu(e,134217728)}};Ih=function(e){if(e.tag===13){var t=Xt(e),n=Dt(e,t);if(n!==null){var r=De();dt(n,e,t,r)}Eu(e,t)}};Lh=function(){return Y};Ah=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ra=function(e,t,n){switch(t){case"input":if(Ca(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=no(r);if(!i)throw Error(D(90));dh(r),Ca(r,i)}}}break;case"textarea":hh(e,n);break;case"select":t=n.value,t!=null&&Zn(e,!!n.multiple,t,!1)}};wh=vu;kh=Pn;var Ev={usingClientEntryPoint:!1,Events:[Mi,Fn,no,vh,xh,vu]},Ir={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cv={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ch(e),e===null?null:e.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||kv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{qs=Qi.inject(Cv),gt=Qi}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ev;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(t))throw Error(D(200));return wv(e,t,null,n)};Ye.createRoot=function(e,t){if(!Pu(e))throw Error(D(299));var n=!1,r="",i=nm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Su(e,1,!1,null,null,n,!1,r,i),e[jt]=t.current,li(e.nodeType===8?e.parentNode:e),new Cu(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Ch(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return Pn(e)};Ye.hydrate=function(e,t,n){if(!fo(t))throw Error(D(200));return ho(null,e,t,!0,n)};Ye.hydrateRoot=function(e,t,n){if(!Pu(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=nm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=tm(t,null,e,1,n??null,i,!1,s,o),e[jt]=t.current,li(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new co(t)};Ye.render=function(e,t,n){if(!fo(t))throw Error(D(200));return ho(null,e,t,!1,n)};Ye.unmountComponentAtNode=function(e){if(!fo(e))throw Error(D(40));return e._reactRootContainer?(Pn(function(){ho(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Ye.unstable_batchedUpdates=vu;Ye.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fo(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return ho(e,t,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rm)}catch(e){console.error(e)}}rm(),rh.exports=Ye;var Pv=rh.exports,wd=Pv;ya.createRoot=wd.createRoot,ya.hydrateRoot=wd.hydrateRoot;const Tv=()=>{const[e,t]=v.useState(!1),[n,r]=v.useState(null),i=v.useCallback(async c=>{var f;t(!0),r(null);try{if(!navigator.clipboard||!navigator.clipboard.read)throw new Error("Modern Clipboard API is not supported in this browser. Please use Ctrl+V paste event instead.");const p=await navigator.clipboard.read();for(const y of p){const S=y.types.filter(d=>d.startsWith("image/"));if(S.length===0)throw new Error("No image found in clipboard");const w=S[0],E=await y.getType(w),h=new FileReader;return new Promise((d,g)=>{h.onload=k=>{var C,b,P;const x=(C=k.target)==null?void 0:C.result;if(x)(b=c==null?void 0:c.onSuccess)==null||b.call(c,x),d(x);else{const R=new Error("Failed to convert image to data URL");(P=c==null?void 0:c.onError)==null||P.call(c,R),g(R)}},h.onerror=()=>{var x;const k=new Error("Failed to read image data");(x=c==null?void 0:c.onError)==null||x.call(c,k),g(k)},h.readAsDataURL(E)})}throw new Error("No valid image data found")}catch(p){const y=p instanceof Error?p:new Error("Unknown clipboard error");throw r(y.message),(f=c==null?void 0:c.onError)==null||f.call(c,y),y}finally{t(!1)}},[]),s=v.useCallback(async c=>{t(!0),r(null);try{if(!navigator.clipboard||!navigator.clipboard.write)throw new Error("Clipboard write API is not supported in this browser");const p=await(await fetch(c)).blob(),y=new ClipboardItem({[p.type]:p});await navigator.clipboard.write([y])}catch(f){const p=f instanceof Error?f:new Error("Unknown clipboard error");if(r(p.message),navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(c),console.warn("Fallback: Copied image as data URL text")}catch(y){console.warn("Fallback clipboard write also failed:",y)}throw p}finally{t(!1)}},[]),o=v.useCallback(async c=>{t(!0),r(null);try{if(!(c!=null&&c.clipboardData))throw new Error("No clipboard data available");const f=c.clipboardData.items;for(let p=0;p<f.length;p++){const y=f[p];if(y.type.startsWith("image/")){const S=y.getAsFile();if(!S)continue;const w=new FileReader;return new Promise((E,h)=>{w.onload=d=>{var k;const g=(k=d.target)==null?void 0:k.result;g?E(g):h(new Error("Failed to convert image to data URL"))},w.onerror=()=>{h(new Error("Failed to read image data"))},w.readAsDataURL(S)})}}throw new Error("No image found in clipboard data")}catch(f){const p=f instanceof Error?f:new Error("Unknown clipboard error");throw r(p.message),p}finally{t(!1)}},[]),a=v.useCallback(()=>!!(navigator.clipboard&&navigator.clipboard.read),[]),l=v.useCallback(()=>!!(navigator.clipboard&&navigator.clipboard.write),[]),u=v.useCallback(async()=>{try{return(await navigator.permissions.query({name:"clipboard-read"})).state==="granted"}catch{return!0}},[]);return{readImageFromClipboard:i,writeImageToClipboard:s,readImageFromClipboardLegacy:o,isClipboardSupported:a,isClipboardWriteSupported:l,requestClipboardPermission:u,isLoading:e,error:n,clearError:()=>r(null)}};var im=Symbol.for("immer-nothing"),kd=Symbol.for("immer-draftable"),We=Symbol.for("immer-state");function ut(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cr=Object.getPrototypeOf;function dr(e){return!!e&&!!e[We]}function Tn(e){var t;return e?sm(e)||Array.isArray(e)||!!e[kd]||!!((t=e.constructor)!=null&&t[kd])||mo(e)||go(e):!1}var bv=Object.prototype.constructor.toString();function sm(e){if(!e||typeof e!="object")return!1;const t=cr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===bv}function Bs(e,t){po(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function po(e){const t=e[We];return t?t.type_:Array.isArray(e)?1:mo(e)?2:go(e)?3:0}function cl(e,t){return po(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function om(e,t,n){const r=po(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Mv(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mo(e){return e instanceof Map}function go(e){return e instanceof Set}function dn(e){return e.copy_||e.base_}function dl(e,t){if(mo(e))return new Map(e);if(go(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=sm(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[We];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(cr(e),r)}else{const r=cr(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Tu(e,t=!1){return yo(e)||dr(e)||!Tn(e)||(po(e)>1&&(e.set=e.add=e.clear=e.delete=jv),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Tu(r,!0))),e}function jv(){ut(2)}function yo(e){return Object.isFrozen(e)}var Dv={};function bn(e){const t=Dv[e];return t||ut(0,e),t}var yi;function am(){return yi}function Rv(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sd(e,t){t&&(bn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fl(e){hl(e),e.drafts_.forEach(Iv),e.drafts_=null}function hl(e){e===yi&&(yi=e.parent_)}function Ed(e){return yi=Rv(yi,e)}function Iv(e){const t=e[We];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Cd(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[We].modified_&&(fl(t),ut(4)),Tn(e)&&(e=$s(t,e),t.parent_||Us(t,e)),t.patches_&&bn("Patches").generateReplacementPatches_(n[We].base_,e,t.patches_,t.inversePatches_)):e=$s(t,n,[]),fl(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==im?e:void 0}function $s(e,t,n){if(yo(t))return t;const r=t[We];if(!r)return Bs(t,(i,s)=>Pd(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Us(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Bs(s,(a,l)=>Pd(e,r,i,a,l,n,o)),Us(e,i,!1),n&&e.patches_&&bn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Pd(e,t,n,r,i,s,o){if(dr(i)){const a=s&&t&&t.type_!==3&&!cl(t.assigned_,r)?s.concat(r):void 0,l=$s(e,i,a);if(om(n,r,l),dr(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Tn(i)&&!yo(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$s(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Us(e,i)}}function Us(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tu(t,n)}function Lv(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:am(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=bu;n&&(i=[r],s=vi);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var bu={get(e,t){if(t===We)return e;const n=dn(e);if(!cl(n,t))return Av(e,n,t);const r=n[t];return e.finalized_||!Tn(r)?r:r===na(e.base_,t)?(ra(e),e.copy_[t]=ml(r,e)):r},has(e,t){return t in dn(e)},ownKeys(e){return Reflect.ownKeys(dn(e))},set(e,t,n){const r=lm(dn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=na(dn(e),t),s=i==null?void 0:i[We];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Mv(n,i)&&(n!==void 0||cl(e.base_,t)))return!0;ra(e),pl(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return na(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ra(e),pl(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=dn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ut(11)},getPrototypeOf(e){return cr(e.base_)},setPrototypeOf(){ut(12)}},vi={};Bs(bu,(e,t)=>{vi[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vi.deleteProperty=function(e,t){return vi.set.call(this,e,t,void 0)};vi.set=function(e,t,n){return bu.set.call(this,e[0],t,n,e[0])};function na(e,t){const n=e[We];return(n?dn(n):e)[t]}function Av(e,t,n){var i;const r=lm(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function lm(e,t){if(!(t in e))return;let n=cr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cr(n)}}function pl(e){e.modified_||(e.modified_=!0,e.parent_&&pl(e.parent_))}function ra(e){e.copy_||(e.copy_=dl(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Nv=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&ut(6),r!==void 0&&typeof r!="function"&&ut(7);let i;if(Tn(t)){const s=Ed(this),o=ml(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?fl(s):hl(s)}return Sd(s,r),Cd(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===im&&(i=void 0),this.autoFreeze_&&Tu(i,!0),r){const s=[],o=[];bn("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else ut(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tn(e)||ut(8),dr(e)&&(e=_v(e));const t=Ed(this),n=ml(e,void 0);return n[We].isManual_=!0,hl(t),n}finishDraft(e,t){const n=e&&e[We];(!n||!n.isManual_)&&ut(9);const{scope_:r}=n;return Sd(r,t),Cd(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=bn("Patches").applyPatches_;return dr(e)?r(e,t):this.produce(e,i=>r(i,t))}};function ml(e,t){const n=mo(e)?bn("MapSet").proxyMap_(e,t):go(e)?bn("MapSet").proxySet_(e,t):Lv(e,t);return(t?t.scope_:am()).drafts_.push(n),n}function _v(e){return dr(e)||ut(10,e),um(e)}function um(e){if(!Tn(e)||yo(e))return e;const t=e[We];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=dl(e,t.scope_.immer_.useStrictShallowCopy_)}else n=dl(e,!0);return Bs(n,(r,i)=>{om(n,r,um(i))}),t&&(t.finalized_=!1),n}var He=new Nv,Ov=He.produce;He.produceWithPatches.bind(He);He.setAutoFreeze.bind(He);He.setUseStrictShallowCopy.bind(He);He.applyPatches.bind(He);He.createDraft.bind(He);He.finishDraft.bind(He);const cm={images:[],selectedImageId:null,dragMode:"free",aspectRatioLocked:!0,history:[],historyIndex:-1,cropState:{imageId:null,selection:null,isActive:!1},layerSidebarVisible:!1,darkMode:!1,isLoading:!1},dm=()=>`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Ln=(e,t,n)=>({id:dm(),action:e,timestamp:Date.now(),description:t,images:JSON.parse(JSON.stringify(n))}),Vv=Ov((e,t)=>{switch(t.type){case"ADD_IMAGE":{const n=e.images.slice(-1),r=Date.now();if(n.some(a=>{const l=a.src===t.payload.src&&a.x===t.payload.x&&a.y===t.payload.y&&r-parseInt(a.id.split("_")[1])<50;return l&&console.warn("Very recent duplicate detected:",{timeDiff:r-parseInt(a.id.split("_")[1]),coordinates:{x:a.x,y:a.y},newCoordinates:{x:t.payload.x,y:t.payload.y}}),l})){console.warn("Duplicate image prevented:",t.payload.src.substring(0,50)+"...");break}const s={...t.payload,id:dm(),zIndex:e.images.length,aspectRatioLocked:e.aspectRatioLocked};e.images.push(s),e.selectedImageId=s.id,console.info(`✅ Image added successfully. Total images: ${e.images.length}`,{id:s.id,size:`${s.width}×${s.height}`,position:`(${s.x}, ${s.y})`});const o=Ln("add-image","画像を追加",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(o),e.historyIndex=e.history.length-1,e.history.length>100&&(e.history.shift(),e.historyIndex--);break}case"DELETE_IMAGE":{const n=e.images.findIndex(r=>r.id===t.payload);if(n!==-1){e.images.splice(n,1),e.selectedImageId===t.payload&&(e.selectedImageId=null),e.images.forEach((i,s)=>{i.zIndex=s});const r=Ln("delete-image","画像を削除",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(r),e.historyIndex=e.history.length-1}break}case"UPDATE_IMAGE":{const n=e.images.findIndex(r=>r.id===t.payload.id);n!==-1&&Object.assign(e.images[n],t.payload.updates);break}case"SELECT_IMAGE":e.selectedImageId=t.payload;break;case"SET_DRAG_MODE":e.dragMode=t.payload;break;case"TOGGLE_ASPECT_RATIO_LOCK":e.aspectRatioLocked=!e.aspectRatioLocked;break;case"SET_ASPECT_RATIO_LOCK":e.aspectRatioLocked=t.payload;break;case"UNDO":{if(e.historyIndex>0){e.historyIndex--;const n=e.history[e.historyIndex];e.images=JSON.parse(JSON.stringify(n.images))}break}case"REDO":{if(e.historyIndex<e.history.length-1){e.historyIndex++;const n=e.history[e.historyIndex];e.images=JSON.parse(JSON.stringify(n.images))}break}case"ADD_HISTORY_STEP":{const n=Ln(t.payload.action,t.payload.description,e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(n),e.historyIndex=e.history.length-1,console.log(`📝 履歴追加: ${t.payload.description} (total: ${e.history.length})`),e.history.length>100&&(e.history.shift(),e.historyIndex--);break}case"START_CROP":e.cropState.imageId=t.payload,e.cropState.isActive=!0,e.cropState.selection=null;break;case"UPDATE_CROP_SELECTION":e.cropState.selection=t.payload;break;case"APPLY_CROP":{if(e.cropState.imageId&&e.cropState.selection){const n=e.images.findIndex(r=>r.id===e.cropState.imageId);if(n!==-1){const r=e.images[n],i=e.cropState.selection;r.width=i.width,r.height=i.height,r.x+=i.x,r.y+=i.y;const s=Ln("crop-image","画像をトリミング",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(s),e.historyIndex=e.history.length-1}}e.cropState.imageId=null,e.cropState.selection=null,e.cropState.isActive=!1;break}case"CANCEL_CROP":e.cropState.imageId=null,e.cropState.selection=null,e.cropState.isActive=!1;break;case"REORDER_LAYER":{const n=e.images.findIndex(r=>r.id===t.payload.imageId);if(n!==-1){const r=e.images[n].zIndex,i=t.payload.newZIndex;e.images[n].zIndex=i,e.images.forEach(a=>{a.id!==t.payload.imageId&&(r<i?a.zIndex<=i&&a.zIndex>r&&a.zIndex--:a.zIndex>=i&&a.zIndex<r&&a.zIndex++)}),[...e.images].sort((a,l)=>a.zIndex-l.zIndex).forEach((a,l)=>{a.zIndex=l});const o=Ln("reorder-layer","レイヤー順序を変更",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(o),e.historyIndex=e.history.length-1,e.history.length>100&&(e.history.shift(),e.historyIndex--)}break}case"TOGGLE_LAYER_VISIBILITY":{const n=e.images.findIndex(r=>r.id===t.payload);if(n!==-1){e.images[n].visible=!e.images[n].visible;const r=Ln("toggle-visibility","表示/非表示を切替",e.images);e.history=e.history.slice(0,e.historyIndex+1),e.history.push(r),e.historyIndex=e.history.length-1}break}case"TOGGLE_LAYER_SIDEBAR":e.layerSidebarVisible=!e.layerSidebarVisible;break;case"SET_LAYER_SIDEBAR":e.layerSidebarVisible=t.payload;break;case"TOGGLE_DARK_MODE":e.darkMode=!e.darkMode;break;case"SET_DARK_MODE":e.darkMode=t.payload;break;case"SET_LOADING":e.isLoading=t.payload;break;case"LOAD_STATE":Object.assign(e,t.payload);break;case"RESET_STATE":Object.assign(e,cm);break}}),fm=v.createContext(void 0),Fv=({children:e})=>{const[t,n]=v.useReducer(Vv,cm);v.useEffect(()=>{try{localStorage.removeItem("image-canvas-state"),console.info("LocalStorage cleared for debugging")}catch(i){console.warn("Failed to clear localStorage:",i)}},[]),v.useEffect(()=>{const i=setTimeout(()=>{try{const s={...t,images:[]};localStorage.setItem("image-canvas-state",JSON.stringify(s)),console.info("State saved to localStorage (without images)")}catch(s){console.warn("Failed to save state to localStorage:",s);try{localStorage.removeItem("image-canvas-state"),console.info("Cleared localStorage due to save failure")}catch(o){console.error("Failed to clear localStorage:",o)}}},1e3);return()=>clearTimeout(i)},[t]),v.useEffect(()=>{t.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t.darkMode]);const r={state:t,dispatch:n,addImage:i=>n({type:"ADD_IMAGE",payload:i}),deleteImage:i=>n({type:"DELETE_IMAGE",payload:i}),updateImage:(i,s)=>n({type:"UPDATE_IMAGE",payload:{id:i,updates:s}}),selectImage:i=>n({type:"SELECT_IMAGE",payload:i}),setDragMode:i=>n({type:"SET_DRAG_MODE",payload:i}),toggleAspectRatioLock:()=>n({type:"TOGGLE_ASPECT_RATIO_LOCK"}),undo:()=>n({type:"UNDO"}),redo:()=>n({type:"REDO"}),startCrop:i=>n({type:"START_CROP",payload:i}),updateCropSelection:i=>n({type:"UPDATE_CROP_SELECTION",payload:i}),applyCrop:()=>n({type:"APPLY_CROP"}),cancelCrop:()=>n({type:"CANCEL_CROP"}),reorderLayer:(i,s)=>n({type:"REORDER_LAYER",payload:{imageId:i,newZIndex:s}}),toggleLayerVisibility:i=>n({type:"TOGGLE_LAYER_VISIBILITY",payload:i}),toggleLayerSidebar:()=>n({type:"TOGGLE_LAYER_SIDEBAR"}),toggleDarkMode:()=>n({type:"TOGGLE_DARK_MODE"}),saveToLocalStorage:()=>{localStorage.setItem("image-canvas-state",JSON.stringify(t))},loadFromLocalStorage:()=>{const i=localStorage.getItem("image-canvas-state");if(i)try{const s=JSON.parse(i);n({type:"LOAD_STATE",payload:s})}catch(s){console.warn("Failed to load state from localStorage:",s)}}};return m.jsx(fm.Provider,{value:r,children:e})},At=()=>{const e=v.useContext(fm);if(e===void 0)throw new Error("useImageContext must be used within an ImageProvider");return e};let Zi=!1,ia=0;const Td=3e3,hm=()=>{const{readImageFromClipboard:e,readImageFromClipboardLegacy:t,isClipboardSupported:n,isLoading:r,error:i}=Tv(),{addImage:s,state:o}=At(),[a,l]=v.useState(!1),u=v.useCallback(E=>new Promise((h,d)=>{const g=new Image;g.onload=()=>{h({width:g.naturalWidth,height:g.naturalHeight})},g.onerror=()=>{d(new Error("Failed to load image"))},g.src=E}),[]),c=v.useCallback((E,h)=>{const d=document.getElementById("image-canvas"),g=d==null?void 0:d.getBoundingClientRect(),k=8,x=g?g.width-k:792,C=g?g.height-k:592,b=x/2,P=C/2,R=o.images.length>0?o.images[o.images.length-1]:null;let M,I;return R?(M=R.x+25,I=R.y+25,M+E>x&&(M=50,I=R.y+R.height+30),I+h>C&&(M=b-E/2,I=P-h/2)):(M=b-E/2,I=P-h/2),M=Math.max(10,Math.min(x-E-10,M)),I=Math.max(10,Math.min(C-h-10,I)),{x:M,y:I}},[o.images]),f=v.useCallback((E,h)=>{try{const d=document.getElementById("image-canvas"),g=d==null?void 0:d.getBoundingClientRect(),k=1200,x=900,C=g?Math.max(g.width*.85,800):k,b=g?Math.max(g.height*.85,600):x;let P=E,R=h,M=!1;const I=P>C,F=R>b;if(I||F){const B=C/P,U=b/R,ce=Math.min(B,U);ce<.9&&(P=Math.round(P*ce),R=Math.round(R*ce),M=!0,console.info("Image resized for canvas fit:",{original:`${E}×${h}`,adjusted:`${P}×${R}`,ratio:`${Math.round((1-ce)*100)}% reduction`,canvasSize:`${C}×${b}`}),setTimeout(()=>{const Q=Math.round((1-ce)*100),K=Date.now();!Zi&&K-ia>Td?(Zi=!0,console.info("Showing resize alert"),alert(`画像がキャンバスより大きいため、自動で${Q}%縮小しました。
元のサイズ: ${E}×${h}px
調整後: ${P}×${R}px`),ia=K,setTimeout(()=>{Zi=!1,console.info("Reset resize alert flag")},500)):console.info("Skipping duplicate resize alert",{isShowing:Zi,timeSinceLastAlert:K-ia,cooldown:Td})},100))}return{width:P,height:R,wasResized:M}}catch(d){return console.error("Error in adjustImageSize:",d),{width:E,height:h,wasResized:!1}}},[]),p=v.useCallback(async()=>{if(a)return console.info("Paste already in progress, skipping..."),!1;l(!0);try{console.info("Starting Modern Clipboard API paste...");const E=await e(),h=E.length*.75/(1024*1024);if(h>50)throw new Error(`画像サイズが大きすぎます (${h.toFixed(1)}MB)。50MB以下の画像を使用してください。`);const{width:d,height:g}=await u(E);if(d>8e3||g>8e3)throw new Error(`画像の解像度が大きすぎます (${d}×${g})。8000×8000px以下の画像を使用してください。`);const{width:k,height:x}=f(d,g),{x:C,y:b}=c(k,x);return s({src:E,x:C,y:b,width:k,height:x,originalWidth:d,originalHeight:g,visible:!0,aspectRatioLocked:!0}),console.info("✅ Successfully pasted image using Modern Clipboard API",{size:`${d}×${g}`,adjusted:`${k}×${x}`,position:`(${C}, ${b})`}),!0}catch(E){return console.warn("Modern Clipboard API failed:",E),E instanceof Error&&(E.message.includes("大きすぎます")||E.message.includes("解像度")?alert(E.message):E.message.includes("No image found")&&console.info("No image in clipboard, user should copy an image first")),!1}finally{setTimeout(()=>l(!1),1)}},[a,e,u,f,c,s]),y=v.useCallback(async E=>{if(E.preventDefault(),a)return console.info("Paste already in progress, skipping paste event..."),!1;if(n())return console.info("Skipping paste event - Modern Clipboard API is available"),!1;if(l(!0),console.info("Processing paste event with legacy clipboard handler"),!E.clipboardData||E.clipboardData.items.length===0)return console.warn("No clipboard data available in paste event"),l(!1),!1;const h=E.clipboardData.items;console.info("Clipboard contains:",Array.from(h).map(d=>({type:d.type,kind:d.kind})));try{const d=await t(E),g=d.length*.75/(1024*1024);if(g>50)throw new Error(`画像サイズが大きすぎます (${g.toFixed(1)}MB)。50MB以下の画像を使用してください。`);const{width:k,height:x}=await u(d);if(k>8e3||x>8e3)throw new Error(`画像の解像度が大きすぎます (${k}×${x})。8000×8000px以下の画像を使用してください。`);const{width:C,height:b}=f(k,x),{x:P,y:R}=c(C,b);return s({src:d,x:P,y:R,width:C,height:b,originalWidth:k,originalHeight:x,visible:!0,aspectRatioLocked:!0}),console.info("✅ Successfully pasted image using legacy handler",{size:`${k}×${x}`,adjusted:`${C}×${b}`,position:`(${P}, ${R})`}),!0}catch(d){return console.error("Failed to paste image using legacy handler:",d),d instanceof Error&&(d.message.includes("大きすぎます")||d.message.includes("解像度")?alert(d.message):d.message.includes("No image found")?console.info("No image data found in clipboard. Please copy an image first."):alert(`画像の貼り付けに失敗しました: ${d.message}`)),!1}finally{setTimeout(()=>l(!1),1)}},[a,t,u,f,c,s,n]),S=v.useCallback(async E=>{if((E.ctrlKey||E.metaKey)&&E.key==="v"){const h=document.activeElement;if(h&&(h.tagName==="INPUT"||h.tagName==="TEXTAREA"||h.getAttribute("contenteditable")==="true"))return;if(a){console.info("Paste already in progress, skipping keyboard shortcut..."),E.preventDefault();return}if(E.preventDefault(),n())try{if(await p()){console.info("Successfully used Modern Clipboard API");return}}catch(d){console.warn("Modern Clipboard API failed, falling back to paste event:",d)}console.info("Triggering manual paste event for legacy support")}},[a,p,n]);v.useEffect(()=>(document.addEventListener("keydown",S),document.addEventListener("paste",y),()=>{document.removeEventListener("keydown",S),document.removeEventListener("paste",y)}),[S,y]);const w=v.useCallback(async E=>{const d=Array.from(E).filter(g=>g.type.startsWith("image/"));if(d.length===0){alert("画像ファイルが見つかりません。画像ファイルをドロップしてください。");return}for(const g of d)try{const k=g.size/1048576;if(k>50){alert(`ファイル "${g.name}" が大きすぎます (${k.toFixed(1)}MB)。50MB以下のファイルを使用してください。`);continue}const x=new FileReader,C=await new Promise((B,U)=>{x.onload=ce=>{var K;const Q=(K=ce.target)==null?void 0:K.result;Q?B(Q):U(new Error("Failed to read file"))},x.onerror=()=>U(new Error(`Failed to read file: ${g.name}`)),x.readAsDataURL(g)}),{width:b,height:P}=await u(C);if(b>8e3||P>8e3){alert(`ファイル "${g.name}" の解像度が大きすぎます (${b}×${P})。8000×8000px以下の画像を使用してください。`);continue}const{width:R,height:M}=f(b,P),{x:I,y:F}=c(R,M);s({src:C,x:I,y:F,width:R,height:M,originalWidth:b,originalHeight:P,visible:!0,aspectRatioLocked:!0}),console.info(`✅ Successfully dropped file: ${g.name}`,{size:`${b}×${P}`,adjusted:`${R}×${M}`,position:`(${I}, ${F})`})}catch(k){console.error(`Failed to process dropped file: ${g.name}`,k);const x=k instanceof Error?k.message:"Unknown error";alert(`ファイル "${g.name}" の処理に失敗しました: ${x}`)}},[u,f,c,s]);return{handlePasteFromClipboard:p,handlePasteEvent:y,handleFileDrop:w,isLoading:r,error:i}};var pm={exports:{}};(function(e,t){(function(n,r){r()})(Cr,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,c,f)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Cr=="object"&&Cr.global===Cr?Cr:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,f){var p=o.URL||o.webkitURL,y=document.createElement("a");c=c||u.name||"download",y.download=c,y.rel="noopener",typeof u=="string"?(y.href=u,y.origin===location.origin?s(y):i(y.href)?r(u,c,f):s(y,y.target="_blank")):(y.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),c);else if(i(u))r(u,c,f);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){s(p)})}}:function(u,c,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var y=u.type==="application/octet-stream",S=/constructor/i.test(o.HTMLElement)||o.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||y&&S||a)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var g=E.result;g=w?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=g:location=g,p=null},E.readAsDataURL(u)}else{var h=o.URL||o.webkitURL,d=h.createObjectURL(u);p?p.location=d:location.href=d,p=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(pm);var bd=pm.exports;const Mu=()=>{const{state:e}=At(),[t,n]=v.useState(!1),[r,i]=v.useState(0),s=v.useCallback((f,p,y,S)=>{const w=f*p;let E=0;switch(y){case"png":E=w*3;break;case"jpeg":E=w*3*S/3;break;case"webp":E=w*3*S/4;break}if(E<1024)return{size:E,unit:"B",formatted:`${Math.round(E)}B`};if(E<1024*1024){const h=E/1024;return{size:h,unit:"KB",formatted:`${Math.round(h)}KB`}}else{const h=E/1048576;return{size:h,unit:"MB",formatted:`${h.toFixed(1)}MB`}}},[]),o=v.useCallback(async(f,p)=>{const y=e.images.find(S=>S.id===f);if(!y)throw new Error("Image not found");n(!0),i(0);try{const S=document.createElement("canvas"),w=S.getContext("2d");if(!w)throw new Error("Canvas context not available");S.width=y.width,S.height=y.height,i(25);const E=new Image;await new Promise((b,P)=>{E.onload=b,E.onerror=P,E.src=y.src}),i(50),w.drawImage(E,0,0,y.width,y.height),i(75);const h=`image/${p.format}`,d=S.toDataURL(h,p.quality),k=await(await fetch(d)).blob();i(100);const C=`image-canvas-${new Date().toISOString().replace(/[:.]/g,"-")}.${p.format}`;bd.saveAs(k,C)}catch(S){throw console.error("Failed to download image:",S),S}finally{n(!1),i(0)}},[e.images]),a=v.useCallback(async f=>{if(e.images.length===0)throw new Error("No images to export");n(!0),i(0);try{const p=e.images.filter(M=>M.visible);if(p.length===0)throw new Error("No visible images to export");const y=p.reduce((M,I)=>({minX:Math.min(M.minX,I.x),minY:Math.min(M.minY,I.y),maxX:Math.max(M.maxX,I.x+I.width),maxY:Math.max(M.maxY,I.y+I.height)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),S=20,w=(y.maxX-y.minX+S*2)*f.scale,E=(y.maxY-y.minY+S*2)*f.scale;i(10);const h=document.createElement("canvas"),d=h.getContext("2d");if(!d)throw new Error("Canvas context not available");h.width=w,h.height=E,f.includeBackground&&(d.fillStyle=f.backgroundColor,d.fillRect(0,0,w,E)),i(20);const g=[...p].sort((M,I)=>M.zIndex-I.zIndex);for(let M=0;M<g.length;M++){const I=g[M];try{const F=new Image;await new Promise((K,T)=>{F.onload=K,F.onerror=T,F.src=I.src});const B=(I.x-y.minX+S)*f.scale,U=(I.y-y.minY+S)*f.scale,ce=I.width*f.scale,Q=I.height*f.scale;I.opacity!==void 0&&(d.globalAlpha=I.opacity),I.rotation?(d.save(),d.translate(B+ce/2,U+Q/2),d.rotate(I.rotation*Math.PI/180),d.drawImage(F,-ce/2,-Q/2,ce,Q),d.restore()):d.drawImage(F,B,U,ce,Q),d.globalAlpha=1,i(20+(M+1)/g.length*60)}catch(F){console.warn(`Failed to draw image ${I.id}:`,F)}}i(90);const k=`image/${f.format}`,x=h.toDataURL(k,f.quality),b=await(await fetch(x)).blob();i(100);const R=`image-canvas-export-${new Date().toISOString().replace(/[:.]/g,"-")}.${f.format}`;bd.saveAs(b,R)}catch(p){throw console.error("Failed to export images:",p),p}finally{n(!1),i(0)}},[e.images]),l=v.useCallback(async f=>{const p=e.images.find(y=>y.id===f);if(!p)throw new Error("Image not found");try{const S=await(await fetch(p.src)).blob();if(navigator.clipboard&&navigator.clipboard.write){const w=new ClipboardItem({[S.type]:S});await navigator.clipboard.write([w])}else throw new Error("Clipboard API not supported")}catch(y){throw console.error("Failed to copy image to clipboard:",y),y}},[e.images]),u=v.useCallback((f="png",p=1)=>{const y=document.getElementById("image-canvas");if(!y)throw new Error("Canvas not found");const S=`image/${f}`;return y.toDataURL(S,p)},[]),c=v.useCallback(async(f,p)=>{const y=e.images.find(k=>k.id===f);if(!y)throw new Error("Image not found");const S=document.createElement("canvas"),w=S.getContext("2d");if(!w)throw new Error("Canvas context not available");const E=200,h=Math.min(E/y.width,E/y.height);S.width=y.width*h,S.height=y.height*h;const d=new Image;await new Promise((k,x)=>{d.onload=k,d.onerror=x,d.src=y.src}),w.drawImage(d,0,0,S.width,S.height);const g=`image/${p.format}`;return S.toDataURL(g,p.quality)},[e.images]);return{downloadSingleImage:o,exportAllImages:a,copyImageToClipboard:l,getCanvasAsDataURL:u,generatePreview:c,estimateFileSize:s,isExporting:t,exportProgress:r}},zv=()=>{const{undo:e,redo:t,toggleLayerSidebar:n,state:r,updateImage:i,reorderLayer:s,deleteImage:o,dispatch:a}=At(),{copyImageToClipboard:l}=Mu(),u=v.useCallback(h=>{if(!(h.ctrlKey||h.metaKey))return!1;switch(h.key.toLowerCase()){case"z":return h.shiftKey?(h.preventDefault(),t(),!0):(h.preventDefault(),e(),!0);default:return!1}},[e,t]),c=v.useCallback(h=>{const d=document.activeElement;if(d&&(d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.getAttribute("contenteditable")==="true"))return!1;switch(h.key.toLowerCase()){case"l":return h.preventDefault(),n(),!0;case"[":if(r.selectedImageId){h.preventDefault();const g=r.images.find(k=>k.id===r.selectedImageId);return g&&g.zIndex>0&&s(r.selectedImageId,g.zIndex-1),!0}return!1;case"]":if(r.selectedImageId){h.preventDefault();const g=r.images.find(x=>x.id===r.selectedImageId),k=Math.max(...r.images.map(x=>x.zIndex),-1);return g&&g.zIndex<k&&s(r.selectedImageId,g.zIndex+1),!0}return!1;case"delete":case"backspace":return r.selectedImageId?(h.preventDefault(),o(r.selectedImageId),!0):!1;default:return!1}},[n,r.selectedImageId,r.images,s,o]),f=v.useCallback(h=>{if(!r.selectedImageId||r.dragMode==="grid-snap")return!1;const d=h.shiftKey?10:1,g=r.images.find(k=>k.id===r.selectedImageId);if(!g)return!1;switch(h.key){case"ArrowUp":return h.preventDefault(),i(r.selectedImageId,{y:Math.max(0,g.y-d)}),a({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をキーボードで移動"}}),!0;case"ArrowDown":return h.preventDefault(),i(r.selectedImageId,{y:g.y+d}),a({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をキーボードで移動"}}),!0;case"ArrowLeft":return h.preventDefault(),i(r.selectedImageId,{x:Math.max(0,g.x-d)}),a({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をキーボードで移動"}}),!0;case"ArrowRight":return h.preventDefault(),i(r.selectedImageId,{x:g.x+d}),a({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をキーボードで移動"}}),!0;default:return!1}},[r.selectedImageId,r.images,r.dragMode,i,a]),p=v.useCallback(async h=>{const d=h.ctrlKey||h.metaKey;if(d&&h.key.toLowerCase()==="c"){if(r.selectedImageId){h.preventDefault();try{await l(r.selectedImageId),console.log("📋 Image copied to clipboard successfully")}catch(g){console.error("Failed to copy image to clipboard:",g)}return!0}return!1}return d&&h.key.toLowerCase()==="a"?(h.preventDefault(),!0):!1},[r.selectedImageId,l]),y=v.useCallback(async h=>{u(h)||await p(h)||c(h)||f(h)},[u,p,c,f]),S=[{key:"Ctrl+V / ⌘V",action:()=>{},description:"クリップボードから画像を貼り付け"},{key:"Ctrl+C / ⌘C",action:()=>{},description:"選択画像をクリップボードにコピー"},{key:"Ctrl+Z / ⌘Z",action:e,description:"元に戻す"},{key:"Ctrl+Shift+Z / ⌘⇧Z",action:t,description:"やり直し"},{key:"L",action:n,description:"レイヤーサイドバーの表示/非表示"},{key:"[",action:()=>{},description:"選択画像を背面へ"},{key:"]",action:()=>{},description:"選択画像を前面へ"},{key:"Delete / Backspace",action:()=>{},description:"選択画像を削除"},{key:"矢印キー",action:()=>{},description:"選択画像を移動（Shift+矢印で高速移動）"}],w=v.useCallback(()=>S.map(h=>`${h.key}: ${h.description}`).join(`
`),[S]),E=v.useCallback(h=>{const d=document.activeElement;return d&&(d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.getAttribute("contenteditable")==="true")?["Ctrl+Z","Ctrl+Shift+Z","Ctrl+C","⌘Z","⌘⇧Z","⌘C"].some(k=>k.toLowerCase().includes(h.toLowerCase())):!0},[]);return v.useEffect(()=>(document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}),[y]),{shortcuts:S,getShortcutHelp:w,isShortcutAvailable:E}};function Bv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15M9 12l3 3m0 0 3-3m-3 3V2.25"}))}const $v=v.forwardRef(Bv);function Uv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const vo=v.forwardRef(Uv);function Wv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const Hv=v.forwardRef(Wv);function Kv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"}))}const Yv=v.forwardRef(Kv);function Gv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const Xv=v.forwardRef(Gv);function Qv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const Zv=v.forwardRef(Qv);function qv({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"}))}const Jv=v.forwardRef(qv);function ex({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const mm=v.forwardRef(ex);function tx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nx=v.forwardRef(tx);function rx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ix=v.forwardRef(rx);function sx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const ox=v.forwardRef(sx);function ax({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"}))}const lx=v.forwardRef(ax);function ux({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const gm=v.forwardRef(ux);function cx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ju=v.forwardRef(cx);function dx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const fx=v.forwardRef(dx);function hx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const px=v.forwardRef(hx);function mx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const gx=v.forwardRef(mx);function yx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const vx=v.forwardRef(yx);function xx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const wx=v.forwardRef(xx);function kx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Sx=v.forwardRef(kx);function Ex({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Md=v.forwardRef(Ex);function Cx({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const xi=v.forwardRef(Cx),Du=v.createContext({});function Ru(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const xo=v.createContext(null),Iu=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Px extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Tx({children:e,isPresent:t}){const n=v.useId(),r=v.useRef(null),i=v.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=v.useContext(Iu);return v.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),m.jsx(Px,{isPresent:t,childRef:r,sizeRef:i,children:v.cloneElement(e,{ref:r})})}const bx=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Ru(Mx),l=v.useId(),u=v.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),c=v.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),u]:[n,u]);return v.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=m.jsx(Tx,{isPresent:n,children:e})),m.jsx(xo.Provider,{value:c,children:e})};function Mx(){return new Map}function ym(e=!0){const t=v.useContext(xo);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=v.useId();v.useEffect(()=>{e&&i(s)},[e]);const o=v.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const qi=e=>e.key||"";function jd(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Lu=typeof window<"u",vm=Lu?v.useLayoutEffect:v.useEffect,wo=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=ym(o),u=v.useMemo(()=>jd(e),[e]),c=o&&!a?[]:u.map(qi),f=v.useRef(!0),p=v.useRef(u),y=Ru(()=>new Map),[S,w]=v.useState(u),[E,h]=v.useState(u);vm(()=>{f.current=!1,p.current=u;for(let k=0;k<E.length;k++){const x=qi(E[k]);c.includes(x)?y.delete(x):y.get(x)!==!0&&y.set(x,!1)}},[E,c.length,c.join("-")]);const d=[];if(u!==S){let k=[...u];for(let x=0;x<E.length;x++){const C=E[x],b=qi(C);c.includes(b)||(k.splice(x,0,C),d.push(C))}s==="wait"&&d.length&&(k=d),h(jd(k)),w(u);return}const{forceRender:g}=v.useContext(Du);return m.jsx(m.Fragment,{children:E.map(k=>{const x=qi(k),C=o&&!a?!1:u===E||c.includes(x),b=()=>{if(y.has(x))y.set(x,!0);else return;let P=!0;y.forEach(R=>{R||(P=!1)}),P&&(g==null||g(),h(p.current),o&&(l==null||l()),r&&r())};return m.jsx(bx,{isPresent:C,initial:!f.current||n?void 0:!1,custom:C?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:C?void 0:b,children:k},x)})})},$e=e=>e;let xm=$e;function Au(e){let t;return()=>(t===void 0&&(t=e()),t)}const fr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Tt=e=>e*1e3,bt=e=>e/1e3,jx={useManualTiming:!1};function Dx(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const y=f&&r?t:n;return c&&s.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Ji=["read","resolveKeyframes","update","preRender","render","postRender"],Rx=40;function wm(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ji.reduce((h,d)=>(h[d]=Dx(s),h),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:p}=o,y=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,Rx),1),i.timestamp=h,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(y))},S=()=>{n=!0,r=!0,i.isProcessing||e(y)};return{schedule:Ji.reduce((h,d)=>{const g=o[d];return h[d]=(k,x=!1,C=!1)=>(n||S(),g.schedule(k,x,C)),h},{}),cancel:h=>{for(let d=0;d<Ji.length;d++)o[Ji[d]].cancel(h)},state:i,steps:o}}const{schedule:J,cancel:Jt,state:we,steps:sa}=wm(typeof requestAnimationFrame<"u"?requestAnimationFrame:$e,!0),km=v.createContext({strict:!1}),Dd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hr={};for(const e in Dd)hr[e]={isEnabled:t=>Dd[e].some(n=>!!t[n])};function Ix(e){for(const t in e)hr[t]={...hr[t],...e[t]}}const Lx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ws(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lx.has(e)}let Sm=e=>!Ws(e);function Ax(e){e&&(Sm=t=>t.startsWith("on")?!Ws(t):e(t))}try{Ax(require("@emotion/is-prop-valid").default)}catch{}function Nx(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Sm(i)||n===!0&&Ws(i)||!t&&!Ws(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function _x(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const ko=v.createContext({});function wi(e){return typeof e=="string"||Array.isArray(e)}function So(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Nu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_u=["initial",...Nu];function Eo(e){return So(e.animate)||_u.some(t=>wi(e[t]))}function Em(e){return!!(Eo(e)||e.variants)}function Ox(e,t){if(Eo(e)){const{initial:n,animate:r}=e;return{initial:n===!1||wi(n)?n:void 0,animate:wi(r)?r:void 0}}return e.inherit!==!1?t:{}}function Vx(e){const{initial:t,animate:n}=Ox(e,v.useContext(ko));return v.useMemo(()=>({initial:t,animate:n}),[Rd(t),Rd(n)])}function Rd(e){return Array.isArray(e)?e.join(" "):e}const Fx=Symbol.for("motionComponentSymbol");function Kn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zx(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Kn(n)&&(n.current=r))},[t])}const Ou=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bx="framerAppearId",Cm="data-"+Ou(Bx),{schedule:Vu}=wm(queueMicrotask,!1),Pm=v.createContext({});function $x(e,t,n,r,i){var s,o;const{visualElement:a}=v.useContext(ko),l=v.useContext(km),u=v.useContext(xo),c=v.useContext(Iu).reducedMotion,f=v.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const p=f.current,y=v.useContext(Pm);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&Ux(f.current,n,i,y);const S=v.useRef(!1);v.useInsertionEffect(()=>{p&&S.current&&p.update(n,u)});const w=n[Cm],E=v.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return vm(()=>{p&&(S.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Vu.render(p.render),E.current&&p.animationState&&p.animationState.animateChanges())}),v.useEffect(()=>{p&&(!E.current&&p.animationState&&p.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var h;(h=window.MotionHandoffMarkAsComplete)===null||h===void 0||h.call(window,w)}),E.current=!1))}),p}function Ux(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Tm(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Kn(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Tm(e){if(e)return e.options.allowProjection!==!1?e.projection:Tm(e.parent)}function Wx({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&Ix(e);function a(u,c){let f;const p={...v.useContext(Iu),...u,layoutId:Hx(u)},{isStatic:y}=p,S=Vx(u),w=r(u,y);if(!y&&Lu){Kx();const E=Yx(p);f=E.MeasureLayout,S.visualElement=$x(i,w,p,t,E.ProjectionNode)}return m.jsxs(ko.Provider,{value:S,children:[f&&S.visualElement?m.jsx(f,{visualElement:S.visualElement,...p}):null,n(i,u,zx(w,S.visualElement,c),w,y,S.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=v.forwardRef(a);return l[Fx]=i,l}function Hx({layoutId:e}){const t=v.useContext(Du).id;return t&&e!==void 0?t+"-"+e:e}function Kx(e,t){v.useContext(km).strict}function Yx(e){const{drag:t,layout:n}=hr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Gx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fu(e){return typeof e!="string"||e.includes("-")?!1:!!(Gx.indexOf(e)>-1||/[A-Z]/u.test(e))}function Id(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function zu(e,t,n,r){if(typeof t=="function"){const[i,s]=Id(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Id(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const gl=e=>Array.isArray(e),Xx=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Qx=e=>gl(e)?e[e.length-1]||0:e,be=e=>!!(e&&e.getVelocity);function ps(e){const t=be(e)?e.get():e;return Xx(t)?t.toValue():t}function Zx({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:qx(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const bm=e=>(t,n)=>{const r=v.useContext(ko),i=v.useContext(xo),s=()=>Zx(e,t,r,i);return n?s():Ru(s)};function qx(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=ps(s[p]);let{initial:o,animate:a}=e;const l=Eo(e),u=Em(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!So(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const S=zu(e,p[y]);if(S){const{transitionEnd:w,transition:E,...h}=S;for(const d in h){let g=h[d];if(Array.isArray(g)){const k=c?g.length-1:0;g=g[k]}g!==null&&(i[d]=g)}for(const d in w)i[d]=w[d]}}}return i}const vr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dn=new Set(vr),Mm=e=>t=>typeof t=="string"&&t.startsWith(e),jm=Mm("--"),Jx=Mm("var(--"),Bu=e=>Jx(e)?ew.test(e.split("/*")[0].trim()):!1,ew=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dm=(e,t)=>t&&typeof e=="number"?t.transform(e):e,It=(e,t,n)=>n>t?t:n<e?e:n,xr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ki={...xr,transform:e=>It(0,1,e)},es={...xr,default:1},Di=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_t=Di("deg"),vt=Di("%"),O=Di("px"),tw=Di("vh"),nw=Di("vw"),Ld={...vt,parse:e=>vt.parse(e)/100,transform:e=>vt.transform(e*100)},rw={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O},iw={rotate:_t,rotateX:_t,rotateY:_t,rotateZ:_t,scale:es,scaleX:es,scaleY:es,scaleZ:es,skew:_t,skewX:_t,skewY:_t,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:ki,originX:Ld,originY:Ld,originZ:O},Ad={...xr,transform:Math.round},$u={...rw,...iw,zIndex:Ad,size:O,fillOpacity:ki,strokeOpacity:ki,numOctaves:Ad},sw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ow=vr.length;function aw(e,t,n){let r="",i=!0;for(let s=0;s<ow;s++){const o=vr[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Dm(a,$u[o]);if(!l){i=!1;const c=sw[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Uu(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Dn.has(l)){o=!0;continue}else if(jm(l)){i[l]=u;continue}else{const c=Dm(u,$u[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=aw(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const lw={offset:"stroke-dashoffset",array:"stroke-dasharray"},uw={offset:"strokeDashoffset",array:"strokeDasharray"};function cw(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?lw:uw;e[s.offset]=O.transform(-r);const o=O.transform(t),a=O.transform(n);e[s.array]=`${o} ${a}`}function Nd(e,t,n){return typeof e=="string"?e:O.transform(t+n*e)}function dw(e,t,n){const r=Nd(t,e.x,e.width),i=Nd(n,e.y,e.height);return`${r} ${i}`}function Wu(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(Uu(e,u,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y,dimensions:S}=e;p.transform&&(S&&(y.transform=p.transform),delete p.transform),S&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=dw(S,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&cw(p,o,a,l,!1)}const Hu=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Rm=()=>({...Hu(),attrs:{}}),Ku=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Im(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Lm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Am(e,t,n,r){Im(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Lm.has(i)?i:Ou(i),t.attrs[i])}const Hs={};function fw(e){Object.assign(Hs,e)}function Nm(e,{layout:t,layoutId:n}){return Dn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hs[e]||e==="opacity")}function Yu(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(be(i[o])||t.style&&be(t.style[o])||Nm(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function _m(e,t,n){const r=Yu(e,t,n);for(const i in e)if(be(e[i])||be(t[i])){const s=vr.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function hw(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const _d=["x","y","width","height","cx","cy","r"],pw={useVisualState:bm({scrapeMotionValuesFromProps:_m,createRenderState:Rm,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(Dn.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<_d.length;a++){const l=_d[a];e[l]!==t[l]&&(o=!0)}o&&J.read(()=>{hw(n,r),J.render(()=>{Wu(r,i,Ku(n.tagName),e.transformTemplate),Am(n,r)})})}})},mw={useVisualState:bm({scrapeMotionValuesFromProps:Yu,createRenderState:Hu})};function Om(e,t,n){for(const r in t)!be(t[r])&&!Nm(r,n)&&(e[r]=t[r])}function gw({transformTemplate:e},t){return v.useMemo(()=>{const n=Hu();return Uu(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yw(e,t){const n=e.style||{},r={};return Om(r,n,e),Object.assign(r,gw(e,t)),r}function vw(e,t){const n={},r=yw(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function xw(e,t,n,r){const i=v.useMemo(()=>{const s=Rm();return Wu(s,t,Ku(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Om(s,e.style,e),i.style={...s,...i.style}}return i}function ww(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Fu(n)?xw:vw)(r,s,o,n),u=Nx(r,typeof n=="string",e),c=n!==v.Fragment?{...u,...l,ref:i}:{},{children:f}=r,p=v.useMemo(()=>be(f)?f.get():f,[f]);return v.createElement(n,{...c,children:p})}}function kw(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Fu(r)?pw:mw,preloadedFeatures:e,useRender:ww(i),createVisualElement:t,Component:r};return Wx(o)}}function Vm(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Co(e,t,n){const r=e.getProps();return zu(r,t,n!==void 0?n:r.custom,e)}const Sw=Au(()=>window.ScrollTimeline!==void 0);class Ew{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(Sw()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Cw extends Ew{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Gu(e,t){return e?e[t]||e.default||e:void 0}const yl=2e4;function Fm(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<yl;)t+=n,r=e.next(t);return t>=yl?1/0:t}function Xu(e){return typeof e=="function"}function Od(e,t){e.timeline=t,e.onfinish=null}const Qu=e=>Array.isArray(e)&&typeof e[0]=="number",Pw={linearEasing:void 0};function Tw(e,t){const n=Au(e);return()=>{var r;return(r=Pw[t])!==null&&r!==void 0?r:n()}}const Ks=Tw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zm=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(fr(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Bm(e){return!!(typeof e=="function"&&Ks()||!e||typeof e=="string"&&(e in vl||Ks())||Qu(e)||Array.isArray(e)&&e.every(Bm))}const Vr=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,vl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vr([0,.65,.55,1]),circOut:Vr([.55,0,1,.45]),backIn:Vr([.31,.01,.66,-.59]),backOut:Vr([.33,1.53,.69,.99])};function $m(e,t){if(e)return typeof e=="function"&&Ks()?zm(e,t):Qu(e)?Vr(e):Array.isArray(e)?e.map(n=>$m(n,t)||vl.easeOut):vl[e]}const st={x:!1,y:!1};function Um(){return st.x||st.y}function bw(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function Wm(e,t){const n=bw(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Vd(e){return t=>{t.pointerType==="touch"||Um()||e(t)}}function Mw(e,t,n={}){const[r,i,s]=Wm(e,n),o=Vd(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const c=Vd(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Hm=(e,t)=>t?e===t?!0:Hm(e,t.parentElement):!1,Zu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,jw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dw(e){return jw.has(e.tagName)||e.tabIndex!==-1}const Fr=new WeakSet;function Fd(e){return t=>{t.key==="Enter"&&e(t)}}function oa(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Rw=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Fd(()=>{if(Fr.has(n))return;oa(n,"down");const i=Fd(()=>{oa(n,"up")}),s=()=>oa(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function zd(e){return Zu(e)&&!Um()}function Iw(e,t,n={}){const[r,i,s]=Wm(e,n),o=a=>{const l=a.currentTarget;if(!zd(a)||Fr.has(l))return;Fr.add(l);const u=t(a),c=(y,S)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!zd(y)||!Fr.has(l))&&(Fr.delete(l),typeof u=="function"&&u(y,{success:S}))},f=y=>{c(y,n.useGlobalTarget||Hm(l,y.target))},p=y=>{c(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{!Dw(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>Rw(u,i),i)}),s}function Lw(e){return e==="x"||e==="y"?st[e]?null:(st[e]=!0,()=>{st[e]=!1}):st.x||st.y?null:(st.x=st.y=!0,()=>{st.x=st.y=!1})}const Km=new Set(["width","height","top","left","right","bottom",...vr]);let ms;function Aw(){ms=void 0}const xt={now:()=>(ms===void 0&&xt.set(we.isProcessing||jx.useManualTiming?we.timestamp:performance.now()),ms),set:e=>{ms=e,queueMicrotask(Aw)}};function qu(e,t){e.indexOf(t)===-1&&e.push(t)}function Ju(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ec{constructor(){this.subscriptions=[]}add(t){return qu(this.subscriptions,t),()=>Ju(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ym(e,t){return t?e*(1e3/t):0}const Bd=30,Nw=e=>!isNaN(parseFloat(e));class _w{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=xt.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=xt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Nw(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ec);const r=this.events[t].add(n);return t==="change"?()=>{r(),J.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Bd)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bd);return Ym(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Si(e,t){return new _w(e,t)}function Ow(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Si(n))}function Vw(e,t){const n=Co(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Qx(s[o]);Ow(e,o,a)}}function Fw(e){return!!(be(e)&&e.add)}function xl(e,t){const n=e.getValue("willChange");if(Fw(n))return n.add(t)}function Gm(e){return e.props[Cm]}const Xm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,zw=1e-7,Bw=12;function $w(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Xm(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>zw&&++a<Bw);return o}function Ri(e,t,n,r){if(e===t&&n===r)return $e;const i=s=>$w(s,0,1,e,n);return s=>s===0||s===1?s:Xm(i(s),t,r)}const Qm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Zm=e=>t=>1-e(1-t),qm=Ri(.33,1.53,.69,.99),tc=Zm(qm),Jm=Qm(tc),e0=e=>(e*=2)<1?.5*tc(e):.5*(2-Math.pow(2,-10*(e-1))),nc=e=>1-Math.sin(Math.acos(e)),t0=Zm(nc),n0=Qm(nc),r0=e=>/^0[^.\s]+$/u.test(e);function Uw(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||r0(e):!0}const Qr=e=>Math.round(e*1e5)/1e5,rc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ww(e){return e==null}const Hw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ic=(e,t)=>n=>!!(typeof n=="string"&&Hw.test(n)&&n.startsWith(e)||t&&!Ww(n)&&Object.prototype.hasOwnProperty.call(n,t)),i0=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(rc);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Kw=e=>It(0,255,e),aa={...xr,transform:e=>Math.round(Kw(e))},yn={test:ic("rgb","red"),parse:i0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+aa.transform(e)+", "+aa.transform(t)+", "+aa.transform(n)+", "+Qr(ki.transform(r))+")"};function Yw(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const wl={test:ic("#"),parse:Yw,transform:yn.transform},Yn={test:ic("hsl","hue"),parse:i0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+vt.transform(Qr(t))+", "+vt.transform(Qr(n))+", "+Qr(ki.transform(r))+")"},Pe={test:e=>yn.test(e)||wl.test(e)||Yn.test(e),parse:e=>yn.test(e)?yn.parse(e):Yn.test(e)?Yn.parse(e):wl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?yn.transform(e):Yn.transform(e)},Gw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xw(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(rc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Gw))===null||n===void 0?void 0:n.length)||0)>0}const s0="number",o0="color",Qw="var",Zw="var(",$d="${}",qw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ei(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(qw,l=>(Pe.test(l)?(r.color.push(s),i.push(o0),n.push(Pe.parse(l))):l.startsWith(Zw)?(r.var.push(s),i.push(Qw),n.push(l)):(r.number.push(s),i.push(s0),n.push(parseFloat(l))),++s,$d)).split($d);return{values:n,split:a,indexes:r,types:i}}function a0(e){return Ei(e).values}function l0(e){const{split:t,types:n}=Ei(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===s0?s+=Qr(i[o]):a===o0?s+=Pe.transform(i[o]):s+=i[o]}return s}}const Jw=e=>typeof e=="number"?0:e;function e1(e){const t=a0(e);return l0(e)(t.map(Jw))}const en={test:Xw,parse:a0,createTransformer:l0,getAnimatableNone:e1},t1=new Set(["brightness","contrast","saturate","opacity"]);function n1(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(rc)||[];if(!r)return e;const i=n.replace(r,"");let s=t1.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const r1=/\b([a-z-]*)\(.*?\)/gu,kl={...en,getAnimatableNone:e=>{const t=e.match(r1);return t?t.map(n1).join(" "):e}},i1={...$u,color:Pe,backgroundColor:Pe,outlineColor:Pe,fill:Pe,stroke:Pe,borderColor:Pe,borderTopColor:Pe,borderRightColor:Pe,borderBottomColor:Pe,borderLeftColor:Pe,filter:kl,WebkitFilter:kl},sc=e=>i1[e];function u0(e,t){let n=sc(e);return n!==kl&&(n=en),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const s1=new Set(["auto","none","0"]);function o1(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!s1.has(s)&&Ei(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=u0(n,i)}const Ud=e=>e===xr||e===O,Wd=(e,t)=>parseFloat(e.split(", ")[t]),Hd=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Wd(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?Wd(s[1],e):0}},a1=new Set(["x","y","z"]),l1=vr.filter(e=>!a1.has(e));function u1(e){const t=[];return l1.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const pr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Hd(4,13),y:Hd(5,14)};pr.translateX=pr.x;pr.translateY=pr.y;const wn=new Set;let Sl=!1,El=!1;function c0(){if(El){const e=Array.from(wn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=u1(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}El=!1,Sl=!1,wn.forEach(e=>e.complete()),wn.clear()}function d0(){wn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(El=!0)})}function c1(){d0(),c0()}class oc{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wn.add(this),Sl||(Sl=!0,J.read(d0),J.resolveKeyframes(c0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),wn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const f0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),d1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f1(e){const t=d1.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function h0(e,t,n=1){const[r,i]=f1(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return f0(o)?parseFloat(o):o}return Bu(i)?h0(i,t,n+1):i}const p0=e=>t=>t.test(e),h1={test:e=>e==="auto",parse:e=>e},m0=[xr,O,vt,_t,nw,tw,h1],Kd=e=>m0.find(p0(e));class g0 extends oc{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Bu(u))){const c=h0(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Km.has(r)||t.length!==2)return;const[i,s]=t,o=Kd(i),a=Kd(s);if(o!==a)if(Ud(o)&&Ud(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)Uw(t[i])&&r.push(i);r.length&&o1(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=pr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Yd=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(en.test(e)||e==="0")&&!e.startsWith("url("));function p1(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function m1(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=Yd(i,t),a=Yd(s,t);return!o||!a?!1:p1(e)||(n==="spring"||Xu(n))&&r}const g1=e=>e!==null;function Po(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(g1),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const y1=40;class y0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=xt.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>y1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&c1(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=xt.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!m1(t,r,i,s))if(o)this.options.duration=0;else{l&&l(Po(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const se=(e,t,n)=>e+(t-e)*n;function la(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function v1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=la(l,a,e+1/3),s=la(l,a,e),o=la(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ys(e,t){return n=>n>0?t:e}const ua=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},x1=[wl,yn,Yn],w1=e=>x1.find(t=>t.test(e));function Gd(e){const t=w1(e);if(!t)return!1;let n=t.parse(e);return t===Yn&&(n=v1(n)),n}const Xd=(e,t)=>{const n=Gd(e),r=Gd(t);if(!n||!r)return Ys(e,t);const i={...n};return s=>(i.red=ua(n.red,r.red,s),i.green=ua(n.green,r.green,s),i.blue=ua(n.blue,r.blue,s),i.alpha=se(n.alpha,r.alpha,s),yn.transform(i))},k1=(e,t)=>n=>t(e(n)),Ii=(...e)=>e.reduce(k1),Cl=new Set(["none","hidden"]);function S1(e,t){return Cl.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function E1(e,t){return n=>se(e,t,n)}function ac(e){return typeof e=="number"?E1:typeof e=="string"?Bu(e)?Ys:Pe.test(e)?Xd:T1:Array.isArray(e)?v0:typeof e=="object"?Pe.test(e)?Xd:C1:Ys}function v0(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>ac(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function C1(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=ac(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function P1(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const T1=(e,t)=>{const n=en.createTransformer(t),r=Ei(e),i=Ei(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Cl.has(e)&&!i.values.length||Cl.has(t)&&!r.values.length?S1(e,t):Ii(v0(P1(r,i),i.values),n):Ys(e,t)};function x0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?se(e,t,n):ac(e)(e,t)}const b1=5;function w0(e,t,n){const r=Math.max(t-b1,0);return Ym(n-e(r),t-r)}const le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qd=.001;function M1({duration:e=le.duration,bounce:t=le.bounce,velocity:n=le.velocity,mass:r=le.mass}){let i,s,o=1-t;o=It(le.minDamping,le.maxDamping,o),e=It(le.minDuration,le.maxDuration,bt(e)),o<1?(i=u=>{const c=u*o,f=c*e,p=c-n,y=Pl(u,o),S=Math.exp(-f);return Qd-p/y*S},s=u=>{const f=u*o*e,p=f*n+n,y=Math.pow(o,2)*Math.pow(u,2)*e,S=Math.exp(-f),w=Pl(Math.pow(u,2),o);return(-i(u)+Qd>0?-1:1)*((p-y)*S)/w}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-.001+c*f},s=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=D1(i,s,a);if(e=Tt(e),isNaN(l))return{stiffness:le.stiffness,damping:le.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const j1=12;function D1(e,t,n){let r=n;for(let i=1;i<j1;i++)r=r-e(r)/t(r);return r}function Pl(e,t){return e*Math.sqrt(1-t*t)}const R1=["duration","bounce"],I1=["stiffness","damping","mass"];function Zd(e,t){return t.some(n=>e[n]!==void 0)}function L1(e){let t={velocity:le.velocity,stiffness:le.stiffness,damping:le.damping,mass:le.mass,isResolvedFromDuration:!1,...e};if(!Zd(e,I1)&&Zd(e,R1))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*It(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:le.mass,stiffness:i,damping:s}}else{const n=M1(e);t={...t,...n,mass:le.mass},t.isResolvedFromDuration=!0}return t}function k0(e=le.visualDuration,t=le.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:p,isResolvedFromDuration:y}=L1({...n,velocity:-bt(n.velocity||0)}),S=p||0,w=u/(2*Math.sqrt(l*c)),E=o-s,h=bt(Math.sqrt(l/c)),d=Math.abs(E)<5;r||(r=d?le.restSpeed.granular:le.restSpeed.default),i||(i=d?le.restDelta.granular:le.restDelta.default);let g;if(w<1){const x=Pl(h,w);g=C=>{const b=Math.exp(-w*h*C);return o-b*((S+w*h*E)/x*Math.sin(x*C)+E*Math.cos(x*C))}}else if(w===1)g=x=>o-Math.exp(-h*x)*(E+(S+h*E)*x);else{const x=h*Math.sqrt(w*w-1);g=C=>{const b=Math.exp(-w*h*C),P=Math.min(x*C,300);return o-b*((S+w*h*E)*Math.sinh(P)+x*E*Math.cosh(P))/x}}const k={calculatedDuration:y&&f||null,next:x=>{const C=g(x);if(y)a.done=x>=f;else{let b=0;w<1&&(b=x===0?Tt(S):w0(g,x,C));const P=Math.abs(b)<=r,R=Math.abs(o-C)<=i;a.done=P&&R}return a.value=a.done?o:C,a},toString:()=>{const x=Math.min(Fm(k),yl),C=zm(b=>k.next(x*b).value,x,30);return x+"ms "+C}};return k}function qd({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],p={done:!1,value:f},y=P=>a!==void 0&&P<a||l!==void 0&&P>l,S=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let w=n*t;const E=f+w,h=o===void 0?E:o(E);h!==E&&(w=h-f);const d=P=>-w*Math.exp(-P/r),g=P=>h+d(P),k=P=>{const R=d(P),M=g(P);p.done=Math.abs(R)<=u,p.value=p.done?h:M};let x,C;const b=P=>{y(p.value)&&(x=P,C=k0({keyframes:[p.value,S(p.value)],velocity:w0(g,P,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return b(0),{calculatedDuration:null,next:P=>{let R=!1;return!C&&x===void 0&&(R=!0,k(P),b(P)),x!==void 0&&P>=x?C.next(P-x):(!R&&k(P),p)}}}const A1=Ri(.42,0,1,1),N1=Ri(0,0,.58,1),S0=Ri(.42,0,.58,1),_1=e=>Array.isArray(e)&&typeof e[0]!="number",O1={linear:$e,easeIn:A1,easeInOut:S0,easeOut:N1,circIn:nc,circInOut:n0,circOut:t0,backIn:tc,backInOut:Jm,backOut:qm,anticipate:e0},Jd=e=>{if(Qu(e)){xm(e.length===4);const[t,n,r,i]=e;return Ri(t,n,r,i)}else if(typeof e=="string")return O1[e];return e};function V1(e,t,n){const r=[],i=n||x0,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||$e:t;a=Ii(l,a)}r.push(a)}return r}function F1(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(xm(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=V1(t,r,i),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const p=fr(e[f],e[f+1],c);return a[f](p)};return n?c=>u(It(e[0],e[s-1],c)):u}function z1(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=fr(0,t,r);e.push(se(n,1,i))}}function B1(e){const t=[0];return z1(t,e.length-1),t}function $1(e,t){return e.map(n=>n*t)}function U1(e,t){return e.map(()=>t||S0).splice(0,e.length-1)}function Gs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=_1(r)?r.map(Jd):Jd(r),s={done:!1,value:t[0]},o=$1(n&&n.length===t.length?n:B1(t),e),a=F1(o,t,{ease:Array.isArray(i)?i:U1(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const W1=e=>{const t=({timestamp:n})=>e(n);return{start:()=>J.update(t,!0),stop:()=>Jt(t),now:()=>we.isProcessing?we.timestamp:xt.now()}},H1={decay:qd,inertia:qd,tween:Gs,keyframes:Gs,spring:k0},K1=e=>e/100;class lc extends y0{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||oc,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Xu(n)?n:H1[n]||Gs;let l,u;a!==Gs&&typeof t[0]!="number"&&(l=Ii(K1,x0(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});s==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Fm(c));const{calculatedDuration:f}=c,p=f+i,y=p*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:y,repeatType:S,repeatDelay:w,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const h=this.currentTime-p*(this.speed>=0?1:-1),d=this.speed>=0?h<0:h>c;this.currentTime=Math.max(h,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let g=this.currentTime,k=s;if(y){const P=Math.min(this.currentTime,c)/f;let R=Math.floor(P),M=P%1;!M&&P>=1&&(M=1),M===1&&R--,R=Math.min(R,y+1),!!(R%2)&&(S==="reverse"?(M=1-M,w&&(M-=w/f)):S==="mirror"&&(k=o)),g=It(0,1,M)*f}const x=d?{done:!1,value:l[0]}:k.next(g);a&&(x.value=a(x.value));let{done:C}=x;!d&&u!==null&&(C=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return b&&i!==void 0&&(x.value=Po(l,this.options,i)),E&&E(x.value),b&&this.finish(),x}get duration(){const{resolved:t}=this;return t?bt(t.calculatedDuration):0}get time(){return bt(this.currentTime)}set time(t){t=Tt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=bt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=W1,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Y1=new Set(["opacity","clipPath","filter","transform"]);function G1(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=$m(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const X1=Au(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xs=10,Q1=2e4;function Z1(e){return Xu(e.type)||e.type==="spring"||!Bm(e.ease)}function q1(e,t){const n=new lc({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<Q1;)r=n.sample(s),i.push(r.value),s+=Xs;return{times:void 0,keyframes:i,duration:s-Xs,ease:"linear"}}const E0={anticipate:e0,backInOut:Jm,circInOut:n0};function J1(e){return e in E0}class ef extends y0{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new g0(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Ks()&&J1(s)&&(s=E0[s]),Z1(this.options)){const{onComplete:f,onUpdate:p,motionValue:y,element:S,...w}=this.options,E=q1(t,w);t=E.keyframes,t.length===1&&(t[1]=t[0]),r=E.duration,i=E.times,s=E.ease,o="keyframes"}const c=G1(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(Od(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(Po(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return bt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return bt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Tt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return $e;const{animation:r}=n;Od(r,t)}return $e}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:p,...y}=this.options,S=new lc({...y,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),w=Tt(this.time);u.setWithVelocity(S.sample(w-Xs).value,S.sample(w).value,Xs)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return X1()&&r&&Y1.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const e2={type:"spring",stiffness:500,damping:25,restSpeed:10},t2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),n2={type:"keyframes",duration:.8},r2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i2=(e,{keyframes:t})=>t.length>2?n2:Dn.has(e)?e.startsWith("scale")?t2(t[1]):e2:r2;function s2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const uc=(e,t,n,r={},i,s)=>o=>{const a=Gu(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Tt(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};s2(a)||(c={...c,...i2(e,c)}),c.duration&&(c.duration=Tt(c.duration)),c.repeatDelay&&(c.repeatDelay=Tt(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const p=Po(c.keyframes,a);if(p!==void 0)return J.update(()=>{c.onUpdate(p),c.onComplete()}),new Cw([])}return!s&&ef.supports(c)?new ef(c):new lc(c)};function o2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function C0(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const p=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),y=l[f];if(y===void 0||c&&o2(c,f))continue;const S={delay:n,...Gu(o||{},f)};let w=!1;if(window.MotionHandoffAnimation){const h=Gm(e);if(h){const d=window.MotionHandoffAnimation(h,f,J);d!==null&&(S.startTime=d,w=!0)}}xl(e,f),p.start(uc(f,p,y,e.shouldReduceMotion&&Km.has(f)?{type:!1}:S,e,w));const E=p.animation;E&&u.push(E)}return a&&Promise.all(u).then(()=>{J.update(()=>{a&&Vw(e,a)})}),u}function Tl(e,t,n={}){var r;const i=Co(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(C0(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:p}=s;return a2(e,t,c+u,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function a2(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(l2).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(Tl(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function l2(e,t){return e.sortNodePosition(t)}function u2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Tl(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Tl(e,t,n);else{const i=typeof t=="function"?Co(e,t,n.custom):t;r=Promise.all(C0(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const c2=_u.length;function P0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?P0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<c2;n++){const r=_u[n],i=e.props[r];(wi(i)||i===!1)&&(t[r]=i)}return t}const d2=[...Nu].reverse(),f2=Nu.length;function h2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>u2(e,n,r)))}function p2(e){let t=h2(e),n=tf(),r=!0;const i=l=>(u,c)=>{var f;const p=Co(e,c,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:y,transitionEnd:S,...w}=p;u={...u,...w,...S}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=P0(e.parent)||{},f=[],p=new Set;let y={},S=1/0;for(let E=0;E<f2;E++){const h=d2[E],d=n[h],g=u[h]!==void 0?u[h]:c[h],k=wi(g),x=h===l?d.isActive:null;x===!1&&(S=E);let C=g===c[h]&&g!==u[h]&&k;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),d.protectedKeys={...y},!d.isActive&&x===null||!g&&!d.prevProp||So(g)||typeof g=="boolean")continue;const b=m2(d.prevProp,g);let P=b||h===l&&d.isActive&&!C&&k||E>S&&k,R=!1;const M=Array.isArray(g)?g:[g];let I=M.reduce(i(h),{});x===!1&&(I={});const{prevResolvedValues:F={}}=d,B={...F,...I},U=K=>{P=!0,p.has(K)&&(R=!0,p.delete(K)),d.needsAnimating[K]=!0;const T=e.getValue(K);T&&(T.liveStyle=!1)};for(const K in B){const T=I[K],V=F[K];if(y.hasOwnProperty(K))continue;let z=!1;gl(T)&&gl(V)?z=!Vm(T,V):z=T!==V,z?T!=null?U(K):p.add(K):T!==void 0&&p.has(K)?U(K):d.protectedKeys[K]=!0}d.prevProp=g,d.prevResolvedValues=I,d.isActive&&(y={...y,...I}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(C&&b)||R)&&f.push(...M.map(K=>({animation:K,options:{type:h}})))}if(p.size){const E={};p.forEach(h=>{const d=e.getBaseTarget(h),g=e.getValue(h);g&&(g.liveStyle=!0),E[h]=d??null}),f.push({animation:E})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=tf(),r=!0}}}function m2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Vm(t,e):!1}function ln(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tf(){return{animate:ln(!0),whileInView:ln(),whileHover:ln(),whileTap:ln(),whileDrag:ln(),whileFocus:ln(),exit:ln()}}class on{constructor(t){this.isMounted=!1,this.node=t}update(){}}class g2 extends on{constructor(t){super(t),t.animationState||(t.animationState=p2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();So(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let y2=0;class v2 extends on{constructor(){super(...arguments),this.id=y2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const x2={animation:{Feature:g2},exit:{Feature:v2}};function Ci(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Li(e){return{point:{x:e.pageX,y:e.pageY}}}const w2=e=>t=>Zu(t)&&e(t,Li(t));function Zr(e,t,n,r){return Ci(e,t,w2(n),r)}const nf=(e,t)=>Math.abs(e-t);function k2(e,t){const n=nf(e.x,t.x),r=nf(e.y,t.y);return Math.sqrt(n**2+r**2)}class T0{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=da(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=k2(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:S}=f,{timestamp:w}=we;this.history.push({...S,timestamp:w});const{onStart:E,onMove:h}=this.handlers;p||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),h&&h(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ca(p,this.transformPagePoint),J.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:S,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=da(f.type==="pointercancel"?this.lastMoveEventInfo:ca(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,E),S&&S(f,E)},!Zu(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Li(t),a=ca(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=we;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,da(a,this.history)),this.removeListeners=Ii(Zr(this.contextWindow,"pointermove",this.handlePointerMove),Zr(this.contextWindow,"pointerup",this.handlePointerUp),Zr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Jt(this.updatePoint)}}function ca(e,t){return t?{point:t(e.point)}:e}function rf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function da({point:e},t){return{point:e,delta:rf(e,b0(t)),offset:rf(e,S2(t)),velocity:E2(t,.1)}}function S2(e){return e[0]}function b0(e){return e[e.length-1]}function E2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=b0(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Tt(t)));)n--;if(!r)return{x:0,y:0};const s=bt(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const M0=1e-4,C2=1-M0,P2=1+M0,j0=.01,T2=0-j0,b2=0+j0;function Ke(e){return e.max-e.min}function M2(e,t,n){return Math.abs(e-t)<=n}function sf(e,t,n,r=.5){e.origin=r,e.originPoint=se(t.min,t.max,e.origin),e.scale=Ke(n)/Ke(t),e.translate=se(n.min,n.max,e.origin)-e.originPoint,(e.scale>=C2&&e.scale<=P2||isNaN(e.scale))&&(e.scale=1),(e.translate>=T2&&e.translate<=b2||isNaN(e.translate))&&(e.translate=0)}function qr(e,t,n,r){sf(e.x,t.x,n.x,r?r.originX:void 0),sf(e.y,t.y,n.y,r?r.originY:void 0)}function of(e,t,n){e.min=n.min+t.min,e.max=e.min+Ke(t)}function j2(e,t,n){of(e.x,t.x,n.x),of(e.y,t.y,n.y)}function af(e,t,n){e.min=t.min-n.min,e.max=e.min+Ke(t)}function Jr(e,t,n){af(e.x,t.x,n.x),af(e.y,t.y,n.y)}function D2(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?se(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?se(n,e,r.max):Math.min(e,n)),e}function lf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function R2(e,{top:t,left:n,bottom:r,right:i}){return{x:lf(e.x,n,i),y:lf(e.y,t,r)}}function uf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function I2(e,t){return{x:uf(e.x,t.x),y:uf(e.y,t.y)}}function L2(e,t){let n=.5;const r=Ke(e),i=Ke(t);return i>r?n=fr(t.min,t.max-r,e.min):r>i&&(n=fr(e.min,e.max-i,t.min)),It(0,1,n)}function A2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const bl=.35;function N2(e=bl){return e===!1?e=0:e===!0&&(e=bl),{x:cf(e,"left","right"),y:cf(e,"top","bottom")}}function cf(e,t,n){return{min:df(e,t),max:df(e,n)}}function df(e,t){return typeof e=="number"?e:e[t]||0}const ff=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gn=()=>({x:ff(),y:ff()}),hf=()=>({min:0,max:0}),de=()=>({x:hf(),y:hf()});function Qe(e){return[e("x"),e("y")]}function D0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function O2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fa(e){return e===void 0||e===1}function Ml({scale:e,scaleX:t,scaleY:n}){return!fa(e)||!fa(t)||!fa(n)}function fn(e){return Ml(e)||R0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function R0(e){return pf(e.x)||pf(e.y)}function pf(e){return e&&e!=="0%"}function Qs(e,t,n){const r=e-n,i=t*r;return n+i}function mf(e,t,n,r,i){return i!==void 0&&(e=Qs(e,i,r)),Qs(e,n,r)+t}function jl(e,t=0,n=1,r,i){e.min=mf(e.min,t,n,r,i),e.max=mf(e.max,t,n,r,i)}function I0(e,{x:t,y:n}){jl(e.x,t.translate,t.scale,t.originPoint),jl(e.y,n.translate,n.scale,n.originPoint)}const gf=.999999999999,yf=1.0000000000001;function V2(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qn(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,I0(e,o)),r&&fn(s.latestValues)&&Qn(e,s.latestValues))}t.x<yf&&t.x>gf&&(t.x=1),t.y<yf&&t.y>gf&&(t.y=1)}function Xn(e,t){e.min=e.min+t,e.max=e.max+t}function vf(e,t,n,r,i=.5){const s=se(e.min,e.max,i);jl(e,t,n,s,r)}function Qn(e,t){vf(e.x,t.x,t.scaleX,t.scale,t.originX),vf(e.y,t.y,t.scaleY,t.scale,t.originY)}function L0(e,t){return D0(O2(e.getBoundingClientRect(),t))}function F2(e,t,n){const r=L0(e,n),{scroll:i}=t;return i&&(Xn(r.x,i.offset.x),Xn(r.y,i.offset.y)),r}const A0=({current:e})=>e?e.ownerDocument.defaultView:null,z2=new WeakMap;class B2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=de(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Li(c).point)},s=(c,f)=>{const{drag:p,dragPropagation:y,onDragStart:S}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lw(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(E=>{let h=this.getAxisMotionValue(E).get()||0;if(vt.test(h)){const{projection:d}=this.visualElement;if(d&&d.layout){const g=d.layout.layoutBox[E];g&&(h=Ke(g)*(parseFloat(h)/100))}}this.originPoint[E]=h}),S&&J.postRender(()=>S(c,f)),xl(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:S,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:E}=f;if(y&&this.currentDirection===null){this.currentDirection=$2(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),w&&w(c,f)},a=(c,f)=>this.stop(c,f),l=()=>Qe(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new T0(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:A0(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&J.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!ts(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=D2(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Kn(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=R2(i.layoutBox,n):this.constraints=!1,this.elastic=N2(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qe(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=A2(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Kn(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=F2(r,i.root,this.visualElement.getTransformPagePoint());let o=I2(i.layout.layoutBox,s);if(n){const a=n(_2(o));this.hasMutatedConstraints=!!a,a&&(o=D0(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Qe(c=>{if(!ts(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,S={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,S)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return xl(this.visualElement,t),r.start(uc(t,r,0,n,this.visualElement,!1))}stopAnimation(){Qe(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qe(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Qe(n=>{const{drag:r}=this.getProps();if(!ts(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-se(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Kn(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qe(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=L2({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qe(o=>{if(!ts(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(se(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;z2.set(this.visualElement,this);const t=this.visualElement.current,n=Zr(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Kn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),J.read(r);const o=Ci(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qe(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=bl,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ts(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class U2 extends on{constructor(t){super(t),this.removeGroupControls=$e,this.removeListeners=$e,this.controls=new B2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$e}unmount(){this.removeGroupControls(),this.removeListeners()}}const xf=e=>(t,n)=>{e&&J.postRender(()=>e(t,n))};class W2 extends on{constructor(){super(...arguments),this.removePointerDownListener=$e}onPointerDown(t){this.session=new T0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xf(t),onStart:xf(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&J.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Zr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(O.test(e))e=parseFloat(e);else return e;const n=wf(e,t.target.x),r=wf(e,t.target.y);return`${n}% ${r}%`}},H2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=en.parse(e);if(i.length>5)return r;const s=en.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=se(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class K2 extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;fw(Y2),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),gs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||J.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vu.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function N0(e){const[t,n]=ym(),r=v.useContext(Du);return m.jsx(K2,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(Pm),isPresent:t,safeToRemove:n})}const Y2={borderRadius:{...Lr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lr,borderTopRightRadius:Lr,borderBottomLeftRadius:Lr,borderBottomRightRadius:Lr,boxShadow:H2};function G2(e,t,n){const r=be(e)?e:Si(e);return r.start(uc("",r,t,n)),r.animation}function X2(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Q2=(e,t)=>e.depth-t.depth;class Z2{constructor(){this.children=[],this.isDirty=!1}add(t){qu(this.children,t),this.isDirty=!0}remove(t){Ju(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Q2),this.isDirty=!1,this.children.forEach(t)}}function q2(e,t){const n=xt.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Jt(r),e(s-t))};return J.read(r,!0),()=>Jt(r)}const _0=["TopLeft","TopRight","BottomLeft","BottomRight"],J2=_0.length,kf=e=>typeof e=="string"?parseFloat(e):e,Sf=e=>typeof e=="number"||O.test(e);function ek(e,t,n,r,i,s){i?(e.opacity=se(0,n.opacity!==void 0?n.opacity:1,tk(r)),e.opacityExit=se(t.opacity!==void 0?t.opacity:1,0,nk(r))):s&&(e.opacity=se(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<J2;o++){const a=`border${_0[o]}Radius`;let l=Ef(t,a),u=Ef(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Sf(l)===Sf(u)?(e[a]=Math.max(se(kf(l),kf(u),r),0),(vt.test(u)||vt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=se(t.rotate||0,n.rotate||0,r))}function Ef(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tk=O0(0,.5,t0),nk=O0(.5,.95,$e);function O0(e,t,n){return r=>r<e?0:r>t?1:n(fr(e,t,r))}function Cf(e,t){e.min=t.min,e.max=t.max}function Xe(e,t){Cf(e.x,t.x),Cf(e.y,t.y)}function Pf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tf(e,t,n,r,i){return e-=t,e=Qs(e,1/n,r),i!==void 0&&(e=Qs(e,1/i,r)),e}function rk(e,t=0,n=1,r=.5,i,s=e,o=e){if(vt.test(t)&&(t=parseFloat(t),t=se(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=se(s.min,s.max,r);e===s&&(a-=t),e.min=Tf(e.min,t,n,a,i),e.max=Tf(e.max,t,n,a,i)}function bf(e,t,[n,r,i],s,o){rk(e,t[n],t[r],t[i],t.scale,s,o)}const ik=["x","scaleX","originX"],sk=["y","scaleY","originY"];function Mf(e,t,n,r){bf(e.x,t,ik,n?n.x:void 0,r?r.x:void 0),bf(e.y,t,sk,n?n.y:void 0,r?r.y:void 0)}function jf(e){return e.translate===0&&e.scale===1}function V0(e){return jf(e.x)&&jf(e.y)}function Df(e,t){return e.min===t.min&&e.max===t.max}function ok(e,t){return Df(e.x,t.x)&&Df(e.y,t.y)}function Rf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function F0(e,t){return Rf(e.x,t.x)&&Rf(e.y,t.y)}function If(e){return Ke(e.x)/Ke(e.y)}function Lf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ak{constructor(){this.members=[]}add(t){qu(this.members,t),t.scheduleRender()}remove(t){if(Ju(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lk(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:p,skewX:y,skewY:S}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const hn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zr=typeof window<"u"&&window.MotionDebug!==void 0,ha=["","X","Y","Z"],uk={visibility:"hidden"},Af=1e3;let ck=0;function pa(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function z0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Gm(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",J,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&z0(r)}function B0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=ck++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zr&&(hn.totalNodes=hn.resolvedTargetDeltas=hn.recalculatedProjection=0),this.nodes.forEach(hk),this.nodes.forEach(vk),this.nodes.forEach(xk),this.nodes.forEach(pk),zr&&window.MotionDebug.record(hn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z2)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ec),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=X2(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=q2(p,250),gs.hasAnimatedSinceResize&&(gs.hasAnimatedSinceResize=!1,this.nodes.forEach(_f))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||Ck,{onLayoutAnimationStart:E,onLayoutAnimationComplete:h}=c.getProps(),d=!this.targetLayout||!F0(this.targetLayout,S)||y,g=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||p&&(d||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const k={...Gu(w,"layout"),onPlay:E,onComplete:h};(c.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||_f(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Jt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&z0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nf);return}this.isUpdating||this.nodes.forEach(gk),this.isUpdating=!1,this.nodes.forEach(yk),this.nodes.forEach(dk),this.nodes.forEach(fk),this.clearAllSnapshots();const a=xt.now();we.delta=It(0,1e3/60,a-we.timestamp),we.timestamp=a,we.isProcessing=!0,sa.update.process(we),sa.preRender.process(we),sa.render.process(we),we.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mk),this.sharedNodes.forEach(kk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,J.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){J.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=de(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!V0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||fn(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Pk(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return de();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Tk))){const{scroll:c}=this.root;c&&(Xn(l.x,c.offset.x),Xn(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=de();if(Xe(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:p}=c;c!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Xe(l,o),Xn(l.x,f.offset.x),Xn(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=de();Xe(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Qn(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),fn(c.latestValues)&&Qn(l,c.latestValues)}return fn(this.latestValues)&&Qn(l,this.latestValues),l}removeTransform(o){const a=de();Xe(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!fn(u.latestValues))continue;Ml(u.latestValues)&&u.updateSnapshot();const c=de(),f=u.measurePageBox();Xe(c,f),Mf(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return fn(this.latestValues)&&Mf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==we.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=we.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),Jr(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Xe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=de(),this.targetWithTransforms=de()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xe(this.target,this.layout.layoutBox),I0(this.target,this.targetDelta)):Xe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),Jr(this.relativeTargetOrigin,this.target,y.target),Xe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zr&&hn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ml(this.parent.latestValues)||R0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===we.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Xe(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;V2(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=de());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pf(this.prevProjectionDelta.x,this.projectionDelta.x),Pf(this.prevProjectionDelta.y,this.projectionDelta.y)),qr(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!Lf(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),zr&&hn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gn(),this.projectionDelta=Gn(),this.projectionDeltaWithTransform=Gn()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Gn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=de(),y=l?l.source:void 0,S=this.layout?this.layout.source:void 0,w=y!==S,E=this.getStack(),h=!E||E.members.length<=1,d=!!(w&&!h&&this.options.crossfade===!0&&!this.path.some(Ek));this.animationProgress=0;let g;this.mixTargetDelta=k=>{const x=k/1e3;Of(f.x,o.x,x),Of(f.y,o.y,x),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jr(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sk(this.relativeTarget,this.relativeTargetOrigin,p,x),g&&ok(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=de()),Xe(g,this.relativeTarget)),w&&(this.animationValues=c,ek(c,u,this.latestValues,x,d,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Jt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=J.update(()=>{gs.hasAnimatedSinceResize=!0,this.currentAnimation=G2(0,Af,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Af),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&$0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||de();const f=Ke(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Ke(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Xe(a,l),Qn(a,c),qr(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ak),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&pa("z",o,u,this.animationValues);for(let c=0;c<ha.length;c++)pa(`rotate${ha[c]}`,o,u,this.animationValues),pa(`skew${ha[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uk;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ps(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ps(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fn(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=lk(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:y,y:S}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${S.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Hs){if(p[w]===void 0)continue;const{correct:E,applyTo:h}=Hs[w],d=u.transform==="none"?p[w]:E(p[w],f);if(h){const g=h.length;for(let k=0;k<g;k++)u[h[k]]=d}else u[w]=d}return this.options.layoutId&&(u.pointerEvents=f===this?ps(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Nf),this.root.sharedNodes.clear()}}}function dk(e){e.updateLayout()}function fk(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Qe(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],y=Ke(p);p.min=r[f].min,p.max=p.min+y}):$0(s,n.layoutBox,r)&&Qe(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],y=Ke(r[f]);p.max=p.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const a=Gn();qr(a,r,n.layoutBox);const l=Gn();o?qr(l,e.applyTransform(i,!0),n.measuredBox):qr(l,r,n.layoutBox);const u=!V0(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const S=de();Jr(S,n.layoutBox,p.layoutBox);const w=de();Jr(w,r,y.layoutBox),F0(S,w)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=S,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hk(e){zr&&hn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mk(e){e.clearSnapshot()}function Nf(e){e.clearMeasurements()}function gk(e){e.isLayoutDirty=!1}function yk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _f(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vk(e){e.resolveTargetDelta()}function xk(e){e.calcProjection()}function wk(e){e.resetSkewAndRotation()}function kk(e){e.removeLeadSnapshot()}function Of(e,t,n){e.translate=se(t.translate,0,n),e.scale=se(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vf(e,t,n,r){e.min=se(t.min,n.min,r),e.max=se(t.max,n.max,r)}function Sk(e,t,n,r){Vf(e.x,t.x,n.x,r),Vf(e.y,t.y,n.y,r)}function Ek(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ck={duration:.45,ease:[.4,0,.1,1]},Ff=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zf=Ff("applewebkit/")&&!Ff("chrome/")?Math.round:$e;function Bf(e){e.min=zf(e.min),e.max=zf(e.max)}function Pk(e){Bf(e.x),Bf(e.y)}function $0(e,t,n){return e==="position"||e==="preserve-aspect"&&!M2(If(t),If(n),.2)}function Tk(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const bk=B0({attachResizeListener:(e,t)=>Ci(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ma={current:void 0},U0=B0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ma.current){const e=new bk({});e.mount(window),e.setOptions({layoutScroll:!0}),ma.current=e}return ma.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Mk={pan:{Feature:W2},drag:{Feature:U2,ProjectionNode:U0,MeasureLayout:N0}};function $f(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&J.postRender(()=>s(t,Li(t)))}class jk extends on{mount(){const{current:t}=this.node;t&&(this.unmount=Mw(t,n=>($f(this.node,n,"Start"),r=>$f(this.node,r,"End"))))}unmount(){}}class Dk extends on{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ii(Ci(this.node.current,"focus",()=>this.onFocus()),Ci(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Uf(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&J.postRender(()=>s(t,Li(t)))}class Rk extends on{mount(){const{current:t}=this.node;t&&(this.unmount=Iw(t,n=>(Uf(this.node,n,"Start"),(r,{success:i})=>Uf(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dl=new WeakMap,ga=new WeakMap,Ik=e=>{const t=Dl.get(e.target);t&&t(e)},Lk=e=>{e.forEach(Ik)};function Ak({root:e,...t}){const n=e||document;ga.has(n)||ga.set(n,{});const r=ga.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Lk,{root:e,...t})),r[i]}function Nk(e,t,n){const r=Ak(t);return Dl.set(e,n),r.observe(e),()=>{Dl.delete(e),r.unobserve(e)}}const _k={some:0,all:1};class Ok extends on{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_k[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return Nk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Vk(t,n))&&this.startObserver()}unmount(){}}function Vk({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fk={inView:{Feature:Ok},tap:{Feature:Rk},focus:{Feature:Dk},hover:{Feature:jk}},zk={layout:{ProjectionNode:U0,MeasureLayout:N0}},Rl={current:null},W0={current:!1};function Bk(){if(W0.current=!0,!!Lu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rl.current=e.matches;e.addListener(t),t()}else Rl.current=!1}const $k=[...m0,Pe,en],Uk=e=>$k.find(p0(e)),Wf=new WeakMap;function Wk(e,t,n){for(const r in t){const i=t[r],s=n[r];if(be(i))e.addValue(r,i);else if(be(s))e.addValue(r,Si(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Si(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Hf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Hk{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=xt.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,J.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Eo(n),this.isVariantNode=Em(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const S=p[y];l[y]!==void 0&&be(S)&&S.set(l[y],!1)}}mount(t){this.current=t,Wf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),W0.current||Bk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rl.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Wf.delete(this.current),this.projection&&this.projection.unmount(),Jt(this.notifyUpdate),Jt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Dn.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&J.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hr){const n=hr[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):de()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Hf.length;r++){const i=Hf[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Wk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Si(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(f0(i)||r0(i))?i=parseFloat(i):!Uk(i)&&en.test(n)&&(i=u0(t,n)),this.setBaseTarget(t,be(i)?i.get():i)),be(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=zu(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!be(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ec),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class H0 extends Hk{constructor(){super(...arguments),this.KeyframeResolver=g0}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;be(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Kk(e){return window.getComputedStyle(e)}class Yk extends H0{constructor(){super(...arguments),this.type="html",this.renderInstance=Im}readValueFromInstance(t,n){if(Dn.has(n)){const r=sc(n);return r&&r.default||0}else{const r=Kk(t),i=(jm(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return L0(t,n)}build(t,n,r){Uu(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Yu(t,n,r)}}class Gk extends H0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=de}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dn.has(n)){const r=sc(n);return r&&r.default||0}return n=Lm.has(n)?n:Ou(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return _m(t,n,r)}build(t,n,r){Wu(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){Am(t,n,r,i)}mount(t){this.isSVGTag=Ku(t.tagName),super.mount(t)}}const Xk=(e,t)=>Fu(e)?new Gk(t):new Yk(t,{allowProjection:e!==v.Fragment}),Qk=kw({...x2,...Fk,...Mk,...zk},Xk),tn=_x(Qk),Zk=({isOpen:e,onClose:t,totalImages:n,visibleImages:r})=>{const{exportAllImages:i,isExporting:s,exportProgress:o}=Mu(),[a,l]=v.useState({format:"png",quality:1,includeBackground:!0,backgroundColor:"#ffffff",scale:1}),[u,c]=v.useState(!1),f=v.useCallback(async()=>{try{await i(a),c(!0),setTimeout(()=>{c(!1),t()},2e3)}catch(w){console.error("Export failed:",w)}},[i,a,t]),p=v.useCallback(()=>{s||t()},[s,t]),y=[{label:"高品質",value:1,description:"最高画質（ファイルサイズ大）"},{label:"標準",value:.8,description:"バランス良好"},{label:"圧縮",value:.6,description:"ファイルサイズ小"}],S=[{label:"100%",value:1},{label:"150%",value:1.5},{label:"200%",value:2},{label:"300%",value:3}];return e?m.jsx(wo,{children:m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs(tn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-md w-full max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"ボード全体を書き出し"}),m.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx(ju,{className:"w-4 h-4"}),m.jsxs("span",{children:[r,"枚表示中"]}),n>r&&m.jsxs(m.Fragment,{children:[m.jsx(gm,{className:"w-4 h-4"}),m.jsxs("span",{children:[n-r,"枚非表示"]})]})]})]}),m.jsx("button",{onClick:p,disabled:s,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:m.jsx(xi,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"ファイル形式"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:["png","jpeg","webp"].map(w=>m.jsx("button",{onClick:()=>l({...a,format:w}),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${a.format===w?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-300 dark:hover:border-slate-500"}`,children:w.toUpperCase()},w))})]}),(a.format==="jpeg"||a.format==="webp")&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"画質"}),m.jsx("div",{className:"space-y-2",children:y.map(w=>m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"quality",value:w.value,checked:a.quality===w.value,onChange:()=>l({...a,quality:w.value}),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 dark:bg-slate-700"}),m.jsxs("span",{className:"ml-3 text-sm text-slate-700 dark:text-slate-300",children:[w.label,m.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-400",children:w.description})]})]},w.value))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"書き出しサイズ"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:S.map(w=>m.jsx("button",{onClick:()=>l({...a,scale:w.value}),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${a.scale===w.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-300 dark:hover:border-slate-500"}`,children:w.label},w.value))})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:a.includeBackground,onChange:w=>l({...a,includeBackground:w.target.checked}),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded"}),m.jsx("span",{className:"ml-3 text-sm text-slate-700 dark:text-slate-300",children:"背景色を含める"})]}),a.includeBackground&&m.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[m.jsx("input",{type:"color",value:a.backgroundColor,onChange:w=>l({...a,backgroundColor:w.target.value}),className:"w-10 h-10 rounded-lg border border-slate-300 dark:border-slate-600"}),m.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:a.backgroundColor})]})]})]}),m.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700",children:u?m.jsxs(tn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-center text-green-600 dark:text-green-400",children:[m.jsx(nx,{className:"w-5 h-5 mr-2"}),m.jsx("span",{className:"font-medium",children:"書き出し完了！"})]}):s?m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"書き出し中..."}),m.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:[Math.round(o),"%"]})]}),m.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}):m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"キャンセル"}),m.jsxs("button",{onClick:f,disabled:r===0,className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${r>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"}`,children:[m.jsx(vo,{className:"w-4 h-4 mr-2 inline"}),"書き出し"]})]})})]})})}):null},qk=()=>{const{state:e,setDragMode:t,undo:n,redo:r,toggleLayerSidebar:i,toggleDarkMode:s}=At(),[o,a]=v.useState(!1),l=e.historyIndex>0,u=e.historyIndex<e.history.length-1,c=()=>{a(!0)};return m.jsxs("header",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 px-4 py-3 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Image Canvas"}),m.jsxs("div",{className:"flex items-center space-x-1 bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>t("free"),className:`p-2 rounded-md transition-colors ${e.dragMode==="free"?"bg-blue-500 text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,title:"フリーモード - 自由移動","aria-label":"フリーモードに切り替え",children:m.jsx(lx,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>t("grid-snap"),className:`p-2 rounded-md transition-colors ${e.dragMode==="grid-snap"?"bg-blue-500 text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,title:"グリッドスナップモード - ドラッグでグリッドに自動フィット","aria-label":"グリッドスナップモードに切り替え",children:m.jsx(wx,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:n,disabled:!l,className:`p-2 rounded-md transition-colors ${l?"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700":"text-slate-300 dark:text-slate-600 cursor-not-allowed"}`,title:"元に戻す (Ctrl+Z / ⌘Z)","aria-label":"元に戻す",children:m.jsx(Zv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:r,disabled:!u,className:`p-2 rounded-md transition-colors ${u?"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700":"text-slate-300 dark:text-slate-600 cursor-not-allowed"}`,title:"やり直し (Ctrl+Shift+Z / ⌘⇧Z)","aria-label":"やり直し",children:m.jsx(Jv,{className:"w-5 h-5"})}),e.history.length>0&&m.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded min-w-[4.5rem] text-center font-mono",children:[e.historyIndex+1," / ",e.history.length]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[e.images.length>0&&m.jsxs("div",{className:"flex items-center space-x-1 text-sm text-slate-600 dark:text-slate-400",children:[m.jsx(ju,{className:"w-4 h-4"}),m.jsx("span",{children:e.images.filter(f=>f.visible).length}),m.jsx("span",{children:"/"}),m.jsx("span",{children:e.images.length})]}),m.jsxs("button",{onClick:c,disabled:e.images.length===0||e.images.filter(f=>f.visible).length===0,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.images.length>0&&e.images.filter(f=>f.visible).length>0?"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500":"bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed"}`,title:"ボード全体を書き出し","aria-label":"ボード全体書き出し",children:[m.jsx(vo,{className:"w-4 h-4 mr-1 inline"}),"書き出し"]}),m.jsx("button",{onClick:i,className:`p-2 rounded-md transition-colors ${e.layerSidebarVisible?"bg-blue-500 text-white":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700"}`,title:"レイヤーサイドバー (L)","aria-label":`レイヤーサイドバー${e.layerSidebarVisible?"非表示":"表示"}`,children:m.jsx(mm,{className:"w-5 h-5"})}),m.jsx("button",{onClick:s,className:"p-2 rounded-md text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:`${e.darkMode?"ライト":"ダーク"}モードに切り替え`,"aria-label":`${e.darkMode?"ライト":"ダーク"}モードに切り替え`,children:e.darkMode?m.jsx(Sx,{className:"w-5 h-5"}):m.jsx(gx,{className:"w-5 h-5"})})]}),m.jsx(Zk,{isOpen:o,onClose:()=>a(!1),totalImages:e.images.length,visibleImages:e.images.filter(f=>f.visible).length})]})},Jk=({className:e})=>m.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[m.jsx("rect",{x:"7",y:"7",width:"10",height:"10",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7L4 4M7 7V4M7 7H4"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17l3 3M17 17v3M17 17h3"})]}),eS=({image:e,isSelected:t,dragMode:n,onStartCrop:r,onStartDownload:i})=>{const{updateImage:s,selectImage:o,deleteImage:a,dispatch:l,reorderLayer:u,state:c}=At(),{copyImageToClipboard:f}=Mu(),p=v.useRef(null),y=v.useRef(null),S=v.useRef(null),w=v.useRef(null),E=v.useRef(null),h=v.useRef(0),d=v.useRef(null),g=v.useRef(null),k=v.useRef(typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("windows")),x=v.useRef({targetFrameTime:k.current?33.33:16.67,useSimplifiedResize:k.current,bypassComplexCalculations:k.current}),[C,b]=v.useState(!1),[P,R]=v.useState(!1),[M,I]=v.useState(!1),[F,B]=v.useState(!1),[U,ce]=v.useState(null),[Q,K]=v.useState(null),[T,V]=v.useState(null),z=v.useCallback(j=>{j.stopPropagation(),o(e.id)},[o,e.id]),re=v.useCallback(j=>{j.button===0&&(j.preventDefault(),j.stopPropagation(),o(e.id),(n==="free"||n==="grid-snap")&&(b(!0),K({x:j.clientX,y:j.clientY,imgX:e.x,imgY:e.y})))},[o,e.id,e.x,e.y,n]),ee=v.useCallback(()=>{if(g.current)return g.current;const j=document.getElementById("image-canvas");if(!j){const N={width:window.innerWidth,height:window.innerHeight};return g.current=N,N}const _=j.getBoundingClientRect(),H=8,A={width:_.width-H,height:_.height-H};return g.current=A,A},[]);v.useEffect(()=>{const j=()=>{g.current=null};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const Ve=v.useCallback((j,_=22)=>Math.round(j/_)*_,[]),rt=v.useCallback((j,_=44)=>Math.round(j/_)*_,[]),wr=v.useCallback(()=>{w.current&&(window.clearTimeout(w.current),w.current=null),I(!0)},[]),wt=v.useCallback(()=>{w.current=window.setTimeout(()=>{I(!1)},200)},[]),an=v.useCallback(()=>{w.current&&(window.clearTimeout(w.current),w.current=null),I(!0)},[]),cc=v.useCallback(()=>{w.current=window.setTimeout(()=>{I(!1)},200)},[]);v.useEffect(()=>()=>{w.current&&window.clearTimeout(w.current),E.current!==null&&(cancelAnimationFrame(E.current),E.current=null)},[]);const kr=v.useCallback(j=>{if(k.current&&P&&n==="free"){s(e.id,j);return}if(k.current&&P){s(e.id,j);return}d.current={...d.current,...j},E.current===null&&(E.current=requestAnimationFrame(()=>{const _=performance.now(),H=x.current.targetFrameTime;if(_-h.current>=H||k.current)d.current&&(s(e.id,d.current),d.current=null,h.current=_);else{E.current=requestAnimationFrame(()=>{d.current&&(s(e.id,d.current),d.current=null,h.current=performance.now()),E.current=null});return}E.current=null}))},[s,e.id,P,n]),To=v.useCallback(j=>{if(C&&Q){const _=j.clientX-Q.x,H=j.clientY-Q.y,A=ee();let N=Q.imgX+_,G=Q.imgY+H;n==="grid-snap"&&(N=rt(N),G=rt(G));const te=Math.max(0,Math.min(A.width-e.width,N)),he=Math.max(0,Math.min(A.height-e.height,G));kr({x:te,y:he})}P&&T&&K0(j)},[C,P,Q,T,n,e.id,e.width,e.height,kr,ee,rt]),K0=v.useCallback(j=>{if(!T)return;const _=j.clientX-T.x,H=j.clientY-T.y;let A=T.width,N=T.height,G=T.imgX,te=T.imgY;if(k.current&&n==="free"){switch(T.handle){case"se":A=Math.max(50,T.width+_),N=Math.max(50,T.height+H);break;case"sw":A=Math.max(50,T.width-_),N=Math.max(50,T.height+H),G=T.imgX+(T.width-A);break;case"ne":A=Math.max(50,T.width+_),N=Math.max(50,T.height-H),te=T.imgY+(T.height-N);break;case"nw":A=Math.max(50,T.width-_),N=Math.max(50,T.height-H),G=T.imgX+(T.width-A),te=T.imgY+(T.height-N);break}if(e.aspectRatioLocked&&!j.shiftKey){const he=e.originalWidth/e.originalHeight;A/N>he?A=N*he:N=A/he}G=Math.max(0,G),te=Math.max(0,te),A=Math.max(50,A),N=Math.max(50,N),kr({x:G,y:te,width:A,height:N}),k.current&&n==="free"&&Math.random()<.1&&console.log("[Windows-Free] リサイズ中:",{handle:T.handle,size:{width:A,height:N},position:{x:G,y:te}});return}if(x.current.useSimplifiedResize){switch(T.handle){case"se":A=Math.max(50,T.width+_),N=Math.max(50,T.height+H);break;case"sw":A=Math.max(50,T.width-_),N=Math.max(50,T.height+H),G=T.imgX+(T.width-A);break;case"ne":A=Math.max(50,T.width+_),N=Math.max(50,T.height-H),te=T.imgY+(T.height-N);break;case"nw":A=Math.max(50,T.width-_),N=Math.max(50,T.height-H),G=T.imgX+(T.width-A),te=T.imgY+(T.height-N);break}if(e.aspectRatioLocked&&!j.shiftKey){const Rn=e.originalWidth/e.originalHeight;A/N>Rn?A=N*Rn:N=A/Rn}const he=ee();G=Math.max(0,Math.min(he.width-A,G)),te=Math.max(0,Math.min(he.height-N,te)),A=Math.max(50,Math.min(he.width-G,A)),N=Math.max(50,Math.min(he.height-te,N))}else{const he=e.originalWidth/e.originalHeight,Rn=e.aspectRatioLocked&&!j.shiftKey,Sr=ee();switch(T.handle){case"se":A=Math.max(50,T.width+_),N=Math.max(50,T.height+H);break;case"sw":A=Math.max(50,T.width-_),N=Math.max(50,T.height+H),G=T.imgX+(T.width-A);break;case"ne":A=Math.max(50,T.width+_),N=Math.max(50,T.height-H),te=T.imgY+(T.height-N);break;case"nw":A=Math.max(50,T.width-_),N=Math.max(50,T.height-H),G=T.imgX+(T.width-A),te=T.imgY+(T.height-N);break}if(Rn){const dc=A/N;if(dc>he){const Er=N*he,Mo=A-Er;A=Er,(T.handle==="sw"||T.handle==="nw")&&(G+=Mo)}else if(dc<he){const Er=A/he,Mo=N-Er;N=Er,(T.handle==="ne"||T.handle==="nw")&&(te+=Mo)}}G<0&&(A=A+G,G=0),te<0&&(N=N+te,te=0),G+A>Sr.width&&(A=Sr.width-G),te+N>Sr.height&&(N=Sr.height-te),A=Math.max(50,A),N=Math.max(50,N)}if(n==="grid-snap"){const he=x.current.useSimplifiedResize?44:22;G=Ve(G,he),te=Ve(te,he),A=Ve(A,he),N=Ve(N,he)}kr({x:G,y:te,width:A,height:N})},[T,e.originalWidth,e.originalHeight,e.aspectRatioLocked,kr,ee,n,Ve,k]),bo=v.useCallback(()=>{if(C&&Q){if(n==="grid-snap"){const A=Ve(e.x),N=Ve(e.y);s(e.id,{x:A,y:N})}const j=Math.abs(e.x-Q.imgX),_=Math.abs(e.y-Q.imgY);(j>3||_>3)&&l({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像を移動"}})}if(P&&T){const j=Math.abs(e.width-T.width),_=Math.abs(e.height-T.height);(j>3||_>3)&&(l({type:"ADD_HISTORY_STEP",payload:{action:"resize-image",description:"画像をリサイズ"}}),k.current&&(console.log("[Windows最適化] リサイズ完了:",{handle:T.handle,originalSize:{width:T.width,height:T.height},newSize:{width:e.width,height:e.height},deltaSize:{width:j,height:_},dragMode:n,isFreeModeOptimized:n==="free",optimization:x.current}),n==="free"&&(console.timeEnd("[Windows-Free] リサイズパフォーマンス"),console.log("[Windows-Free] 超軽量最適化が適用されました"))))}if(E.current!==null&&(cancelAnimationFrame(E.current),E.current=null),d.current&&(s(e.id,d.current),d.current=null),C&&n==="free"){B(!0);const j=setTimeout(()=>{B(!1)},150);setTimeout(()=>{clearTimeout(j),B(!1)},150)}b(!1),R(!1),K(null),V(null)},[C,P,Q,T,e.x,e.y,e.width,e.height,l,s,e.id,n,Ve]),Y0=v.useCallback((j,_)=>{j.preventDefault(),j.stopPropagation(),o(e.id),R(!0),V({x:j.clientX,y:j.clientY,imgX:e.x,imgY:e.y,width:e.width,height:e.height,handle:_}),k.current&&(console.log("[Windows最適化] リサイズ開始:",{handle:_,dragMode:n,isFreeModeOptimized:n==="free",optimization:x.current,imageSize:{width:e.width,height:e.height},position:{x:e.x,y:e.y},renderingMode:n==="free"?"ultra-lightweight":"simplified"}),n==="free"&&console.time("[Windows-Free] リサイズパフォーマンス"))},[o,e.id,e.x,e.y,e.width,e.height,n]),G0=v.useCallback(j=>{j.preventDefault(),j.stopPropagation(),o(e.id),ce({x:j.clientX,y:j.clientY})},[o,e.id]);v.useEffect(()=>{if(C||P)return document.addEventListener("mousemove",To),document.addEventListener("mouseup",bo),document.body.style.cursor=C?"grabbing":"nw-resize",()=>{document.removeEventListener("mousemove",To),document.removeEventListener("mouseup",bo),document.body.style.cursor=""}},[C,P,To,bo]),v.useEffect(()=>{const j=()=>ce(null);if(U)return document.addEventListener("click",j),()=>document.removeEventListener("click",j)},[U]);const X0=[{label:"ダウンロード...",icon:vo,action:()=>i==null?void 0:i(e)},{separator:!0},{label:"最前面に移動",icon:Yv,action:()=>{const j=Math.max(...c.images.map(_=>_.zIndex));u(e.id,j+1)}},{label:"前面に移動",icon:Xv,action:()=>{const j=e.zIndex,_=c.images.filter(H=>H.zIndex>j);if(_.length>0){const H=Math.min(..._.map(A=>A.zIndex));u(e.id,H+.5)}}},{label:"背面に移動",icon:Hv,action:()=>{const j=e.zIndex,_=c.images.filter(H=>H.zIndex<j);if(_.length>0){const H=Math.max(..._.map(A=>A.zIndex));u(e.id,H-.5)}}},{label:"最背面に移動",icon:$v,action:()=>{const j=Math.min(...c.images.map(_=>_.zIndex));u(e.id,j-1)}},{separator:!0},{label:"削除",icon:Md,action:()=>a(e.id),danger:!0}];return m.jsxs(m.Fragment,{children:[m.jsxs("div",{ref:p,className:`absolute select-none ${C&&n==="free"||F||k.current&&P&&n==="free"?"":"transition-all duration-75"} ${k.current&&P&&n==="free"?"windows-free-resize":""} ${t?"ring-2 ring-blue-500 ring-offset-2":""} ${C?"z-50":""}`,style:{...k.current&&P&&n==="free"?{left:e.x,top:e.y,transform:"none",willChange:"auto",transition:"none",isolation:"auto",containIntrinsicSize:"none"}:n==="free"&&(C||F)&&!(k.current&&P)?{left:0,top:0,transform:`translate3d(${e.x}px, ${e.y}px, 0)`,willChange:C?"transform":"auto",backfaceVisibility:"hidden",perspective:1e3,...F?{transition:"transform 0.1s ease-out"}:{}}:{left:e.x,top:e.y,transform:"none",...k.current&&P?{willChange:"auto",isolation:"auto",containIntrinsicSize:"none"}:{}},width:e.width,height:e.height,zIndex:e.zIndex,cursor:(n==="free"||n==="grid-snap")&&!P?C?"grabbing":"grab":"default"},onMouseDown:re,onMouseEnter:wr,onMouseLeave:wt,onContextMenu:G0,onClick:z,role:"img","aria-label":`画像 ${e.id}`,tabIndex:0,children:[m.jsx("img",{ref:y,src:e.src,alt:`画像 ${e.id}`,className:`w-full h-full object-cover rounded shadow-lg ${k.current&&P?"image-rendering-speed":""}`,draggable:!1,style:{opacity:e.opacity??1,...k.current&&P&&n==="free"?{transformOrigin:"top left",willChange:"auto",imageRendering:"auto"}:k.current&&P?{transformOrigin:"top left"}:{}}}),M&&!C&&!P&&!U&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute -top-10 left-0 z-9",style:{width:"144px",height:"40px"},onMouseEnter:an,onMouseLeave:cc}),m.jsxs("div",{ref:S,className:"absolute -top-10 left-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg flex items-center px-2 py-1 space-x-1 z-10","data-toolbar":"true",onMouseEnter:an,onMouseLeave:cc,children:[m.jsx("button",{onMouseDown:j=>{j.stopPropagation(),j.preventDefault()},onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("Clipboard button clicked"),f(e.id)},className:"p-1 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"クリップボードにコピー",children:m.jsx(ox,{className:"w-4 h-4"})}),m.jsx("button",{onMouseDown:j=>{j.stopPropagation(),j.preventDefault()},onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("Crop button clicked"),r==null||r(e)},className:"p-1 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"トリミング",children:m.jsx(Jk,{className:"w-4 h-4"})}),m.jsx("button",{onMouseDown:j=>{j.stopPropagation(),j.preventDefault()},onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("Aspect ratio button clicked"),s(e.id,{aspectRatioLocked:!e.aspectRatioLocked})},className:`p-1 rounded transition-colors ${e.aspectRatioLocked?"text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20":"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,title:`アスペクト比${e.aspectRatioLocked?"ロック中":"ロック解除"}`,children:e.aspectRatioLocked?m.jsx(fx,{className:"w-4 h-4"}):m.jsx(px,{className:"w-4 h-4"})}),m.jsx("button",{onMouseDown:j=>{j.stopPropagation(),j.preventDefault()},onClick:j=>{j.stopPropagation(),j.preventDefault(),console.log("Delete button clicked"),a(e.id)},className:"p-1 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"削除",children:m.jsx(Md,{className:"w-4 h-4"})})]})]}),t&&!C&&m.jsx("div",{className:"absolute inset-0 pointer-events-none",children:["nw","ne","sw","se"].map(j=>m.jsx("button",{className:`absolute w-3 h-3 bg-blue-500 border-2 border-white rounded-full pointer-events-auto transition-opacity hover:opacity-100 ${M||P?"opacity-100":"opacity-0"} ${j==="nw"?"-top-1.5 -left-1.5 cursor-nw-resize":j==="ne"?"-top-1.5 -right-1.5 cursor-ne-resize":j==="sw"?"-bottom-1.5 -left-1.5 cursor-sw-resize":"-bottom-1.5 -right-1.5 cursor-se-resize"}`,onMouseDown:_=>Y0(_,j),title:`${j.toUpperCase()}角をドラッグしてリサイズ`},j))})]}),U&&m.jsx("div",{className:"fixed bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg py-1 z-50 min-w-48",style:{left:U.x,top:U.y},children:X0.map((j,_)=>j.separator?m.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"},_):m.jsxs("button",{onClick:()=>{var H;(H=j.action)==null||H.call(j),ce(null)},className:`w-full text-left px-4 py-2 text-sm flex items-center space-x-2 transition-colors ${j.danger?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[j.icon&&m.jsx(j.icon,{className:"w-4 h-4"}),m.jsx("span",{children:j.label})]},_))})]})},tS=({visible:e,gridSize:t=22,canvasWidth:n,canvasHeight:r})=>{if(!e)return null;const i=[],s=[];for(let o=0;o<=n;o+=t)i.push(m.jsx("line",{x1:o,y1:0,x2:o,y2:r,stroke:"currentColor",strokeWidth:"0.5",opacity:"0.15"},`v-${o}`));for(let o=0;o<=r;o+=t)s.push(m.jsx("line",{x1:0,y1:o,x2:n,y2:o,stroke:"currentColor",strokeWidth:"0.5",opacity:"0.15"},`h-${o}`));return m.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:m.jsxs("svg",{width:n,height:r,className:"w-full h-full text-slate-600 dark:text-slate-400",children:[i,s]})})},nS=({onStartCrop:e,onStartDownload:t})=>{const{state:n,selectImage:r,updateImage:i,dispatch:s}=At(),{handleFileDrop:o}=hm(),a=v.useRef(null),[l,u]=v.useState(!1),[c,f]=v.useState({width:800,height:600});v.useLayoutEffect(()=>{const h=()=>{if(a.current){const d=a.current.getBoundingClientRect();f({width:d.width,height:d.height})}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),v.useEffect(()=>{const h=d=>{if(n.dragMode!=="grid-snap"||!n.selectedImageId)return;const g=document.activeElement;if(g&&(g.tagName==="INPUT"||g.tagName==="TEXTAREA"||g.getAttribute("contenteditable")==="true"))return;const k=n.images.find(M=>M.id===n.selectedImageId);if(!k)return;const x=22,C=d.shiftKey?x*2:x;let b=k.x,P=k.y,R=!1;switch(d.key){case"ArrowLeft":d.preventDefault(),b=Math.max(0,k.x-C),R=!0;break;case"ArrowRight":d.preventDefault(),b=Math.min(c.width-k.width,k.x+C),R=!0;break;case"ArrowUp":d.preventDefault(),P=Math.max(0,k.y-C),R=!0;break;case"ArrowDown":d.preventDefault(),P=Math.min(c.height-k.height,k.y+C),R=!0;break;default:return}R&&(b=Math.round(b/x)*x,P=Math.round(P/x)*x,i(n.selectedImageId,{x:b,y:P}),s({type:"ADD_HISTORY_STEP",payload:{action:"move-image",description:"画像をグリッドで移動"}}))};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[n.dragMode,n.selectedImageId,n.images,c,i,s]);const p=v.useCallback(h=>{h.preventDefault(),h.stopPropagation(),u(!0)},[]),y=v.useCallback(h=>{var g;h.preventDefault(),h.stopPropagation();const d=(g=a.current)==null?void 0:g.getBoundingClientRect();d&&(h.clientX<d.left||h.clientX>d.right||h.clientY<d.top||h.clientY>d.bottom)&&u(!1)},[]),S=v.useCallback(async h=>{h.preventDefault(),h.stopPropagation(),u(!1);const d=h.dataTransfer.files;d.length>0&&await o(d)},[o]),w=v.useCallback(h=>{h.target===h.currentTarget&&r(null)},[r]),E=n.images.filter(h=>h.visible).sort((h,d)=>h.zIndex-d.zIndex);return m.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-slate-100 dark:bg-slate-800",children:[m.jsxs("div",{ref:a,id:"image-canvas",className:`absolute inset-0 overflow-auto transition-colors duration-200 ${l?"bg-blue-100 dark:bg-blue-900/30":"bg-slate-100 dark:bg-slate-800"}`,onClick:w,onDragOver:p,onDragLeave:y,onDrop:S,role:"application","aria-label":"画像編集キャンバス",children:[m.jsx(tS,{visible:n.dragMode==="grid-snap",gridSize:22,canvasWidth:c.width,canvasHeight:c.height}),l&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 pointer-events-none",children:m.jsx("div",{className:"bg-white dark:bg-slate-700 rounded-xl p-10 shadow-lg border-2 border-dashed border-blue-400 dark:border-blue-500",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-5xl mb-4",children:"📁"}),m.jsx("h3",{className:"text-xl font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"ファイルをドロップして追加"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"画像ファイルをここにドロップしてください"})]})})}),E.map(h=>m.jsx(eS,{image:h,isSelected:n.selectedImageId===h.id,dragMode:n.dragMode,onStartCrop:e,onStartDownload:t},h.id))]}),n.images.length===0&&!l&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsxs("div",{className:"text-center p-8 max-w-md opacity-70",children:[m.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-500 dark:text-slate-400 mb-4",children:"キャンバスが空です"}),m.jsxs("div",{className:"space-y-2 text-slate-400 dark:text-slate-500",children:[m.jsx("p",{children:"画像を追加する方法："}),m.jsxs("ul",{className:"text-sm space-y-1",children:[m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Ctrl+V"})," (Mac: ⌘V) でクリップボードから貼り付け"]}),m.jsx("li",{children:"• 画像ファイルをドラッグ&ドロップ"})]})]})]})}),m.jsxs("div",{className:"sr-only",children:[m.jsx("p",{children:"画像編集キャンバス。画像をドラッグして移動、リサイズハンドルでサイズ変更、 右クリックでコンテキストメニューを表示できます。"}),m.jsx("p",{children:"キーボードショートカット: Ctrl+V で貼り付け、L でレイヤーサイドバー表示、 Ctrl+Z で元に戻す、矢印キーで選択画像を移動。"})]})]})},rS=({isOpen:e,onClose:t})=>{const{state:n,toggleLayerVisibility:r,reorderLayer:i,selectImage:s}=At(),{images:o,selectedImageId:a}=n,[l,u]=v.useState(null),[c,f]=v.useState(null),p=[...o].sort((x,C)=>C.zIndex-x.zIndex),y=x=>{r(x)},S=x=>{s(x)},w=(x,C)=>{u(C),x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",C),x.target instanceof HTMLElement&&(x.target.style.opacity="0.5")},E=(x,C)=>{x.preventDefault(),x.dataTransfer.dropEffect="move",f(C)},h=x=>{x.currentTarget.contains(x.relatedTarget)||f(null)},d=(x,C)=>{if(x.preventDefault(),!l)return;const b=p.findIndex(M=>M.id===l);if(b===-1||b===C){u(null),f(null);return}const R=p[C].zIndex;i(l,R),u(null),f(null)},g=x=>{x.target instanceof HTMLElement&&(x.target.style.opacity=""),u(null),f(null)},k=x=>m.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded border overflow-hidden flex-shrink-0",style:{backgroundImage:`url(${x.src})`,backgroundSize:"cover",backgroundPosition:"center"}});return m.jsx(wo,{children:e&&m.jsxs(m.Fragment,{children:[m.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:t}),m.jsxs(tn.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-80 bg-white dark:bg-gray-800 shadow-2xl z-50 flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"レイヤー管理"}),m.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"レイヤーサイドバーを閉じる",children:m.jsx(xi,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),m.jsx("div",{className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/20 border-b border-gray-200 dark:border-gray-700",children:m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 text-center",children:"ドラッグ&ドロップでレイヤーの順序を変更できます"})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:p.length===0?m.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:[m.jsx("p",{children:"画像がありません"}),m.jsx("p",{className:"text-sm mt-1",children:"Ctrl+V で画像を貼り付けてください"})]}):p.map((x,C)=>m.jsxs("div",{draggable:!0,onDragStart:b=>w(b,x.id),onDragOver:b=>E(b,C),onDragLeave:h,onDrop:b=>d(b,C),onDragEnd:b=>g(b),className:`
                      p-3 rounded-lg border transition-all duration-200 select-none
                      ${a===x.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-md":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}
                      ${x.visible?"":"opacity-50"}
                      ${c===C&&l!==x.id?"border-2 border-dashed border-blue-400 bg-blue-100 dark:bg-blue-800/30 transform scale-105":"cursor-grab active:cursor-grabbing"}
                      ${l===x.id?"shadow-2xl border-blue-500 z-10 opacity-30 transform scale-95":""}
                    `,onClick:()=>S(x.id),children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(mm,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}),k(x),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:["レイヤー ",p.length-C]}),m.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["z: ",x.zIndex]})]}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[Math.round(x.width)," × ",Math.round(x.height)," px"]}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",Math.round(x.x),", ",Math.round(x.y),")"]})]}),m.jsx("div",{className:"flex-shrink-0",children:m.jsx("button",{onClick:b=>{b.stopPropagation(),y(x.id)},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":x.visible?"非表示にする":"表示する",children:x.visible?m.jsx(ju,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}):m.jsx(gm,{className:"w-4 h-4 text-gray-400"})})})]}),c===C&&l!==x.id&&m.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-blue-500 rounded-full opacity-100"})]},x.id))}),m.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center space-y-1",children:[m.jsx("p",{children:"Lキー: サイドバー切替"}),m.jsx("p",{children:"ドラッグ&ドロップ: レイヤー順序変更"}),m.jsx("p",{children:"目のアイコン: 表示/非表示切替"})]})})]})]})})},iS=({image:e,onClose:t})=>{const{dispatch:n}=At(),[r,i]=v.useState({x:0,y:0,width:Math.min(e.width*.8,300),height:Math.min(e.height*.8,300)}),[s,o]=v.useState(!1),[a,l]=v.useState({x:0,y:0}),[u,c]=v.useState(!1),f=v.useRef(null),p=v.useRef(null),y=Math.min(window.innerWidth*.8,800),S=Math.min(window.innerHeight*.8,600),w=e.width/e.height;let E=y,h=y/w;h>S&&(h=S,E=S*w);const d=E/e.width,g=h/e.height,k=v.useCallback((M,I)=>{if(!f.current)return{x:0,y:0};const F=f.current.getBoundingClientRect(),B=M-F.left,U=I-F.top;return{x:Math.max(0,Math.min(B/d,e.width)),y:Math.max(0,Math.min(U/g,e.height))}},[d,g,e.width,e.height]),x=v.useCallback(M=>{if(M.preventDefault(),M.stopPropagation(),!f.current)return;const I=k(M.clientX,M.clientY);o(!0),l({x:M.clientX,y:M.clientY}),i({x:I.x,y:I.y,width:0,height:0})},[k]),C=v.useCallback(M=>{if(!s||!f.current)return;const I=k(a.x,a.y),F=k(M.clientX,M.clientY),B={x:Math.max(0,Math.min(I.x,F.x)),y:Math.max(0,Math.min(I.y,F.y)),width:Math.abs(F.x-I.x),height:Math.abs(F.y-I.y)};B.x=Math.max(0,Math.min(B.x,e.width)),B.y=Math.max(0,Math.min(B.y,e.height)),B.width=Math.min(B.width,e.width-B.x),B.height=Math.min(B.height,e.height-B.y),i(B)},[s,a,k,e.width,e.height]),b=v.useCallback(()=>{o(!1)},[]);v.useEffect(()=>{if(s)return document.addEventListener("mousemove",C),document.addEventListener("mouseup",b),document.body.style.cursor="crosshair",()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",b),document.body.style.cursor=""}},[s,C,b]);const P=(M,I)=>{const F=Math.max(0,parseInt(I)||0);i(B=>{const U={...B,[M]:F};return(M==="x"||M==="width")&&(U.x=Math.min(U.x,e.width-1),U.width=Math.min(U.width,e.width-U.x)),(M==="y"||M==="height")&&(U.y=Math.min(U.y,e.height-1),U.height=Math.min(U.height,e.height-U.y)),U})},R=async()=>{if(!(r.width<=0||r.height<=0)){c(!0);try{const M=document.createElement("canvas"),I=M.getContext("2d");if(!I)throw new Error("Canvas context not available");M.width=r.width,M.height=r.height;const F=new Image;F.crossOrigin="anonymous",await new Promise((U,ce)=>{F.onload=()=>{I.drawImage(F,r.x,r.y,r.width,r.height,0,0,r.width,r.height),U()},F.onerror=ce,F.src=e.src});const B=M.toDataURL("image/png");n({type:"UPDATE_IMAGE",payload:{id:e.id,updates:{src:B,width:r.width,height:r.height,originalWidth:r.width,originalHeight:r.height}}}),n({type:"ADD_HISTORY_STEP",payload:{action:"crop-image",description:"画像をトリミング"}}),console.info("✅ トリミングが正常に完了しました",{originalSize:`${e.width}×${e.height}`,croppedSize:`${r.width}×${r.height}`,cropArea:`(${Math.round(r.x)}, ${Math.round(r.y)})`}),t()}catch(M){console.error("Crop failed:",M),alert("トリミングに失敗しました。")}finally{c(!1)}}};return v.useEffect(()=>{const M=I=>{I.key==="Escape"?t():I.key==="Enter"&&!u&&R()};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[t,u]),m.jsx(wo,{children:m.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:t,children:m.jsxs(tn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-6xl w-full max-h-full overflow-hidden",onClick:M=>M.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"画像をトリミング"}),m.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"トリミングをキャンセル",children:m.jsx(xi,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),m.jsxs("div",{className:"flex flex-col lg:flex-row",children:[m.jsx("div",{className:"flex-1 p-4",children:m.jsxs("div",{className:"relative inline-block",ref:p,children:[m.jsx("img",{ref:f,src:e.src,alt:"Crop preview",className:"max-w-full max-h-full object-contain cursor-crosshair select-none",style:{width:E,height:h},onMouseDown:x,draggable:!1}),r.width>0&&r.height>0&&m.jsxs("div",{className:"absolute border-2 border-blue-500 bg-blue-500 bg-opacity-20 pointer-events-none",style:{left:r.x*d,top:r.y*g,width:r.width*d,height:r.height*g},children:[m.jsxs("div",{className:"absolute -top-6 left-0 bg-blue-500 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:[Math.round(r.width)," × ",Math.round(r.height)]}),m.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-blue-500 border border-white rounded-full"}),m.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 border border-white rounded-full"}),m.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-blue-500 border border-white rounded-full"}),m.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-blue-500 border border-white rounded-full"})]})]})}),m.jsx("div",{className:"w-full lg:w-80 p-4 border-t lg:border-t-0 lg:border-l border-gray-200 dark:border-gray-700",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"トリミング範囲"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"X座標"}),m.jsx("input",{type:"number",min:"0",max:e.width-1,value:Math.round(r.x),onChange:M=>P("x",M.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Y座標"}),m.jsx("input",{type:"number",min:"0",max:e.height-1,value:Math.round(r.y),onChange:M=>P("y",M.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"幅"}),m.jsx("input",{type:"number",min:"1",max:e.width-r.x,value:Math.round(r.width),onChange:M=>P("width",M.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"高さ"}),m.jsx("input",{type:"number",min:"1",max:e.height-r.y,value:Math.round(r.height),onChange:M=>P("height",M.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),m.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[m.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"元画像情報"}),m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[m.jsxs("p",{children:["サイズ: ",e.width," × ",e.height,"px"]}),m.jsxs("p",{children:["選択範囲: ",Math.round(r.width)," ×"," ",Math.round(r.height),"px"]})]})]}),m.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[m.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:[m.jsx("p",{children:"• ドラッグして範囲を選択"}),m.jsx("p",{children:"• 数値入力で精密調整"}),m.jsx("p",{children:"• Enter: 適用 / Esc: キャンセル"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:R,disabled:u||r.width<=0||r.height<=0,className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white text-sm font-medium rounded transition-colors",children:u?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx(ix,{className:"w-4 h-4 mr-1"}),"適用"]})}),m.jsxs("button",{onClick:t,disabled:u,className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white text-sm font-medium rounded transition-colors",children:[m.jsx(xi,{className:"w-4 h-4 mr-1"}),"キャンセル"]})]})]})]})})]})]})})})},sS=({image:e,onClose:t,onDownload:n})=>{const[r,i]=v.useState("png"),[s,o]=v.useState(80),[a,l]=v.useState(""),[u,c]=v.useState(""),[f,p]=v.useState(!1),y=v.useRef(null),S=[{value:"png",label:"PNG",description:"可逆圧縮、透明度サポート、最高品質"},{value:"jpeg",label:"JPEG",description:"非可逆圧縮、小さなファイルサイズ"},{value:"webp",label:"WebP",description:"高効率圧縮、モダンフォーマット"}],w=[{value:100,label:"100%",description:"最高品質（大きなファイル）"},{value:80,label:"80%",description:"高品質（推奨）"},{value:60,label:"60%",description:"標準品質（小さなファイル）"}];v.useEffect(()=>{(async()=>{if(y.current){p(!0);try{const g=y.current,k=g.getContext("2d");if(!k)return;g.width=e.width,g.height=e.height;const x=new Image;x.crossOrigin="anonymous",await new Promise((I,F)=>{x.onload=()=>{k.drawImage(x,0,0,e.width,e.height),I()},x.onerror=F,x.src=e.src});let C="image/png",b;r==="jpeg"?(C="image/jpeg",b=s/100):r==="webp"&&(C="image/webp",b=s/100);const P=g.toDataURL(C,b);l(P);const M=P.split(",")[1].length*3/4;M<1024?c(`${Math.round(M)} B`):M<1048576?c(`${Math.round(M/1024)} KB`):c(`${(M/1048576).toFixed(1)} MB`)}catch(g){console.error("Preview generation failed:",g),l(e.src),c("不明")}finally{p(!1)}}})()},[e,r,s]);const E=()=>{n(r,s),t()},h=d=>{d.key==="Escape"?(d.preventDefault(),d.stopPropagation(),t()):d.key==="Enter"&&(d.preventDefault(),d.stopPropagation(),E())};return v.useEffect(()=>{const d=g=>{g.key==="Escape"?(g.preventDefault(),t()):g.key==="Enter"&&(g.preventDefault(),E())};return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[t,r,s,n]),m.jsx(wo,{children:m.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:m.jsxs(tn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden",onClick:d=>d.stopPropagation(),onKeyDown:h,children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 flex-shrink-0",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"画像をダウンロード"}),m.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-label":"ダイアログを閉じる",children:m.jsx(xi,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:"relative",children:[f&&m.jsx("div",{className:"absolute inset-0 bg-white dark:bg-slate-800 bg-opacity-75 flex items-center justify-center z-10",children:m.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),m.jsx("img",{src:a||e.src,alt:"Download preview",className:"max-w-full max-h-48 object-contain border border-slate-200 dark:border-slate-600 rounded"}),m.jsx("canvas",{ref:y,className:"hidden"})]})}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-3",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(vx,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"}),m.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:"画像情報"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-slate-600 dark:text-slate-300",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block text-slate-500 dark:text-slate-400",children:"サイズ"}),m.jsxs("span",{children:[e.width," × ",e.height,"px"]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-slate-500 dark:text-slate-400",children:"推定ファイルサイズ"}),m.jsx("span",{className:"font-medium",children:u})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:"ファイル形式"}),m.jsx("div",{className:"space-y-2",children:S.map(d=>m.jsxs("label",{className:`
                      flex items-start p-3 border rounded-lg cursor-pointer transition-colors
                      ${r===d.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}
                    `,children:[m.jsx("input",{type:"radio",name:"format",value:d.value,checked:r===d.value,onChange:g=>i(g.target.value),className:"mt-1 mr-3"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:d.label}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:d.description})]})]},d.value))})]}),(r==="jpeg"||r==="webp")&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:"画質"}),m.jsx("div",{className:"space-y-2",children:w.map(d=>m.jsxs("label",{className:`
                        flex items-start p-3 border rounded-lg cursor-pointer transition-colors
                        ${s===d.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}
                      `,children:[m.jsx("input",{type:"radio",name:"quality",value:d.value,checked:s===d.value,onChange:g=>o(parseInt(g.target.value)),className:"mt-1 mr-3"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:d.label}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:d.description})]})]},d.value))})]}),(r==="jpeg"||r==="webp")&&m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:["カスタム画質: ",s,"%"]}),m.jsx("input",{type:"range",min:"10",max:"100",step:"5",value:s,onChange:d=>o(parseInt(d.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer"}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.jsx("span",{children:"低画質"}),m.jsx("span",{children:"高画質"})]})]}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:m.jsx("p",{children:"Enter: ダウンロード / Esc: キャンセル"})})]}),m.jsxs("div",{className:"flex space-x-3 p-4 border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 flex-shrink-0",children:[m.jsxs("button",{onClick:E,disabled:f,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white font-medium rounded-lg transition-colors",children:[m.jsx(vo,{className:"w-4 h-4 mr-2"}),"ダウンロード"]}),m.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white font-medium rounded-lg transition-colors",children:"キャンセル"})]})]})})})},oS=()=>{const{state:e,dispatch:t}=At(),[n,r]=v.useState(null),[i,s]=v.useState(null),[o,a]=v.useState({modern:!1,legacy:!0});hm(),zv(),v.useEffect(()=>{(()=>{const S=!!(navigator.clipboard&&navigator.clipboard.read),w=!!(navigator.clipboard&&"ClipboardEvent"in window);a({modern:S,legacy:w}),S||console.info("Modern Clipboard API not supported. Using legacy paste events for compatibility.")})()},[]);const l=y=>{r(y)},u=()=>{r(null)},c=y=>{s(y)},f=()=>{s(null)},p=async(y,S)=>{if(i)try{const w=document.createElement("canvas"),E=w.getContext("2d");if(!E)throw new Error("Canvas context not available");w.width=i.width,w.height=i.height;const h=new Image;h.crossOrigin="anonymous",await new Promise((x,C)=>{h.onload=()=>{E.drawImage(h,0,0,i.width,i.height),x()},h.onerror=C,h.src=i.src});let d="image/png",g,k="png";y==="jpeg"?(d="image/jpeg",g=S/100,k="jpg"):y==="webp"&&(d="image/webp",g=S/100,k="webp"),w.toBlob(x=>{if(!x)return;const C=URL.createObjectURL(x),b=document.createElement("a");b.href=C,b.download=`image_${Date.now()}.${k}`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(C)},d,g)}catch(w){console.error("Download failed:",w),alert("ダウンロードに失敗しました。")}};return m.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 dark:bg-slate-900 overflow-hidden",children:[m.jsx(qk,{}),m.jsxs("div",{className:"flex flex-1 overflow-hidden relative bg-slate-100 dark:bg-slate-800",children:[m.jsx("div",{className:"flex-1 relative overflow-hidden",children:m.jsx(nS,{onStartCrop:l,onStartDownload:c})}),m.jsx(rS,{isOpen:e.layerSidebarVisible,onClose:()=>t({type:"TOGGLE_LAYER_SIDEBAR"})})]}),e.isLoading&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 dark:border-blue-400"}),m.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"画像を処理中..."})]})})}),e.images.length===0&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsxs("div",{className:"text-center p-8 max-w-md bg-white dark:bg-slate-700 rounded-xl shadow-lg border border-slate-200 dark:border-slate-600",children:[m.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:"Image Canvas へようこそ"}),m.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"クリップボードから画像を貼り付けて編集を始めましょう"}),m.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 space-y-1",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Ctrl+V"})," (Mac: ⌘V) - 画像を貼り付け",!o.modern&&m.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 ml-2",children:"(レガシーモード)"})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"L"})," - レイヤーサイドバー表示"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Ctrl+Z"})," (Mac: ⌘Z) - 元に戻す"]}),!o.modern&&m.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2 italic",children:"このブラウザではレガシークリップボード機能を使用します"})]})]})}),n&&m.jsx(iS,{image:n,onClose:u}),i&&m.jsx(sS,{image:i,onClose:f,onDownload:p})]})};class aS extends v.Component{constructor(n){super(n);jo(this,"handleReload",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});jo(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null});try{localStorage.removeItem("imageCanvas-state"),console.info("Local storage cleared due to error recovery")}catch(n){console.warn("Failed to clear local storage:",n)}});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?m.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-lg w-full",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[m.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:m.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),m.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"アプリケーションエラー"})]}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"申し訳ございません。予期しないエラーが発生しました。以下のオプションをお試しください。"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:this.handleReset,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors",children:"データをリセットして続行"}),m.jsx("button",{onClick:this.handleReload,className:"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md transition-colors",children:"ページを再読み込み"})]}),!1]})}):this.props.children}}ya.createRoot(document.getElementById("root")).render(m.jsx(pg.StrictMode,{children:m.jsx(aS,{children:m.jsx(Fv,{children:m.jsx(oS,{})})})}));
